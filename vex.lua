local k=tick()local l=false;local m=false;local n=false;local o={}local p;local function q(a,b,c)if type(b)==a then return b end;return c end;local r=q("function",cloneref,function(...)return...end)local r=setmetatable({},{__index=function(a,b)a[b]=r(game:GetService(b))return a[b]end})local s=game;local t=workspace.Parent;local a={Explorer=function()local a,b,c,d;local e,f,g,h;local i,j,k,q,r,s,u;local function v(e)a=e.Main;b=e.Lib;c=e.Apps;d=e.Settings;i=e.API;j=e.RMD;k=e.env;q=e.service;r=e.plr;s=e.create;u=e.createSimple end;local function u()e=c.Explorer;f=c.Properties;g=c.ScriptViewer;h=c.Notebook end;local function c()local c={}local e,h,u,v,w={},{},{},{},{}local w;local x,y,z,A,B,C;local D=t.FindFirstAncestorWhichIsA;local E=t.GetDescendants;local F=q.TextService.GetTextSize;local G,H=false,false;local I={Obj=Instance.new("Folder")}local J=0;local K,L,M;local N,O,P;local Q,R;local S,T=table,math;local U,V={},{}local W=t.DescendantAdded.Connect;local X,Y,Z=nil,nil,nil;X=function(a)if o[a]then return end;local b=false;local d=D(a,"Instance")local e=o[d]if not e then if U[a]then V[a]=V[a]or{W(a.ChildAdded,X),W(a.AncestryChanged,Z)}e=I;b=true else return end elseif U[d]or e==I then U[a]=true;V[a]=V[a]or{W(a.ChildAdded,X),W(a.AncestryChanged,Z)}b=true end;local d={Obj=a,Parent=e}o[a]=d;if Q and w[e]and e.Sorted then local a,b=1,#e;local f=T.floor;local c=c.NodeSorter;local g=(b==0 and 1)if not g then while true do if a>=b then if c(d,e[a])then g=a else g=a+1 end;break end;local f=f((a+b)/2)if c(d,e[f])then b=f-1 else a=f+1 end end end;S.insert(e,g,d)else e[#e+1]=d;e.Sorted=nil end;local a=E(a)for c=1,#a do local a=a[c]if o[a]then continue end;local c=o[D(a,"Instance")]if not c then continue end;local d={Obj=a,Parent=c}o[a]=d;c[#c+1]=d;if b then U[a]=true;V[a]=V[a]or{W(a.ChildAdded,X),W(a.AncestryChanged,Z)}end end;if P and R then P({d})end;if not G and c.IsNodeVisible(e)then if w[e]then c.PerformUpdate()elseif not H then c.PerformRefresh()end end end;Y=function(a)local b=o[a]if not b then return end;if U[b.Obj]then Z(b.Obj)return end;local d=b.Parent;if d then d.HasDel=true end;local function e(a)for b=1,#a do local a=a[b]if not a.Del then o[a.Obj]=nil;if#a>0 then e(a)end end end end;e(b)b.Del=true;o[a]=nil;if d and not G and c.IsNodeVisible(d)then if w[d]then c.PerformUpdate()elseif not H then c.PerformRefresh()end end end;Z=function(a)local b=o[a]if not b then return end;local d=b.Parent;local e=o[D(a,"Instance")]if d==e then return end;if not e then if U[a]then e=I else return end elseif U[e.Obj]or e==I then U[a]=true;V[a]=V[a]or{W(a.ChildAdded,X),W(a.AncestryChanged,Z)}end;if d then local a=S.find(d,b)if a then S.remove(d,a)end end;b.Id=nil;b.Parent=e;if Q and w[e]and e.Sorted then local a,d=1,#e;local f=T.floor;local c=c.NodeSorter;local g=(d==0 and 1)if not g then while true do if a>=d then if c(b,e[a])then g=a else g=a+1 end;break end;local f=f((a+d)/2)if c(b,e[f])then d=f-1 else a=f+1 end end end;S.insert(e,g,b)else e[#e+1]=b;e.Sorted=nil end;if P and v[b]then local a=b.Parent;while a and(not v[a]or w[a]==0)do w[a]=true;v[a]=true;a=a.Parent end end;if not G and(c.IsNodeVisible(e)or c.IsNodeVisible(d))then if w[e]or w[d]then c.PerformUpdate()elseif not H then c.PerformRefresh()end end end;c.ViewWidth=0;c.Index=0;c.EntryIndent=20;c.FreeWidth=32;c.GuiElems={}c.InitRenameBox=function()N=s({{1,"TextBox",{BackgroundColor3=Color3.new(0.17647059261799,0.17647059261799,0.17647059261799),BorderColor3=Color3.new(0.062745101749897,0.51764708757401,1),BorderMode=2,ClearTextOnFocus=false,Font=3,Name="RenameBox",PlaceholderColor3=Color3.new(0.69803923368454,0.69803923368454,0.69803923368454),Position=UDim2.new(0,26,0,2),Size=UDim2.new(0,200,0,16),Text="",TextColor3=Color3.new(1,1,1),TextSize=14,TextXAlignment=0,Visible=false,ZIndex=2}}})N.Parent=c.Window.GuiElems.Content.List;N.FocusLost:Connect(function()if not O then return end;pcall(function()O.Obj.Name=N.Text end)O=nil;c.Refresh()end)N.Focused:Connect(function()N.SelectionStart=1;N.CursorPosition=#N.Text+1 end)end;c.SetRenamingNode=function(a)O=a;N.Text=tostring(a.Obj)N:CaptureFocus()c.Refresh()end;c.SetSortingEnabled=function(a)Q=a;d.Explorer.Sorting=a end;c.UpdateView=function()local a=T.ceil(y.AbsoluteSize.Y/20)local b=y.AbsoluteSize.X;local d=c.ViewWidth+c.FreeWidth;K.VisibleSpace=a;K.TotalSpace=#e+1;L.VisibleSpace=b;L.TotalSpace=d;K.Gui.Visible=#e+1>a;L.Gui.Visible=d>b;local a=y.Size;y.Size=UDim2.new(1,(K.Gui.Visible and-16 or 0),1,(L.Gui.Visible and-39 or-23))if a~=y.Size then c.UpdateView()else K:Update()L:Update()N.Size=UDim2.new(0,b-100,0,16)if K.Gui.Visible and L.Gui.Visible then K.Gui.Size=UDim2.new(0,16,1,-39)L.Gui.Size=UDim2.new(1,-16,0,16)c.Window.GuiElems.Content.ScrollCorner.Visible=true else K.Gui.Size=UDim2.new(0,16,1,-23)L.Gui.Size=UDim2.new(1,0,0,16)c.Window.GuiElems.Content.ScrollCorner.Visible=false end;c.Index=K.Index end end;c.NodeSorter=function(a,b)if a.Del or b.Del then return false end;local c=a.Class;local d=b.Class;if not c then c=a.Obj.ClassName;a.Class=c end;if not d then d=b.Obj.ClassName;b.Class=d end;local e=u[c]local f=u[d]if not e then e=j.Classes[c]and tonumber(j.Classes[c].ExplorerOrder)or 9999;u[c]=e end;if not f then f=j.Classes[d]and tonumber(j.Classes[d].ExplorerOrder)or 9999;u[d]=f end;if e~=f then return e<f else local e,f=tostring(a.Obj),tostring(b.Obj)if e~=f then return e<f elseif c~=d then return c<d else local c=a.Id;if not c then c=J;J=(J+0.001)%999999999;a.Id=c end;local a=b.Id;if not a then a=J;J=(J+0.001)%999999999;b.Id=a end;return c<a end end end;c.Update=function()S.clear(e)local a,b,f=0,1,1;local g={}local h=Enum.Font.SourceSans;local i=Vector2.new(T.huge,20)local d=d.Explorer.UseNameWidth;local j=S.sort;local l=c.NodeSorter;local m=(w==c.SearchExpanded)local n=q.TextService;local function p(c,k)if k>b then b=k end;k=k+1;if Q and not c.Sorted then j(c,l)c.Sorted=true end;for b=1,#c do local b=c[b]if(m and not v[b])or b.Del then continue end;if d then local c=b.NameWidth;if not c then local a=tostring(b.Obj)c=g[a]if not c then c=F(n,a,14,h,i).X;g[a]=c end;b.NameWidth=c end;if c>a then a=c end end;e[f]=b;f=f+1;if w[b]and#b>0 then p(b,k)end end end;p(o[t],1)if k.getnilinstances then if not(m and not v[I])then e[f]=I;f=f+1;if w[I]then p(I,2)end end end;c.MaxNameWidth=a;c.MaxDepth=b;c.ViewWidth=d and c.EntryIndent*b+a+26 or c.EntryIndent*b+226;c.UpdateView()end;c.StartDrag=function(d,f)if c.Dragging then return end;for a,a in next,p.List do local a=a.Obj;if a.Parent==t or a:IsA("Player")then return end end;c.Dragging=true;local g=y:Clone()g:ClearAllChildren()for a,b in pairs(h)do local a=e[a+c.Index]if a and p.Map[a]then local a=b:Clone()a.Active=false;a.Indent.Expand.Visible=false;a.Parent=g end end;local i=Instance.new("ScreenGui")i.DisplayOrder=a.DisplayOrders.Menu;g.Parent=i;b.ShowGui(i)local j=s({{1,"Frame",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,Name="DragSelect",Size=UDim2.new(1,0,1,0)}},{2,"Frame",{BackgroundColor3=Color3.new(1,1,1),BorderSizePixel=0,Name="Line",Parent={1},Size=UDim2.new(1,0,0,1),ZIndex=2}},{3,"Frame",{BackgroundColor3=Color3.new(1,1,1),BorderSizePixel=0,Name="Line",Parent={1},Position=UDim2.new(0,0,1,-1),Size=UDim2.new(1,0,0,1),ZIndex=2}},{4,"Frame",{BackgroundColor3=Color3.new(1,1,1),BorderSizePixel=0,Name="Line",Parent={1},Size=UDim2.new(0,1,1,0),ZIndex=2}},{5,"Frame",{BackgroundColor3=Color3.new(1,1,1),BorderSizePixel=0,Name="Line",Parent={1},Position=UDim2.new(1,-1,0,0),Size=UDim2.new(0,1,1,0),ZIndex=2}}})j.Parent=y;local a=a.Mouse or q.Players.LocalPlayer:GetMouse()local function k()local c=a.X-d;local a=a.Y-f;g.Position=UDim2.new(0,c,0,a)for a=1,#h do local a=h[a]if b.CheckMouseInGui(a)then j.Position=UDim2.new(0,a.Indent.Position.X.Offset-L.Index,0,a.Position.Y.Offset)j.Size=UDim2.new(0,a.Size.X.Offset-a.Indent.Position.X.Offset,0,20)j.Visible=true;return end end;j.Visible=false end;k()local a=q.UserInputService;local d,f;d=a.InputChanged:Connect(function(a)if a.UserInputType==Enum.UserInputType.MouseMovement or a.UserInputType==Enum.UserInputType.Touch then k()end end)f=a.InputEnded:Connect(function(a)if a.UserInputType==Enum.UserInputType.MouseButton1 or a.UserInputType==Enum.UserInputType.Touch then f:Disconnect()d:Disconnect()i:Destroy()j:Destroy()c.Dragging=false;for a=1,#h do if b.CheckMouseInGui(h[a])then local a=e[a+c.Index]if a then if p.Map[a]then return end;local a=a.Obj;local b=p.List;for c=1,#b do local b=b[c]pcall(function()b.Obj.Parent=a end)end;c.ViewNode(b[1])end;break end end end end)end;c.NewListEntry=function(b)local f=x:Clone()f.Position=UDim2.new(0,0,0,20*(b-1))local g=false;f.InputBegan:Connect(function(a)local b=e[b+c.Index]if not b or p.Map[b]or(a.UserInputType~=Enum.UserInputType.MouseMovement and a.UserInputType~=Enum.UserInputType.Touch)then return end;f.Indent.BackgroundColor3=d.Theme.Button;f.Indent.BorderSizePixel=0;f.Indent.BackgroundTransparency=0 end)f.InputEnded:Connect(function(a)local b=e[b+c.Index]if not b or p.Map[b]or(a.UserInputType~=Enum.UserInputType.MouseMovement and a.UserInputType~=Enum.UserInputType.Touch)then return end;f.Indent.BackgroundTransparency=1 end)f.MouseButton1Down:Connect(function()end)f.MouseButton1Up:Connect(function()end)f.InputBegan:Connect(function(b)if b.UserInputType==Enum.UserInputType.MouseButton1 or b.UserInputType==Enum.UserInputType.Touch then local d,e;local a=a.Mouse or r:GetMouse()local f,h;if b.UserInputType==Enum.UserInputType.Touch then f=b.Position.X;h=b.Position.Y else f=a.X;h=a.Y end;local b=f-y.AbsolutePosition.X;local i=h-y.AbsolutePosition.Y;d=q.UserInputService.InputEnded:Connect(function(a)if a.UserInputType==Enum.UserInputType.MouseButton1 or a.UserInputType==Enum.UserInputType.Touch then d:Disconnect()e:Disconnect()end end)e=q.UserInputService.InputChanged:Connect(function(j)if j.UserInputType==Enum.UserInputType.MouseMovement or j.UserInputType==Enum.UserInputType.Touch then local k,l;if j.UserInputType==Enum.UserInputType.Touch then k=j.Position.X;l=j.Position.Y else k=a.X;l=a.Y end;local a=k-f;local f=l-h;local a=T.sqrt(a^2+f^2)if a>5 then d:Disconnect()e:Disconnect()g=false;c.StartDrag(b,i)end end end)end end)f.MouseButton2Down:Connect(function()end)f.Indent.Expand.InputBegan:Connect(function(a)local b=e[b+c.Index]if not b or(a.UserInputType~=Enum.UserInputType.MouseMovement and a.UserInputType~=Enum.UserInputType.Touch)then return end;if a.UserInputType==Enum.UserInputType.Touch then c.MiscIcons:DisplayByKey(f.Indent.Expand.Icon,w[b]and"Collapse_Over"or"Expand_Over")elseif a.UserInputType==Enum.UserInputType.MouseMovement then c.MiscIcons:DisplayByKey(f.Indent.Expand.Icon,w[b]and"Collapse_Over"or"Expand_Over")end end)f.Indent.Expand.InputEnded:Connect(function(a)local b=e[b+c.Index]if not b or(a.UserInputType~=Enum.UserInputType.MouseMovement and a.UserInputType~=Enum.UserInputType.Touch)then return end;if a.UserInputType==Enum.UserInputType.Touch then c.MiscIcons:DisplayByKey(f.Indent.Expand.Icon,w[b]and"Collapse"or"Expand")elseif a.UserInputType==Enum.UserInputType.MouseMovement then c.MiscIcons:DisplayByKey(f.Indent.Expand.Icon,w[b]and"Collapse"or"Expand")end end)f.Indent.Expand.MouseButton1Down:Connect(function()local a=e[b+c.Index]if not a or#a==0 then return end;w[a]=not w[a]c.Update()c.Refresh()end)f.Parent=y;return f end;c.Refresh=function()local a=T.max(T.ceil((y.AbsoluteSize.Y)/20),0)local f=false;local g=t.IsA;for a=1,a do local g=h[a]if not h[a]then g=c.NewListEntry(a)h[a]=g;c.ClickSystem:Add(g)end;local a=e[a+c.Index]if a then local e=a.Obj;local h=c.EntryIndent*c.NodeDepth(a)g.Visible=true;g.Position=UDim2.new(0,-L.Index,0,g.Position.Y.Offset)g.Size=UDim2.new(0,c.ViewWidth,0,20)g.Indent.EntryName.Text=tostring(a.Obj)g.Indent.Position=UDim2.new(0,h,0,0)g.Indent.Size=UDim2.new(1,-h,1,0)g.Indent.EntryName.TextTruncate=(d.Explorer.UseNameWidth and Enum.TextTruncate.None or Enum.TextTruncate.AtEnd)c.MiscIcons:DisplayExplorerIcons(g.Indent.Icon,e.ClassName)if p.Map[a]then g.Indent.BackgroundColor3=d.Theme.ListSelection;g.Indent.BorderSizePixel=0;g.Indent.BackgroundTransparency=0 else if b.CheckMouseInGui(g)then g.Indent.BackgroundColor3=d.Theme.Button else g.Indent.BackgroundTransparency=1 end end;if a==O then f=true;N.Position=UDim2.new(0,h+25-L.Index,0,g.Position.Y.Offset+2)N.Visible=true end;if#a>0 and w[a]~=0 then if b.CheckMouseInGui(g.Indent.Expand)then c.MiscIcons:DisplayByKey(g.Indent.Expand.Icon,w[a]and"Collapse_Over"or"Expand_Over")else c.MiscIcons:DisplayByKey(g.Indent.Expand.Icon,w[a]and"Collapse"or"Expand")end;g.Indent.Expand.Visible=true else g.Indent.Expand.Visible=false end else g.Visible=false end end;if not f then N.Visible=false end;for a=a+1,#h do c.ClickSystem:Remove(h[a])h[a]:Destroy()h[a]=nil end end;c.PerformUpdate=function(a)G=true;b.FastWait(not a and 0.1)if not G then return end;G=false;if not c.Window:IsVisible()then return end;c.Update()c.Refresh()end;c.ForceUpdate=function(a)G=false;c.Update()if not a then c.Refresh()end end;c.PerformRefresh=function()H=true;b.FastWait(0.1)H=false;if G or not c.Window:IsVisible()then return end;c.Refresh()end;c.IsNodeVisible=function(a)if not a then return end;local a=a.Parent;while a do if not w[a]then return false end;a=a.Parent end;return true end;c.NodeDepth=function(a)local b=0;if a==I then return 1 end;local a=a.Parent;while a do if a==I then b=b+1 end;a=a.Parent;b=b+1 end;return b end;c.SetupConnections=function()if A then A:Disconnect()end;if B then B:Disconnect()end;if C then C:Disconnect()end;if a.Elevated then A=t.DescendantAdded:Connect(X)B=t.DescendantRemoving:Connect(Y)else A=t.DescendantAdded:Connect(function(a)pcall(X,a)end)B=t.DescendantRemoving:Connect(function(a)pcall(Y,a)end)end;if d.Explorer.UseNameWidth then C=t.ItemChanged:Connect(function(a,b)if b=="Parent"and o[a]then Z(a)elseif b=="Name"and o[a]then o[a].NameWidth=nil end end)else C=t.ItemChanged:Connect(function(a,b)if b=="Parent"and o[a]then Z(a)end end)end end;c.ViewNode=function(a)if not a then return end;c.MakeNodeVisible(a)c.ForceUpdate(true)local b=K.VisibleSpace;for d,e in next,e do if e==a then local a=d-1;if c.Index>a then K.Index=a elseif c.Index+b-1<=a then K.Index=a-b+2 end end end;K:Update()c.Index=K.Index;c.Refresh()end;c.ViewObj=function(a)c.ViewNode(o[a])end;c.MakeNodeVisible=function(a,b)if not a then return end;local d=false;if b and not w[a]then w[a]=true;d=true end;local a=a.Parent;while a do d=true;w[a]=true;a=a.Parent end;if d and not G then coroutine.wrap(c.PerformUpdate)(true)end end;c.ShowRightClick=function(b)local b=b or a.Mouse;local d=c.RightClickContext;local e=d.Gui.AbsoluteSize;d.MaxHeight=(e.Y<=600 and(e.Y-40))or nil;d:Clear()local e=p.List;local f=p.Map;local g=#M==0;local h={}local i=i.Classes;for a=1,#e do local a=e[a]local b=a.Class;local c=a.Obj;if not h.CanClone or not h.NotCreatable or not h.isViableDecompileScript then h.isViableDecompileScript=k.isViableDecompileScript(c)h.NotCreatable=i[c.ClassName].Tags.NotCreatable or false;h.CanClone=not i[c.ClassName].Tags.Service and c.Archivable==true end;if not b then b=c.ClassName;a.Class=b end;local a=i[b]while a and not h[a.Name]do h[a.Name]=true;a=a.Superclass end end;d:AddRegistered("CUT")d:AddRegistered("COPY")d:AddRegistered("PASTE",g)d:AddRegistered("DUPLICATE",not h.CanClone)d:AddRegistered("DELETE")d:AddRegistered("DELETE_CHILDREN")d:AddRegistered("RENAME",#e~=1)d:AddDivider()d:AddRegistered("GROUP")d:AddRegistered("UNGROUP")d:AddRegistered("SELECT_CHILDREN")d:AddRegistered("SELECT_ALL")d:AddRegistered("JUMP_TO_PARENT")d:AddRegistered("EXPAND_ALL")d:AddRegistered("COLLAPSE_ALL")d:AddDivider()if w==c.SearchExpanded then d:AddRegistered("CLEAR_SEARCH_AND_JUMP_TO")end;if k.setclipboard then d:AddRegistered("COPY_PATH")end;d:AddRegistered("INSERT_OBJECT")d:AddRegistered("VIEW_SIGNALS")d:AddRegistered("SAVE_INST")d:QueueDivider()if h["BasePart"]or h["Model"]then d:AddRegistered("TELEPORT_TO")d:AddRegistered("VIEW_OBJECT")end;if h["Tween"]then d:AddRegistered("PLAY_TWEEN")end;if h["Animation"]then d:AddRegistered("LOAD_ANIMATION")d:AddRegistered("STOP_ANIMATION")end;if h["TouchTransmitter"]then d:AddRegistered("FIRE_TOUCHTRANSMITTER",firetouchinterest==nil)end;if h["ClickDetector"]then d:AddRegistered("FIRE_CLICKDETECTOR",fireclickdetector==nil)end;if h["ProximityPrompt"]then d:AddRegistered("FIRE_PROXIMITYPROMPT",fireproximityprompt==nil)end;if h["RemoteEvent"]then d:AddRegistered("FIRE_EVENT")end;if h["RemoteFunction"]then d:AddRegistered("FIRE_EVENT")end;if h["UnreliableRemoteEvent"]then d:AddRegistered("FIRE_EVENT")end;if h["BindableEvent"]then d:AddRegistered("FIRE_EVENT")end;if h["BindableFunction"]then d:AddRegistered("FIRE_EVENT")end;if h["Player"]then d:AddRegistered("SELECT_CHARACTER")d:AddRegistered("VIEW_PLAYER")end;if h["Players"]then d:AddRegistered("SELECT_LOCAL_PLAYER")d:AddRegistered("SELECT_ALL_CHARACTERS")end;if not h.NotCreatable and a.Testing then d:AddRegistered("INSTANCE_TO_CODE")end;if h["LuaSourceContainer"]then d:AddRegistered("VIEW_SCRIPT",not h.isViableDecompileScript or k.decompile==nil)d:AddRegistered("SAVE_SCRIPT",not h.isViableDecompileScript or k.decompile==nil or k.writefile==nil)d:AddRegistered("SAVE_BYTECODE",not h.isViableDecompileScript or k.getscriptbytecode==nil or k.writefile==nil)end;if f[I]then d:AddRegistered("REFRESH_NIL")d:AddRegistered("HIDE_NIL")end;c.LastRightClickX,c.LastRightClickY=b.X,b.Y;d:Show(b.X,b.Y)end;c.InitRightClick=function()local e=b.ContextMenu.new()e:Register("CUT",{Name="剪切",IconMap=c.MiscIcons,Icon="Cut",DisabledIcon="Cut_Disabled",Shortcut="Ctrl+Z",OnClick=function()local a,b=t.Destroy,t.Clone;local c,d=p.List,{}local e=1;for f=1,#c do local c=c[f].Obj;local b,f=pcall(b,c)if b and f then d[e]=f;e=e+1 end;pcall(a,c)end;M=d;p:Clear()end})e:Register("COPY",{Name="复制",IconMap=c.MiscIcons,Icon="Copy",DisabledIcon="Copy_Disabled",Shortcut="Ctrl+C",OnClick=function()local a=t.Clone;local b,c=p.List,{}local d=1;for e=1,#b do local b=b[e].Obj;local a,b=pcall(a,b)if a and b then c[d]=b;d=d+1 end end;M=c end})e:Register("PASTE",{Name="粘贴",IconMap=c.MiscIcons,Icon="Paste",DisabledIcon="Paste_Disabled",Shortcut="Ctrl+Shift+V",OnClick=function()local a=p.List;local b={}local d=1;for e=1,#a do local a=a[e]local e=a.Obj;c.MakeNodeVisible(a,true)for a=1,#M do local a=M[a]:Clone()if a then a.Parent=e;local a=o[a]if a then b[d]=a;d=d+1 end end end end;p:SetTable(b)if#b>0 then c.ViewNode(b[1])end end})e:Register("DUPLICATE",{Name="克隆",IconMap=c.MiscIcons,Icon="Copy",DisabledIcon="Copy_Disabled",Shortcut="Ctrl+D",OnClick=function()local a=t.Clone;local b=p.List;local d={}local e=1;for f=1,#b do local b=b[f]local f=b.Obj;local g=b.Parent and b.Parent.Obj;c.MakeNodeVisible(b)local a,b=pcall(a,f)if a and b then b.Parent=g;local a=o[b]if a then d[e]=a;e=e+1 end end end;p:SetTable(d)if#d>0 then c.ViewNode(d[1])end end})e:Register("DELETE",{Name="删除",IconMap=c.MiscIcons,Icon="Delete",DisabledIcon="Delete_Disabled",Shortcut="Del",OnClick=function()local a=t.Destroy;local b=p.List;for c=1,#b do pcall(a,b[c].Obj)end;p:Clear()end})e:Register("DELETE_CHILDREN",{Name="删除子物体",IconMap=c.MiscIcons,Icon="Delete",DisabledIcon="Delete_Disabled",Shortcut="Del",OnClick=function()local a=p.List;for b=1,#a do pcall(a[b].Obj.ClearAllChildren,a[b].Obj)end;p:Clear()end})e:Register("RENAME",{Name="重命令",IconMap=c.MiscIcons,Icon="Rename",DisabledIcon="Rename_Disabled",Shortcut="F2",OnClick=function()local a=p.List;if a[1]then c.SetRenamingNode(a[1])end end})e:Register("GROUP",{Name="组合",IconMap=c.MiscIcons,Icon="Group",DisabledIcon="Group_Disabled",Shortcut="Ctrl+G",OnClick=function()local a=p.List;if#a==0 then return end;local b=Instance.new("Model",a[#a].Obj.Parent)for c=1,#a do pcall(function()a[c].Obj.Parent=b end)end;if o[b]then p:Set(o[b])c.ViewNode(o[b])end end})e:Register("UNGROUP",{Name="取消组合",IconMap=c.MiscIcons,Icon="Ungroup",DisabledIcon="Ungroup_Disabled",Shortcut="Ctrl+U",OnClick=function()local a={}local b=1;local d=t.IsA;local function e(c)local d=c.Parent.Obj;local e={}local f=1;for d=1,#c do local c=c[d]a[b]=c;e[f]=c;b=b+1;f=f+1 end;for a=1,#e do pcall(function()e[a].Obj.Parent=d end)end;c.Obj:Destroy()end;for a,a in next,p.List do if d(a.Obj,"Model")then e(a)end end;p:SetTable(a)if#a>0 then c.ViewNode(a[1])end end})e:Register("SAVE_INST",{Name="保存为文件",IconMap=c.MiscIcons,Icon="Save",OnClick=function()local a=p.List;b.SaveAsPrompt(a[1].Obj)end})e:Register("SELECT_CHILDREN",{Name="选择所有子物体",IconMap=c.MiscIcons,Icon="SelectChildren",DisabledIcon="SelectChildren_Disabled",OnClick=function()local a={}local b=1;local d=p.List;for e=1,#d do local d=d[e]for e=1,#d do local d=d[e]if e==1 then c.MakeNodeVisible(d)end;a[b]=d;b=b+1 end end;p:SetTable(a)if#a>0 then c.ViewNode(a[1])else c.Refresh()end end})e:Register("SELECT_ALL",{Name="选择所有",IconMap=c.MiscIcons,Icon="SelectChildren",DisabledIcon="SelectChildren_Disabled",OnClick=function()local a=p.List;local b={}local d=1;local function e(a)local c=a;if c then b[d]=c;d+=1 end;for b=1,#a do e(a[b])end end;for b=1,#a do e(a[b])end;p:SetTable(b)if#b>0 then c.ViewNode(b[1])else c.Refresh()end end})e:Register("JUMP_TO_PARENT",{Name="跳到父体",IconMap=c.MiscIcons,Icon="JumpToParent",OnClick=function()local a={}local b=1;local d=p.List;for c=1,#d do local c=d[c]if c.Parent then a[b]=c.Parent;b=b+1 end end;p:SetTable(a)if#a>0 then c.ViewNode(a[1])else c.Refresh()end end})e:Register("TELEPORT_TO",{Name="传送",IconMap=c.MiscIcons,Icon="TeleportTo",OnClick=function()local a=p.List;local b=r.Character and r.Character:FindFirstChild("HumanoidRootPart")if not b then return end;for a,a in next,a do local a=a.Obj;if a:IsA("BasePart")then if a.CanCollide then r.Character:MoveTo(a.Position)else b.CFrame=CFrame.new(a.Position+d.Explorer.TeleportToOffset)end;break elseif a:IsA("Model")then if a.PrimaryPart then if a.PrimaryPart.CanCollide then r.Character:MoveTo(a.PrimaryPart.Position)else b.CFrame=CFrame.new(a.PrimaryPart.Position+d.Explorer.TeleportToOffset)end;break else local c=a:FindFirstChildWhichIsA("BasePart",true)if c and o[c]then if c.CanCollide then r.Character:MoveTo(c.Position)else b.CFrame=CFrame.new(c.Position+d.Explorer.TeleportToOffset)end;break elseif a.WorldPivot then b.CFrame=a.WorldPivot end end end end end})local b;e:Register("PLAY_TWEEN",{Name="播放动画",IconMap=c.MiscIcons,Icon="Play",OnClick=function()local a=p.List;for b=1,#a do local a=a[b]local a=a.Obj;if a:IsA("Tween")then a:Play()end end end})local b;e:Register("LOAD_ANIMATION",{Name="加载动作",IconMap=c.MiscIcons,Icon="Play",OnClick=function()local a=p.List;local c=r.Character and r.Character:FindFirstChild("Humanoid")if not c then return end;for d=1,#a do local a=a[d]local a=a.Obj;if a:IsA("Animation")then if b then b:Stop()end;b=c:LoadAnimation(a)b:Play()break end end end})e:Register("STOP_ANIMATION",{Name="停止动作",IconMap=c.MiscIcons,Icon="Pause",OnClick=function()local a=p.List;local c=r.Character and r.Character:FindFirstChild("Humanoid")if not c then return end;for d=1,#a do local a=a[d]local a=a.Obj;if a:IsA("Animation")then if b then b:Stop()end;c:LoadAnimation(a):Stop()break end end end})e:Register("EXPAND_ALL",{Name="展开全部",OnClick=function()local a=p.List;local function b(a)w[a]=true;for c=1,#a do if#a[c]>0 then b(a[c])end end end;for c=1,#a do b(a[c])end;c.ForceUpdate()end})e:Register("COLLAPSE_ALL",{Name="折叠全部",OnClick=function()local a=p.List;local function b(a)w[a]=nil;for c=1,#a do if#a[c]>0 then b(a[c])end end end;for c=1,#a do b(a[c])end;c.ForceUpdate()end})e:Register("CLEAR_SEARCH_AND_JUMP_TO",{Name="清除搜索和跳到",OnClick=function()local a={}local b=1;local d=p.List;for c=1,#d do a[b]=d[c]b=b+1 end;p:SetTable(a)c.ClearSearch()if#a>0 then c.ViewNode(a[1])end end})local b=function(a)if a:sub(1,28)=="game:GetService(\"Workspace\")"then a=a:gsub("game:GetService%(\"Workspace\"%)","workspace",1)end;if a:sub(1,27+#r.Name)=="game:GetService(\"Players\")."..r.Name then a=a:gsub("game:GetService%(\"Players\"%)."..r.Name,"game:GetService(\"Players\").LocalPlayer",1)end;return a end;e:Register("COPY_PATH",{Name="复制路径",IconMap=c.ClassIcons,Icon=50,OnClick=function()local a=p.List;if#a==1 then k.setclipboard(b(c.GetInstancePath(a[1].Obj)))elseif#a>1 then local d={"{"}local e=2;for f=1,#a do local a="\t"..b(c.GetInstancePath(a[f].Obj))..","if#a>0 then d[e]=a;e=e+1 end end;d[e]="}"k.setclipboard(S.concat(d,"\n"))end end})e:Register("INSERT_OBJECT",{Name="插入物体",IconMap=c.MiscIcons,Icon="InsertObject",OnClick=function()local a=a.Mouse;local a,b=c.LastRightClickX or a.X,c.LastRightClickY or a.Y;c.InsertObjectContext:Show(a,b)end})local a={RemoteEvent="FireServer",RemoteFunction="InvokeServer",UnreliableRemoteEvent="FireServer",BindableRemote="Fire",BindableFunction="Invoke"}e:Register("FIRE_EVENT",{Name="调用",IconMap=c.MiscIcons,Icon="Play",OnClick=function()local d=p.List;for e=1,#d do local d=d[e].Obj;local a=("%s:%s()"):format(b(c.GetInstancePath(d)),a[d.ClassName])loadstring(a)()end end})e:Register("VIEW_SIGNALS",{Name="复制所有可连接的事件",OnClick=function()local a=c.GetConnections(p.List[1].Obj)local b="{"for a,a in pairs(a)do b=b.."\n	".."\""..a.."\","end;b=b.."\n}"k.setclipboard(b)end})e:Register("INSTANCE_TO_CODE",{Name="转代码",IconMap=c.ClassIcons,Icon=18,OnClick=function()local a=p.List;local d="--Vex代码生成实例v1.4\nlocal C = {}\n"local e=""local f=""local g={}local h=1;local function j(a)local d=a.Parent;local d="C[\""..h.."\"]"g[h]={Obj=a,Path=b(c.GetInstancePath(a))}h+=1;return d end;for f=1,#a do local function h(a)local a=a;local f;if i.Classes[a.ClassName].Tags and not i.Classes[a.ClassName].Tags.NotCreatable then f=Instance.new(a.ClassName)else return end;local function h(a)local d=typeof(a)if d=="string"then return string.format("[=[%s]=]",a)end;if d=="boolean"then return tostring(a)end;if d=="number"then return tostring(a)end;if d=="EnumItem"then return tostring(a)end;if d=="Instance"then for d,e in pairs(g)do if e.Path==b(c.GetInstancePath(a))then return"C[\""..d.."\"]"end end;return b(c.GetInstancePath(a))end;if d=="Vector2"then return string.format("Vector2.new(%s, %s)",a.X,a.Y)end;if d=="Vector3"then return string.format("Vector3.new(%s, %s, %s)",a.X,a.Y,a.Z)end;if d=="UDim"then return string.format("UDim.new(%s, %s)",a.Scale,a.Offset)end;if d=="Font"then return string.format("Font.new(%q, %s, %s)",a.Family,h(a.Weight),h(a.Style))end;if d=="UDim2"then return string.format("UDim2.new(%s, %s, %s, %s)",a.X.Scale,a.X.Offset,a.Y.Scale,a.Y.Offset)end;if d=="NumberRange"then if a.Min==a.Max then return string.format("NumberRange.new(%s)",a.Min)else return string.format("NumberRange.new(%s, %s)",a.Min,a.Max)end end;if d=="Color3"then return string.format("Color3.fromRGB(%s, %s, %s)",T.floor(a.R*255+0.5),T.floor(a.G*255+0.5),T.floor(a.B*255+0.5))end;if d=="CFrame"then local a,b,c,d,e,f,g,h,i,j,k,l=a:GetComponents()return string.format("CFrame.new(%s,%s,%s, %s,%s,%s, %s,%s,%s, %s,%s,%s)",a,b,c,d,e,f,g,h,i,j,k,l)end;if d=="BrickColor"then return string.format("BrickColor.new(%q)",a.Name)end;if d=="ColorSequence"then local a=a.Keypoints;local b=S.create(#a)for a,c in ipairs(a)do b[a]=string.format("ColorSequenceKeypoint.new(%s, %s)",c.Time,h(c.Value))end;return"ColorSequence.new({"..S.concat(b,", ").."})"end;if d=="NumberSequence"then local a=a.Keypoints;local b=S.create(#a)for a,c in ipairs(a)do b[a]=string.format("NumberSequenceKeypoint.new(%s, %s, %s)",c.Time,c.Value,c.Envelope)end;return"NumberSequence.new({"..S.concat(b,", ").."})"end;if d=="Rect"then return string.format("Rect.new(%s, %s, %s, %s)",a.Min.X,a.Min.Y,a.Max.X,a.Max.Y)end;if d=="PhysicalProperties"then return string.format("PhysicalProperties.new(%s, %s, %s, %s, %s)",a.Density,a.Friction,a.Elasticity,a.FrictionWeight,a.ElasticityWeight)end;return"-- 无法获取类型"..d end;if not a.Parent then return end;local function g(a,b)local c={}local d=1;local b=b.Properties;for e=1,#b do local b=b[e]local a,e=pcall(function()return a[b.Name]end)if a then c[d]={PN=b.Name,PV=e,tags=b.Tags,PT=typeof(e)}d+=1 end end;return c end;local i=i.Classes[a.ClassName]local l={}while i do S.insert(l,g(a,i))i=i.Superclass end;local g=a.Name:gsub("\n",""):gsub(" ","")local g=g:match("^[a-zA-Z][a-zA-Z0-9]*$")and g;local g=j(a)local i=[[
%s%s = Instance.new("%s")]]i=i:format("",g,a.ClassName)local function j(d)e=e..("--%s"):format(b(c.GetInstancePath(a))).."\n"for b,b in pairs(d)do for b,b in pairs(b)do if not b.tags.Deprecated and not b.tags.Hidden and not b.tags.ReadOnly then if b.PN=="Source"or(a[b.PN]~=f[b.PN])then local c=h(b.PV)if not c:find("-- 无法获取类型")and c~="nothing"then if b.PN=="Source"then e=e..g.."."..b.PN.." = [==["..k.decompile(a).."]==]\n"else e=e..g.."."..b.PN.." = "..c.."\n"end else e=e..c.."\n"end end end end end end;j(l)d=d..i.."\n"e=e.."\n"f:Destroy()end;h(a[f].Obj)end;k.setclipboard(d.."\n"..e..f)end})e:Register("VIEW_OBJECT",{Name="查看物体 (右键取消)",IconMap=c.ClassIcons,Icon=5,OnClick=function()local a=p.List;local b=t.IsA;for c=1,#a do local a=a[c]if b(a.Obj,"BasePart")or b(a.Obj,"Model")then workspace.CurrentCamera.CameraSubject=a.Obj;break end end end,OnRightClick=function()workspace.CurrentCamera.CameraSubject=r.Character end})e:Register("FIRE_TOUCHTRANSMITTER",{Name="触发",IconMap=c.ClassIcons,Icon=37,OnClick=function()local a=r.Character and r.Character:FindFirstChild("HumanoidRootPart")if not a then return end;for b,b in ipairs(p.List)do if b.Obj and b.Obj:IsA("TouchTransmitter")then firetouchinterest(a,b.Obj.Parent,0)end end end})e:Register("FIRE_CLICKDETECTOR",{Name="触发",IconMap=c.ClassIcons,Icon=41,OnClick=function()local a=r.Character and r.Character:FindFirstChild("HumanoidRootPart")if not a then return end;for a,a in ipairs(p.List)do if a.Obj and a.Obj:IsA("ClickDetector")then fireclickdetector(a.Obj)end end end})e:Register("FIRE_PROXIMITYPROMPT",{Name="触发",IconMap=c.ClassIcons,Icon=124,OnClick=function()local a=r.Character and r.Character:FindFirstChild("HumanoidRootPart")if not a then return end;for a,a in ipairs(p.List)do if a.Obj and a.Obj:IsA("ProximityPrompt")then fireproximityprompt(a.Obj)end end end})e:Register("VIEW_SCRIPT",{Name="查看脚本",IconMap=c.MiscIcons,Icon="ViewScript",OnClick=function()local a=p.List[1]and p.List[1].Obj;if a then g.ViewScript(a)end end})e:Register("SAVE_SCRIPT",{Name="保存脚本",IconMap=c.MiscIcons,Icon="Save",OnClick=function()for a,a in next,p.List do if a.Obj:IsA("LuaSourceContainer")and k.isViableDecompileScript(a.Obj)then local b,c=pcall(k.decompile,a.Obj)if not b or not c then c=("-- Vex - %s failed to decompile %s"):format(k.executor,a.Obj.ClassName)end;local a=("%i.%s.%s.Source.txt"):format(t.PlaceId,a.Obj.ClassName,k.parsefile(a.Obj.Name))k.writefile(a,c)task.wait(0.2)end end end})e:Register("SAVE_BYTECODE",{Name="保存脚本字节码",IconMap=c.MiscIcons,Icon="Save",OnClick=function()for a,a in next,p.List do if a.Obj:IsA("LuaSourceContainer")and k.isViableDecompileScript(a.Obj)then local b,c=pcall(getscriptbytecode,a.Obj)if b and type(c)=="string"then local a=("%i.%s.%s.Bytecode.txt"):format(t.PlaceId,a.Obj.ClassName,k.parsefile(a.Obj.Name))k.writefile(a,c)task.wait(0.2)end end end end})e:Register("SELECT_CHARACTER",{Name="选择躯体",IconMap=c.ClassIcons,Icon=9,OnClick=function()local a={}local b=1;local d=p.List;local e=t.IsA;for c=1,#d do local c=d[c]if e(c.Obj,"Player")and o[c.Obj.Character]then a[b]=o[c.Obj.Character]b=b+1 end end;p:SetTable(a)if#a>0 then c.ViewNode(a[1])else c.Refresh()end end})e:Register("VIEW_PLAYER",{Name="查看玩家",IconMap=c.ClassIcons,Icon=5,OnClick=function()local a={}local a=1;local a=p.List;local b=t.IsA;for b=1,#a do local a=a[b]local a=a.Obj;if a:IsA("Player")and a.Character then workspace.CurrentCamera.CameraSubject=a.Character;break end end end})e:Register("SELECT_LOCAL_PLAYER",{Name="选择本地玩家",IconMap=c.ClassIcons,Icon=9,OnClick=function()pcall(function()if o[r]then p:Set(o[r])c.ViewNode(o[r])end end)end})e:Register("SELECT_ALL_CHARACTERS",{Name="选择所有躯体",IconMap=c.ClassIcons,Icon=2,OnClick=function()local a={}local b=p.List;for b,d in next,q.Players:GetPlayers()do if d.Character and o[d.Character]then if b==1 then c.MakeNodeVisible(d.Character)end;S.insert(a,o[d.Character])end end;p:SetTable(a)if#a>0 then c.ViewNode(a[1])else c.Refresh()end end})e:Register("REFRESH_NIL",{Name="刷新",OnClick=function()c.RefreshNilInstances()end})e:Register("HIDE_NIL",{Name="隐藏",OnClick=function()c.HideNilInstances()end})c.RightClickContext=e end;c.HideNilInstances=function()S.clear(U)local a=Instance.new("Folder").ChildAdded:Connect(function()end).Disconnect;for b,b in next,V do a(b[1])a(b[2])end;S.clear(V)for a=1,#I do coroutine.wrap(Y)(I[a].Obj)end;c.Update()c.Refresh()end;c.RefreshNilInstances=function()if not k.getnilinstances then return end;local a=k.getnilinstances()local b=t;local d=b.GetDescendants;for c=1,#a do local a=a[c]if a~=b then U[a]=true;local a=d(a)for b=1,#a do U[a[b]]=true end end end;for b=1,#a do local a=a[b]local b=o[a]if not b then coroutine.wrap(X)(a)end end;c.Update()c.Refresh()end;c.GetInstancePath=function(a)local c=t.FindFirstChild;local e=t.GetChildren;local f=""local a=a;local g=tostring;local h=string.match;local j=string.gsub;local j=S.find;local d=d.Explorer.CopyPathUseGetChildren;local b=b.FormatLuaString;while a do if a==t then f="game"..f;break end;local k=a.ClassName;local g=g(a)local l;if h(g,"^[%a_][%w_]*$")then l="."..g else local a=b(g)l='["'..a..'"]'end;local b=a.Parent;if b then local c=c(b,g)if d and c and c~=a then local b=e(b)local a=j(b,a)l=":GetChildren()["..a.."]"elseif b==t and i.Classes[k]and i.Classes[k].Tags.Service then l=':GetService("'..k..'")'end elseif b==nil then local b="local getNil = function(name, class) for _, v in next, getnilinstances() do if v.ClassName == class and v.Name == name then return v end end end"local c="\n\ngetNil(\"%s\", \"%s\")"l=b..c:format(a.Name,k)end;f=l..f;a=b end;return f end;c.GetConnections=function(a)local b={}local a=i.Classes[a.ClassName]while a do for a,a in pairs(a.Events)do S.insert(b,a.Name)end;a=a.Superclass end;return b end;c.DefaultProps={["BasePart"]={Position=function(a)local b=q.Players.LocalPlayer;if b.Character and b.Character:FindFirstChild("HumanoidRootPart")then a.Position=(b.Character.HumanoidRootPart.CFrame*CFrame.new(0,0,-10)).p end;return a.Position end,Anchored=true},["GuiObject"]={Position=function(a)return(a.Parent:IsA("ScreenGui")and UDim2.new(0.5,0,0.5,0))or a.Position end,Active=true}}c.InitInsertObject=function()local a=b.ContextMenu.new()a.SearchEnabled=true;a.MaxHeight=400;a:ApplyTheme({ContentColor=d.Theme.Main2,OutlineColor=d.Theme.Outline1,DividerColor=d.Theme.Outline1,TextColor=d.Theme.Text,HighlightColor=d.Theme.ButtonHover})local b={}for a,a in next,i.Classes do local c=a.Tags;if not c.NotCreatable and not c.Service then local c=j.Classes[a.Name]b[#b+1]={a,c and c.ClassCategory or"Uncategorized"}end end;S.sort(b,function(a,b)if a[2]~=b[2]then return a[2]<b[2]else return a[1].Name<b[1].Name end end)local function d(a)for b,c in pairs(c.DefaultProps)do if a:IsA(b)then for b,c in pairs(c)do a[b]=(type(c)=="function"and c(a))or c end end end end;local function e(a)local b=p.List;local e=Instance.new;for f=1,#b do local b=b[f]local f=b.Obj;c.MakeNodeVisible(b,true)local a,b=pcall(e,a,f)if a and b then d(b)end end end;local d=""for f=1,#b do local g=b[f][1]local h=j.Classes[g.Name]local h=h and tonumber(h.ExplorerImageIndex)or 0;local b=b[f][2]if d~=b then a:AddDivider(b)d=b end;a:Add({Name=g.Name,IconMap=c.ClassIcons,Icon=h,OnClick=e})end;c.InsertObjectContext=a end;c._SearchFilters={}do local a=c._SearchFilters;local function b(b,c)for b,b in next,b do a[b:lower()..":"]=c end end;local a={remotes={"RemoteEvent","RemoteFunction","BindableEvent","BindableFunction"},scripts={"Script","LocalScript","ModuleScript"},players={"Player"}}b({"parent","p"},function(a,b)return a.Parent and(a.Parent.Name:lower()):find(b)end)b({"class","c"},function(a,b)return(a.ClassName:lower()):find(b)end)b({"isa","i"},function(a,b)return a:IsA(b)end)b({"only","o"},function(b,c)local a=a[c]return a and S.find(a,b.ClassName)end)end;c.DoSearch=function(a)S.clear(c.SearchExpanded)S.clear(v)w=(#a==0 and c.Expanded)or c.SearchExpanded;local b=tostring;local b=S.find;local b=c._SearchFilters;local d=c.SearchExpanded;local e=o[t]local f=(function(a,b)if not n then return(m and a.ClassName:lower()or a.Name:lower()):find(b,1,true)else return(m and a.ClassName or a.Name)==b end end)local function g(a,b,c)local e=false;for a,a in ipairs(a)do if c(a.Obj,b)then d[a]=0;v[a]=true;if not e then local a=a.Parent;while a and(not v[a]or d[a]==0)do w[a]=true;v[a]=true;a=a.Parent end;e=true end end;if#a>0 then g(a,b,c)end end end;local function d(a)if a:len()==0 then return end;local a=(n and a or a:lower())local c=a:split(":")local b=(b[c[1]..":"])or nil;if b then g(e,(c[2]or""),b)else g(e,(a or""),f)end end;for a,a in ipairs(a:split(","))do if a:len()>0 then d(a)end end;c.ForceUpdate()end;c.ClearSearch=function()c.GuiElems.SearchBar.Text=""w=c.Expanded;P=nil end;c.InitSearch=function()local a=q.TweenService;local d=c.GuiElems.ToolBar.SearchFrame;local e=d.SearchBox;c.GuiElems.SearchBar=e;local f=TweenInfo.new(0.2,Enum.EasingStyle.Quint)local a={Start=a:Create(d.UIStroke,f,{Color=Color3.fromRGB(0,120,215)}),End=a:Create(d.UIStroke,f,{Color=Color3.fromRGB(42,42,42)})}e.FocusLost:Connect(function()a.End:Play()end)e.Focused:Connect(function()a.Start:Play()end)b.ViewportTextBox.convert(e)e.FocusLost:Connect(function()c.DoSearch(e.Text)end)end;c.InitEntryTemplate=function()x=s({{1,"TextButton",{AutoButtonColor=false,BackgroundColor3=Color3.new(0,0,0),BackgroundTransparency=1,BorderColor3=Color3.new(0,0,0),Font=3,Name="Entry",Position=UDim2.new(0,1,0,1),Size=UDim2.new(0,250,0,20),Text="",TextSize=14}},{2,"Frame",{BackgroundColor3=Color3.new(0.04313725605607,0.35294118523598,0.68627452850342),BackgroundTransparency=1,BorderColor3=Color3.new(0.33725491166115,0.49019610881805,0.73725491762161),BorderSizePixel=0,Name="Indent",Parent={1},Position=UDim2.new(0,20,0,0),Size=UDim2.new(1,-20,1,0)}},{3,"TextLabel",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,Font=3,Name="EntryName",Parent={2},Position=UDim2.new(0,26,0,0),Size=UDim2.new(1,-26,1,0),Text="Workspace",TextColor3=Color3.new(0.86274516582489,0.86274516582489,0.86274516582489),TextSize=14,TextXAlignment=0}},{4,"TextButton",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,ClipsDescendants=true,Font=3,Name="Expand",Parent={2},Position=UDim2.new(0,-20,0,0),Size=UDim2.new(0,20,0,20),Text="",TextSize=14}},{5,"ImageLabel",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,Image="rbxassetid://5642383285",ImageRectOffset=Vector2.new(144,16),ImageRectSize=Vector2.new(16,16),Name="Icon",Parent={4},Position=UDim2.new(0,2,0,2),ScaleType=4,Size=UDim2.new(0,16,0,16)}},{6,"ImageLabel",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,ImageRectOffset=Vector2.new(304,0),ImageRectSize=Vector2.new(16,16),Name="Icon",Parent={2},Position=UDim2.new(0,4,0,2),ScaleType=4,Size=UDim2.new(0,16,0,16)}}})local a=b.ClickSystem.new()a.AllowedButtons={1,2}a.OnDown:Connect(function(d,i,j)local d=S.find(h,d)if not d then return end;local k=e[d+c.Index]if not k then return end;local d=h[d]if j==1 then if i==2 then if k.Obj:IsA("LuaSourceContainer")then g.ViewScript(k.Obj)elseif#k>0 and w[k]~=0 then w[k]=not w[k]c.Update()end end;if f.SelectObject(k.Obj)then a.IsRenaming=false;return end;a.IsRenaming=p.Map[k]if b.IsShiftDown()then if not p.Piviot then return end;local a=S.find(e,p.Piviot)local b=S.find(e,k)if not a or not b then return end;a,b=T.min(a,b),T.max(a,b)local c=p.List;for a=#c,1,-1 do local b=c[a]if p.ShiftSet[b]then p.Map[b]=nil;S.remove(c,a)end end;p.ShiftSet={}for a=a,b do local a=e[a]if not p.Map[a]then p.ShiftSet[a]=true;p.Map[a]=true;c[#c+1]=a end end;p.Changed:Fire()elseif b.IsCtrlDown()then p.ShiftSet={}if p.Map[k]then p:Remove(k)else p:Add(k)end;p.Piviot=k;a.IsRenaming=false elseif not p.Map[k]then p.ShiftSet={}if not l then p:Set(k)else p:Add(k)end;p.Piviot=k end elseif j==2 then if f.SelectObject(k.Obj)then return end;if not b.IsCtrlDown()and not p.Map[k]then p.ShiftSet={}p:Set(k)p.Piviot=k;c.Refresh()end end;c.Refresh()end)a.OnRelease:Connect(function(d,f,g,i)local d=S.find(h,d)if not d then return end;local d=e[d+c.Index]if not d then return end;if g==1 then if p.Map[d]and not b.IsShiftDown()and not b.IsCtrlDown()then p.ShiftSet={}p:Set(d)p.Piviot=d;c.Refresh()end;local e=a.ClickId;b.FastWait(a.ComboTime)if f==1 and e==a.ClickId and a.IsRenaming and p.Map[d]then c.SetRenamingNode(d)end elseif g==2 then c.ShowRightClick(i)end end)c.ClickSystem=a end;c.InitDelCleaner=function()coroutine.wrap(function()local a=b.FastWait;while true do local b=false;local d=0;for c,c in next,o do if c.HasDel then local d;for a=1,#c do if c[a].Del then d=a;break end end;if d then for a=d+1,#c do local a=c[a]if not a.Del then c[d]=a;d=d+1 end end;for a=d,#c do c[a]=nil end end;c.HasDel=false;b=true;a()end;d=d+1;if d>10000 then d=0;a()end end;if b and not H then c.PerformRefresh()end;a(0.5)end end)()end;local e=Instance.new("SelectionBox")e.LineThickness=0.03;e.Color3=Color3.fromRGB(0,170,255)c.SelectionVisualBox=e;c.UpdateSelectionVisuals=function()local e=c.SelectionVisualsHolder;local f=c.PartSelectionBoxVisual;local g=t.IsA;local h=t.Clone;if not e or not f then e=Instance.new("ScreenGui")e.Name="ExplorerSelections"e.DisplayOrder=a.DisplayOrders.Core;b.ShowGui(e)c.SelectionVisualsHolder=e;c.SelectionVisualCons={}f=Instance.new("ScreenGui")local function a(a)local b=nil;local c=-1;local function d(a,e)for a,a in ipairs(a:GetChildren())do if e>c then c=e;b=a end;d(a,e+1)end end;d(a,0)return b,c end;local b=workspace;local d=t.Players.LocalPlayer.PlayerGui;if b and d then local b,c=a(b)local a,d=a(d)if d>c and a:FindFirstAncestor(t.Players.LocalPlayer.Name)then f.Parent=a elseif a:FindFirstAncestor(t.Players.LocalPlayer.Name)then f.Parent=b end end;c.PartSelectionBoxVisual=f;local a=s({{1,"Frame",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,Size=UDim2.new(0,100,0,100)}},{2,"Frame",{BackgroundColor3=Color3.new(0.04313725605607,0.35294118523598,0.68627452850342),BorderSizePixel=0,Parent={1},Position=UDim2.new(0,-1,0,-1),Size=UDim2.new(1,2,0,1)}},{3,"Frame",{BackgroundColor3=Color3.new(0.04313725605607,0.35294118523598,0.68627452850342),BorderSizePixel=0,Parent={1},Position=UDim2.new(0,-1,1,0),Size=UDim2.new(1,2,0,1)}},{4,"Frame",{BackgroundColor3=Color3.new(0.04313725605607,0.35294118523598,0.68627452850342),BorderSizePixel=0,Parent={1},Position=UDim2.new(0,-1,0,0),Size=UDim2.new(0,1,1,0)}},{5,"Frame",{BackgroundColor3=Color3.new(0.04313725605607,0.35294118523598,0.68627452850342),BorderSizePixel=0,Parent={1},Position=UDim2.new(1,0,0,0),Size=UDim2.new(0,1,1,0)}}})c.SelectionVisualGui=a end;f:ClearAllChildren()e:ClearAllChildren()for a,a in pairs(c.SelectionVisualGui:GetChildren())do a.BackgroundColor3=Color3.fromRGB(0,170,255)end;local a=c.SelectionVisualCons;for b=1,#a do a[b].Destroy()end;S.clear(a)local i=d.Explorer.PartSelectionBox;local d=d.Explorer.GuiSelectionBox;if not i and not d then return end;local j=c.SelectionVisualGui;local c=c.SelectionVisualBox;local b=b.AttachTo;local k=p.List;local l=1;local m=0;local n=o[workspace]for o=1,#k do if m>1000 then break end;local k=k[o]local o=k.Obj;if k~=n then if g(o,"GuiObject")and d then local c=h(j)a[l]=b(c,{Target=o,Resize=true})l=l+1;c.Parent=e;m=m+1 elseif g(o,"PVInstance")and i then local a=h(c)a.Adornee=o;a.Parent=f;m=m+1 end end end end;c.Init=function()c.ClassIcons=b.IconMap.newLinear("rbxasset://textures/ClassImages.PNG",16,16)c.MiscIcons=a.MiscIcons;M={}p=b.Set.new()p.ShiftSet={}p.Changed:Connect(f.ShowExplorerProps)c.Selection=p;c.InitRightClick()c.InitInsertObject()c.SetSortingEnabled(d.Explorer.Sorting)c.Expanded=setmetatable({},{__mode="k"})c.SearchExpanded=setmetatable({},{__mode="k"})w=c.Expanded;I.Obj.Name="Nil Instances"I.Locked=true;local e=s({{1,"Folder",{Name="ExplorerItems"}},{2,"Frame",{BackgroundColor3=Color3.new(0.20392157137394,0.20392157137394,0.20392157137394),BorderSizePixel=0,Name="ToolBar",Parent={1},Size=UDim2.new(1,0,0,22)}},{3,"Frame",{BackgroundColor3=Color3.new(0.14901961386204,0.14901961386204,0.14901961386204),BorderColor3=Color3.new(0.1176470592618,0.1176470592618,0.1176470592618),BorderSizePixel=0,Name="SearchFrame",Parent={2},Position=UDim2.new(0,3,0,1),Size=UDim2.new(1,-6,0,18)}},{4,"TextBox",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,ClearTextOnFocus=false,Font=3,Name="SearchBox",Parent={3},PlaceholderColor3=Color3.new(0.39215689897537,0.39215689897537,0.39215689897537),PlaceholderText="搜索一些东西",Position=UDim2.new(0,4,0,0),Size=UDim2.new(1,-24,0,18),Text="",TextColor3=Color3.new(1,1,1),TextSize=14,TextXAlignment=0}},{5,"UICorner",{CornerRadius=UDim.new(0,2),Parent={3}}},{6,"UIStroke",{Thickness=1.4,Parent={3},Color=Color3.fromRGB(42,42,42)}},{7,"TextButton",{AutoButtonColor=false,BackgroundColor3=Color3.new(0.12549020349979,0.12549020349979,0.12549020349979),BackgroundTransparency=1,BorderSizePixel=0,Font=3,Name="Reset",Parent={3},Position=UDim2.new(1,-17,0,1),Size=UDim2.new(0,16,0,16),Text="",TextColor3=Color3.new(1,1,1),TextSize=14}},{8,"ImageLabel",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,Image="rbxassetid://5034718129",ImageColor3=Color3.new(0.39215686917305,0.39215686917305,0.39215686917305),Parent={7},Size=UDim2.new(0,16,0,16)}},{9,"TextButton",{AutoButtonColor=false,BackgroundColor3=Color3.new(0.12549020349979,0.12549020349979,0.12549020349979),BackgroundTransparency=1,BorderSizePixel=0,Font=3,Name="Refresh",Parent={2},Position=UDim2.new(1,-20,0,1),Size=UDim2.new(0,18,0,18),Text="",TextColor3=Color3.new(1,1,1),TextSize=14,Visible=false}},{10,"ImageLabel",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,Image="rbxassetid://5642310344",Parent={9},Position=UDim2.new(0,3,0,3),Size=UDim2.new(0,12,0,12)}},{11,"Frame",{BackgroundColor3=Color3.new(0.15686275064945,0.15686275064945,0.15686275064945),BorderSizePixel=0,Name="ScrollCorner",Parent={1},Position=UDim2.new(1,-16,1,-16),Size=UDim2.new(0,16,0,16),Visible=false}},{12,"Frame",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,ClipsDescendants=true,Name="List",Parent={1},Position=UDim2.new(0,0,0,23),Size=UDim2.new(1,0,1,-23)}}})z=e.ToolBar;y=e.List;c.GuiElems.ToolBar=z;c.GuiElems.TreeFrame=y;K=b.ScrollBar.new()K.WheelIncrement=3;K.Gui.Position=UDim2.new(1,-16,0,23)K:SetScrollFrame(y)K.Scrolled:Connect(function()c.Index=K.Index;c.Refresh()end)L=b.ScrollBar.new(true)L.Increment=5;L.WheelIncrement=c.EntryIndent;L.Gui.Position=UDim2.new(0,0,1,-16)L.Scrolled:Connect(function()c.Refresh()end)local f=task.spawn(function()while wait()and d.Explorer.AutoRefresh do c.Refresh()end end)local b=b.Window.new()c.Window=b;b:SetTitle("资源")b.GuiElems.Line.Position=UDim2.new(0,0,0,22)c.InitEntryTemplate()z.Parent=b.GuiElems.Content;y.Parent=b.GuiElems.Content;e.ScrollCorner.Parent=b.GuiElems.Content;K.Gui.Parent=b.GuiElems.Content;L.Gui.Parent=b.GuiElems.Content;c.InitRenameBox()c.InitSearch()c.InitDelCleaner()p.Changed:Connect(c.UpdateSelectionVisuals)b.GuiElems.Main:GetPropertyChangedSignal("AbsoluteSize"):Connect(function()if c.Active then c.UpdateView()c.Refresh()end end)b.OnActivate:Connect(function()c.Active=true;c.UpdateView()c.Update()c.Refresh()end)b.OnRestore:Connect(function()c.Active=true;c.UpdateView()c.Update()c.Refresh()end)b.OnDeactivate:Connect(function()c.Active=false end)b.OnMinimize:Connect(function()c.Active=false end)R=d.Explorer.AutoUpdateSearch;o[t]={Obj=t}w[o[t]]=true;if k.getnilinstances then o[I.Obj]=I end;c.SetupConnections()local b=E(t)if a.Elevated then for a=1,#b do local a=b[a]local b=o[D(a,"Instance")]if not b then continue end;local c={Obj=a,Parent=b}o[a]=c;b[#b+1]=c end else for a=1,#b do local a=b[a]local b,b=pcall(D,a,"Instance")local b=o[b]if not b then continue end;local c={Obj=a,Parent=b}o[a]=c;b[#b+1]=c end end end;return c end;return{InitDeps=v,InitAfterMain=u,Main=c}end,Properties=function()local a,b,c,d;local e,f,g,h;local i,j,k,l,m,n,o;local function p(e)a=e.Main;b=e.Lib;c=e.Apps;d=e.Settings;i=e.API;j=e.RMD;k=e.env;l=e.service;m=e.plr;n=e.create;o=e.createSimple end;local function k()e=c.Explorer;f=c.Properties;g=c.ScriptViewer;h=c.Notebook end;local function c()local c={}local f,g,h;local k,m;local o;local p,q,r,s,u,v={},{},{},{},{},{}local w,x,y;local z,A={},{}local B,C=table,string;local D=t.GetPropertyChangedSignal;local E=t.GetAttributeChangedSignal;local F=t.IsA;local G=t.GetAttribute;local H=t.SetAttribute;c.GuiElems={}c.Index=0;c.ViewWidth=0;c.MinInputWidth=100;c.EntryIndent=16;c.EntryOffset=4;c.NameWidthCache={}c.SubPropCache={}c.ClassLists={}c.SearchText=""c.AddAttributeProp={Category="Attributes",Class="",Name="",SpecialRow="AddAttribute",Tags={}}c.SoundPreviewProp={Category="Data",ValueType={Name="SoundPlayer"},Class="Sound",Name="Preview",Tags={}}c.IgnoreProps={["DataModel"]={["PrivateServerId"]=true,["PrivateServerOwnerId"]=true,["VIPServerId"]=true,["VIPServerOwnerId"]=true}}c.ExpandableTypes={["Vector2"]=true,["Vector3"]=true,["UDim"]=true,["UDim2"]=true,["CFrame"]=true,["Rect"]=true,["PhysicalProperties"]=true,["Ray"]=true,["NumberRange"]=true,["Faces"]=true,["Axes"]=true}c.ExpandableProps={["Sound.SoundId"]=true}c.CollapsedCategories={["Surface Inputs"]=true,["Surface"]=true}c.ConflictSubProps={["Vector2"]={"X","Y"},["Vector3"]={"X","Y","Z"},["UDim"]={"Scale","Offset"},["UDim2"]={"X","X.Scale","X.Offset","Y","Y.Scale","Y.Offset"},["CFrame"]={"Position","Position.X","Position.Y","Position.Z","RightVector","RightVector.X","RightVector.Y","RightVector.Z","UpVector","UpVector.X","UpVector.Y","UpVector.Z","LookVector","LookVector.X","LookVector.Y","LookVector.Z"},["Rect"]={"Min.X","Min.Y","Max.X","Max.Y"},["PhysicalProperties"]={"Density","Elasticity","ElasticityWeight","Friction","FrictionWeight"},["Ray"]={"Origin","Origin.X","Origin.Y","Origin.Z","Direction","Direction.X","Direction.Y","Direction.Z"},["NumberRange"]={"Min","Max"},["Faces"]={"Back","Bottom","Front","Left","Right","Top"},["Axes"]={"X","Y","Z"}}c.ConflictIgnore={["BasePart"]={["ResizableFaces"]=true}}c.RoundableTypes={["float"]=true,["double"]=true,["Color3"]=true,["UDim"]=true,["UDim2"]=true,["Vector2"]=true,["Vector3"]=true,["NumberRange"]=true,["Rect"]=true,["NumberSequence"]=true,["ColorSequence"]=true,["Ray"]=true,["CFrame"]=true}c.TypeNameConvert={["number"]="double",["boolean"]="bool"}c.ToNumberTypes={["int"]=true,["int64"]=true,["float"]=true,["double"]=true}c.DefaultPropValue={string="",bool=false,double=0,UDim=UDim.new(0,0),UDim2=UDim2.new(0,0,0,0),BrickColor=BrickColor.new("Medium stone grey"),Color3=Color3.new(1,1,1),Vector2=Vector2.new(0,0),Vector3=Vector3.new(0,0,0),NumberSequence=NumberSequence.new(1),ColorSequence=ColorSequence.new(Color3.new(1,1,1)),NumberRange=NumberRange.new(0),Rect=Rect.new(0,0,0,0)}c.AllowedAttributeTypes={"string","boolean","number","UDim","UDim2","BrickColor","Color3","Vector2","Vector3","NumberSequence","ColorSequence","NumberRange","Rect"}c.StringToValue=function(a,b)local a=a.ValueType;local a=a.Name;if a=="string"or a=="Content"then return b elseif c.ToNumberTypes[a]then return tonumber(b)elseif a=="Vector2"then local a=b:split(",")local b,c=tonumber(a[1]),tonumber(a[2])if b and c and#a>=2 then return Vector2.new(b,c)end elseif a=="Vector3"then local a=b:split(",")local b,c,d=tonumber(a[1]),tonumber(a[2]),tonumber(a[3])if b and c and d and#a>=3 then return Vector3.new(b,c,d)end elseif a=="UDim"then local a=b:split(",")local b,c=tonumber(a[1]),tonumber(a[2])if b and c and#a>=2 then return UDim.new(b,c)end elseif a=="UDim2"then local a=b:gsub("[{}]",""):split(",")local b,c,d,e=tonumber(a[1]),tonumber(a[2]),tonumber(a[3]),tonumber(a[4])if b and c and d and e and#a>=4 then return UDim2.new(b,c,d,e)end elseif a=="CFrame"then local a=b:split(",")local b,c=pcall(CFrame.new,unpack(a))if b and#a>=12 then return c end elseif a=="Rect"then local a=b:split(",")local b,c=pcall(Rect.new,unpack(a))if b and#a>=4 then return c end elseif a=="Ray"then local a=b:gsub("[{}]",""):split(",")local b,c=pcall(Vector3.new,unpack(a,1,3))local d,e=pcall(Vector3.new,unpack(a,4,6))if b and d and#a>=6 then return Ray.new(c,e)end elseif a=="NumberRange"then local a=b:split(",")local b,c=pcall(NumberRange.new,unpack(a))if b and#a>=1 then return c end elseif a=="Color3"then local a=b:gsub("[{}]",""):split(",")local b,c=pcall(Color3.fromRGB,unpack(a))if b and#a>=3 then return c end end;return b or nil end;c.ValueToString=function(a,c)local a=a.ValueType;local a=a.Name;if a=="Color3"then return b.ColorToBytes(c)elseif a=="NumberRange"then return c.Min..", "..c.Max end;return tostring(c)end;c.GetIndexableProps=function(b,d)if not a.Elevated then if not pcall(function()return b.ClassName end)then return nil end end;local a=c.IgnoreProps[d.Name]or{}local c={}local e=1;local d=d.Properties;for f=1,#d do local d=d[f]if not a[d.Name]then local a,b=pcall(function()return b[d.Name]end)if a then c[e]=d;e=e+1 end end end;return c end;c.FindFirstObjWhichIsA=function(a)local a=c.ClassLists[a]or{}if a and#a>0 then return a[1]end;return nil end;c.ComputeConflicts=function(a)local b=d.Properties.MaxConflictCheck;local d=e.Selection.List;local e=c.ClassLists;local f=C.split;local g=B.clear;local h=c.ConflictIgnore;local i={}local j=a and{a}or p;if a then local b=a.Class.."."..a.Name;v[b]=nil;local a=c.ConflictSubProps[a.ValueType.Name]or{}for c=1,#a do v[b.."."..a[c]]=nil end else B.clear(v)end;if#d>0 then for a=1,#j do local a=j[a]local d,j=a.Name,a.Class;local k=a.RootType or a.ValueType;local k=k.Name;local l=a.AttributeName;local m=j.."."..d;local n=0;local c=c.ConflictSubProps[k]or{}local o=#c;local p=o+1;local q=0;local r={}local h=h[j]and h[j][d]local j=(k=="PhysicalProperties")local k=a.IsAttribute;local s=a.MultiType;g(i)if not s then local g,s,t;local a=e[a.Class]or{}for e=1,#a do local a=a[e]if not t then if k then g=G(a,l)if g~=nil then s=a;t=true end else g=a[d]s=a;t=true end;if h then break end else local b,e;if k then b=G(a,l)if b==nil then e=true end else b=a[d]end;if not e then if not i[1]then if j then if(g and true or false)~=(b and true or false)then i[1]=true;q=q+1 end elseif g~=b then i[1]=true;q=q+1 end end;if o>0 then for a=1,o do local d=r[a]if not d then d=f(c[a],".")r[a]=d end;local c=g;local b=b;for a=1,#d do if not c or not b then break end;local a=d[a]c=c[a]b=b[a]end;local a=a+1;if not i[a]and c~=b then i[a]=true;q=q+1 end end end;if q==p then break end end end;n=n+1;if n==b then break end end;if not i[1]then v[m]=s end;for a=1,o do if not i[a+1]then v[m.."."..c[a]]=s end end end end end;if a then c.Refresh()end end;d.Properties.ShowAttributes=true;c.ShowExplorerProps=function()local b=d.Properties.MaxConflictCheck;local b=e.Selection.List;local e={}local f=1;local a=a.Elevated;local a,g=d.Properties.ShowDeprecated,d.Properties.ShowHidden;local h=i.Classes;local i={}local k=C.lower;local j=j.PropertyOrders;local l=t.GetAttributes;local m=d.Properties.MaxAttributes;local d=d.Properties.ShowAttributes;local n={}local q=0;local r=typeof;local t=c.TypeNameConvert;B.clear(p)for j=1,#b do local b=b[j]local j=b.Obj;local k=b.Class;if not k then k=j.ClassName;b.Class=k end;local b=h[k]while b do local d=b.Name;if not e[d]then local h=s[d]if not h then h=c.GetIndexableProps(j,b)s[d]=h end;for b=1,#h do local b=h[b]local c=b.Tags;if(not c.Deprecated or a)and(not c.Hidden or g)then p[f]=b;f=f+1 end end;e[d]=true end;local a=i[d]if not a then a={}i[d]=a end;a[#a+1]=j;b=b.Superclass end;if d and q<m then local a=l(j)for a,b in pairs(a)do local b=r(b)if not n[a]then local c=(b=="Instance"and"Class")or(b=="EnumItem"and"Enum")or"Other"local c={Name=t[b]or b,Category=c}local c={IsAttribute=true,Name="ATTR_"..a,AttributeName=a,DisplayName=a,Class="Instance",ValueType=c,Category="Attributes",Tags={}}p[f]=c;f=f+1;q=q+1;n[a]={b,c}if q==m then break end elseif n[a][1]~=b then n[a][2].MultiType=true;n[a][2].Tags.ReadOnly=true;n[a][2].ValueType={Name="string"}end end end end;B.sort(p,function(a,b)if a.Category~=b.Category then return(o[a.Category]or 9999)<(o[b.Category]or 9999)else local c=(j[a.Class]and j[a.Class][a.Name])or 9999999;local d=(j[b.Class]and j[b.Class][b.Name])or 9999999;if c~=d then return c<d else return k(a.Name)<k(b.Name)end end end)c.ClassLists=i;c.ComputeConflicts()if#p>0 then p[#p+1]=c.AddAttributeProp end;c.Update()c.Refresh()end;c.UpdateView=function()local a=math.ceil(h.AbsoluteSize.Y/23)local b=h.AbsoluteSize.X;local e=c.ViewWidth+c.MinInputWidth;k.VisibleSpace=a;k.TotalSpace=#q+1;m.VisibleSpace=b;m.TotalSpace=e;k.Gui.Visible=#q+1>a;m.Gui.Visible=d.Properties.ScaleType==0 and e>b;local a=h.Size;h.Size=UDim2.new(1,(k.Gui.Visible and-16 or 0),1,(m.Gui.Visible and-39 or-23))if a~=h.Size then c.UpdateView()else k:Update()m:Update()if k.Gui.Visible and m.Gui.Visible then k.Gui.Size=UDim2.new(0,16,1,-39)m.Gui.Size=UDim2.new(1,-16,0,16)c.Window.GuiElems.Content.ScrollCorner.Visible=true else k.Gui.Size=UDim2.new(0,16,1,-23)m.Gui.Size=UDim2.new(1,0,0,16)c.Window.GuiElems.Content.ScrollCorner.Visible=false end;c.Index=k.Index end end;c.MakeSubProp=function(a,b,c,d)local e={}for a,b in pairs(a)do e[a]=b end;e.RootType=e.RootType or e.ValueType;e.ValueType=c;e.SubName=e.SubName and(e.SubName..b)or b;e.DisplayName=d;return e end;c.GetExpandedProps=function(a)local b={}local d=a.ValueType;local d=d.Name;local e=c.MakeSubProp;if d=="Vector2"then b[1]=e(a,".X",{Name="float"})b[2]=e(a,".Y",{Name="float"})elseif d=="Vector3"then b[1]=e(a,".X",{Name="float"})b[2]=e(a,".Y",{Name="float"})b[3]=e(a,".Z",{Name="float"})elseif d=="CFrame"then b[1]=e(a,".Position",{Name="Vector3"})b[2]=e(a,".RightVector",{Name="Vector3"})b[3]=e(a,".UpVector",{Name="Vector3"})b[4]=e(a,".LookVector",{Name="Vector3"})elseif d=="UDim"then b[1]=e(a,".Scale",{Name="float"})b[2]=e(a,".Offset",{Name="int"})elseif d=="UDim2"then b[1]=e(a,".X",{Name="UDim"})b[2]=e(a,".Y",{Name="UDim"})elseif d=="Rect"then b[1]=e(a,".Min.X",{Name="float"},"X0")b[2]=e(a,".Min.Y",{Name="float"},"Y0")b[3]=e(a,".Max.X",{Name="float"},"X1")b[4]=e(a,".Max.Y",{Name="float"},"Y1")elseif d=="PhysicalProperties"then b[1]=e(a,".Density",{Name="float"})b[2]=e(a,".Elasticity",{Name="float"})b[3]=e(a,".ElasticityWeight",{Name="float"})b[4]=e(a,".Friction",{Name="float"})b[5]=e(a,".FrictionWeight",{Name="float"})elseif d=="Ray"then b[1]=e(a,".Origin",{Name="Vector3"})b[2]=e(a,".Direction",{Name="Vector3"})elseif d=="NumberRange"then b[1]=e(a,".Min",{Name="float"})b[2]=e(a,".Max",{Name="float"})elseif d=="Faces"then b[1]=e(a,".Back",{Name="bool"})b[2]=e(a,".Bottom",{Name="bool"})b[3]=e(a,".Front",{Name="bool"})b[4]=e(a,".Left",{Name="bool"})b[5]=e(a,".Right",{Name="bool"})b[6]=e(a,".Top",{Name="bool"})elseif d=="Axes"then b[1]=e(a,".X",{Name="bool"})b[2]=e(a,".Y",{Name="bool"})b[3]=e(a,".Z",{Name="bool"})end;if a.Name=="SoundId"and a.Class=="Sound"then b[1]=c.SoundPreviewProp end;return b end;c.Update=function()B.clear(q)local a=c.NameWidthCache;local b;local e=1;local f,g=0,1;local h=l.TextService;local i=h.GetTextSize;local j=Enum.Font.SourceSans;local k=Vector2.new(math.huge,20)local l=C.split;local m=c.EntryIndent;local d=d.Properties.ScaleType==0;local n,o=C.find,C.lower;local s=(#c.SearchText>0 and o(c.SearchText))local function t(p,u)for v=1,#p do local p=p[v]local v=p.Name;local w=p.SubName;local x=p.Category;local y;if s and u==1 then if n(o(v),s,1,true)then y=true end else y=true end;if y and b~=x then q[e]={CategoryName=x}e=e+1;b=x end;if(r["CAT_"..x]and y)or p.SpecialRow then if u>1 then p.Depth=u;if u>g then g=u end end;if d then local b=w and l(w,".")local b=p.DisplayName or(b and b[#b])or v;local c=a[b]if not c then c=i(h,b,14,j,k).X;a[b]=c end;local a=c+m*u;if a>f then f=a end end;q[e]=p;e=e+1;local a=p.Class.."."..p.Name..(p.SubName or"")if r[a]then local a=u+1;local b=c.GetExpandedProps(p)if#b>0 then t(b,a)end end end end end;t(p,1)y=nil;c.ViewWidth=f+9+c.EntryOffset;c.UpdateView()end;c.NewPropEntry=function(e)local f=c.EntryTemplate:Clone()local g=f.NameFrame;local i=f.ValueFrame;local b=b.Checkbox.new(1)b.Gui.Position=UDim2.new(0,3,0,3)b.Gui.Parent=i;b.OnInput:Connect(function()local a=q[e+c.Index]if not a then return end;if a.ValueType.Name=="PhysicalProperties"then c.SetProp(a,b.Toggled and true or nil)else c.SetProp(a,b.Toggled)end end)z[e]=b;local b=a.MiscIcons:GetLabel()b.Position=UDim2.new(0,2,0,3)b.Parent=f.ValueFrame.RightButton;f.Position=UDim2.new(0,0,0,23*(e-1))g.Expand.InputBegan:Connect(function(b)local c=q[e+c.Index]if not c or(b.UserInputType~=Enum.UserInputType.MouseMovement and b.UserInputType~=Enum.UserInputType.Touch)then return end;local b=(c.CategoryName and"CAT_"..c.CategoryName)or c.Class.."."..c.Name..(c.SubName or"")a.MiscIcons:DisplayByKey(f.NameFrame.Expand.Icon,r[b]and"Collapse_Over"or"Expand_Over")end)g.Expand.InputEnded:Connect(function(b)local c=q[e+c.Index]if not c or(b.UserInputType~=Enum.UserInputType.MouseMovement and b.UserInputType~=Enum.UserInputType.Touch)then return end;local b=(c.CategoryName and"CAT_"..c.CategoryName)or c.Class.."."..c.Name..(c.SubName or"")a.MiscIcons:DisplayByKey(f.NameFrame.Expand.Icon,r[b]and"Collapse"or"Expand")end)g.Expand.MouseButton1Down:Connect(function()local a=q[e+c.Index]if not a then return end;local b=(a.CategoryName and"CAT_"..a.CategoryName)or a.Class.."."..a.Name..(a.SubName or"")if not a.CategoryName and not c.ExpandableTypes[a.ValueType and a.ValueType.Name]and not c.ExpandableProps[b]then return end;r[b]=not r[b]c.Update()c.Refresh()end)g.PropName.InputBegan:Connect(function(a)local b=q[e+c.Index]if not b then return end;if(a.UserInputType==Enum.UserInputType.MouseMovement or a.UserInputType==Enum.UserInputType.Touch)and not g.PropName.TextFits then local a=c.FullNameFrame;local d=C.split(b.Class.."."..b.Name..(b.SubName or""),".")local b=b.DisplayName or d[#d]local d=l.TextService:GetTextSize(b,14,Enum.Font.SourceSans,Vector2.new(math.huge,20)).X;a.TextLabel.Text=b;a.Size=UDim2.new(0,d+4,0,22)a.Visible=true;c.FullNameFrameIndex=e;c.FullNameFrameAttach.SetData(a,{Target=g})c.FullNameFrameAttach.Enable()end end)g.PropName.InputEnded:Connect(function(a)if(a.UserInputType==Enum.UserInputType.MouseMovement or a.UserInputType==Enum.UserInputType.Touch)and c.FullNameFrameIndex==e then c.FullNameFrame.Visible=false;c.FullNameFrameAttach.Disable()end end)i.ValueBox.MouseButton1Down:Connect(function()local a=q[e+c.Index]if not a then return end;c.SetInputProp(a,e)end)i.ColorButton.MouseButton1Down:Connect(function()local a=q[e+c.Index]if not a then return end;c.SetInputProp(a,e,"color")end)i.RightButton.MouseButton1Click:Connect(function()local a=q[e+c.Index]if not a then return end;local b=a.Class.."."..a.Name..(a.SubName or"")local d=y and(y.Class.."."..y.Name..(y.SubName or""))if b==d and y.ValueType.Category=="Class"then y=nil;c.SetProp(a,nil)else c.SetInputProp(a,e,"right")end end)g.ToggleAttributes.MouseButton1Click:Connect(function()d.Properties.ShowAttributes=not d.Properties.ShowAttributes;c.ShowExplorerProps()end)f.RowButton.MouseButton1Click:Connect(function()c.DisplayAddAttributeWindow()end)f.EditAttributeButton.MouseButton1Down:Connect(function()local a=q[e+c.Index]if not a then return end;c.DisplayAttributeContext(a)end)i.SoundPreview.ControlButton.MouseButton1Click:Connect(function()if c.PreviewSound and c.PreviewSound.Playing then c.SetSoundPreview(false)else local a=c.FindFirstObjWhichIsA("Sound")if a then c.SetSoundPreview(a)end end end)i.SoundPreview.InputBegan:Connect(function(a)if a.UserInputType~=Enum.UserInputType.MouseButton1 and a.UserInputType~=Enum.UserInputType.Touch then return end;local b,d;b=l.UserInputService.InputEnded:Connect(function(a)if a.UserInputType==Enum.UserInputType.MouseButton1 or a.UserInputType==Enum.UserInputType.Touch then b:Disconnect()if d then d:Disconnect()end end end)local b=f.ValueFrame.SoundPreview.TimeLine;local e=c.FindFirstObjWhichIsA("Sound")if e then c.SetSoundPreview(e,true)end;local function e(a)local c=c.PreviewSound;if not c or c.TimeLength==0 then return end;local a=(a.UserInputType==Enum.UserInputType.Touch)and a.Position.X or a.Position.X;local d=b.AbsoluteSize;local a=a-b.AbsolutePosition.X;if d.X<=1 then return end;if a<0 then a=0 elseif a>=d.X then a=d.X-1 end;local a=(a/(d.X-1))c.TimePosition=a*c.TimeLength;b.Slider.Position=UDim2.new(a,-4,0,-8)end;e(a)d=l.UserInputService.InputChanged:Connect(function(a)if a.UserInputType==Enum.UserInputType.MouseMovement or a.UserInputType==Enum.UserInputType.Touch then e(a)end end)end)f.Parent=h;return{Gui=f,GuiElems={NameFrame=g,ValueFrame=i,PropName=g.PropName,ValueBox=i.ValueBox,Expand=g.Expand,ColorButton=i.ColorButton,ColorPreview=i.ColorButton.ColorPreview,Gradient=i.ColorButton.ColorPreview.UIGradient,EnumArrow=i.EnumArrow,Checkbox=i.Checkbox,RightButton=i.RightButton,RightButtonIcon=b,RowButton=f.RowButton,EditAttributeButton=f.EditAttributeButton,ToggleAttributes=g.ToggleAttributes,SoundPreview=i.SoundPreview,SoundPreviewSlider=i.SoundPreview.TimeLine.Slider}}end;c.GetSoundPreviewEntry=function()for a=1,#q do if q[a]==c.SoundPreviewProp then return u[a-c.Index]end end end;c.SetSoundPreview=function(d,e)local g=c.PreviewSound;if not g then g=Instance.new("Sound")g.Name="Preview"g.Paused:Connect(function()local b=c.GetSoundPreviewEntry()if b then a.MiscIcons:DisplayByKey(b.GuiElems.SoundPreview.ControlButton.Icon,"Play")end end)g.Resumed:Connect(function()c.Refresh()end)g.Ended:Connect(function()local a=c.GetSoundPreviewEntry()if a then a.GuiElems.SoundPreviewSlider.Position=UDim2.new(0,-4,0,-8)end;c.Refresh()end)g.Parent=f.Gui;c.PreviewSound=g end;if not d then g:Pause()else local a=g.SoundId~=d.SoundId;g.SoundId=d.SoundId;g.PlaybackSpeed=d.PlaybackSpeed;g.Volume=d.Volume;if a then g.TimePosition=0 end;if not e then g:Resume()end;coroutine.wrap(function()local a=tick()c.SoundPreviewTime=a;while a==c.SoundPreviewTime and g.Playing do local a=c.GetSoundPreviewEntry()if a then local b=g.TimeLength;local b=g.TimePosition/(b==0 and 1 or b)a.GuiElems.SoundPreviewSlider.Position=UDim2.new(b,-4,0,-8)end;b.FastWait()end end)()c.Refresh()end end;c.DisplayAttributeContext=function(a)local d=c.AttributeContext;if not d then d=b.ContextMenu.new()d.Iconless=true;d.Width=80 end;d:Clear()d:Add({Name="编辑",OnClick=function()c.DisplayAddAttributeWindow(a)end})d:Add({Name="删除",OnClick=function()c.SetProp(a,nil,true)c.ShowExplorerProps()end})d:Show()end;c.DisplayAddAttributeWindow=function(a)local e=c.AddAttributeWindow;if not e then e=b.Window.new()e.Alignable=false;e.Resizable=false;e:SetTitle("添加属性")e:SetSize(200,130)local a=b.Button.new()local f=b.Label.new()f.Text="名字"f.Position=UDim2.new(0,30,0,10)f.Size=UDim2.new(0,40,0,20)e:Add(f)local f=b.ViewportTextBox.new()f.Position=UDim2.new(0,75,0,10)f.Size=UDim2.new(0,120,0,20)e:Add(f,"NameBox")f.TextBox:GetPropertyChangedSignal("Text"):Connect(function()a:SetDisabled(#f:GetText()==0)end)local g=b.Label.new()g.Text="类型"g.Position=UDim2.new(0,30,0,40)g.Size=UDim2.new(0,40,0,20)e:Add(g)local g=b.DropDown.new()g.CanBeEmpty=false;g.Position=UDim2.new(0,75,0,40)g.Size=UDim2.new(0,120,0,20)g:SetOptions(c.AllowedAttributeTypes)e:Add(g,"TypeChooser")local h=b.Label.new()h.Text=""h.Position=UDim2.new(0,5,1,-45)h.Size=UDim2.new(1,-10,0,20)h.TextColor3=d.Theme.Important;e.ErrorLabel=h;e:Add(h,"Error")local b=b.Button.new()b.Text="取消"b.Position=UDim2.new(1,-97,1,-25)b.Size=UDim2.new(0,92,0,20)b.OnClick:Connect(function()e:Close()end)e:Add(b)a.Text="保存"a.Position=UDim2.new(0,5,1,-25)a.Size=UDim2.new(0,92,0,20)a.OnClick:Connect(function()local a=f:GetText()if#a>100 then h.Text="名字超过100个字符"return elseif a:sub(1,3)=="RBX"then h.Text="名字RBX开头'"return end;local b=g.Selected;local b={Name=c.TypeNameConvert[b]or b,Category="DataType"}local a={IsAttribute=true,Name="ATTR_"..a,AttributeName=a,DisplayName=a,Class="Instance",ValueType=b,Category="Attributes",Tags={}}d.Properties.ShowAttributes=true;c.SetProp(a,c.DefaultPropValue[b.Name],true,c.EditingAttribute)c.ShowExplorerProps()e:Close()end)e:Add(a,"SaveButton")c.AddAttributeWindow=e end;c.EditingAttribute=a;e:SetTitle(a and"编辑属性 "..a.AttributeName or"添加属性")e.Elements.Error.Text=""e.Elements.NameBox:SetText("")e.Elements.SaveButton:SetDisabled(true)e.Elements.TypeChooser:SetSelected(1)e:Show()end;c.IsTextEditable=function(a)local a=a.ValueType;local b=a.Name;return b~="bool"and a.Category~="Enum"and a.Category~="Class"and b~="BrickColor"end;c.DisplayEnumDropdown=function(a)local d=c.EnumContext;if not d then d=b.ContextMenu.new()d.Iconless=true;d.MaxHeight=200;d.ReverseYOffset=22;c.EnumDropdown=d end;if not y or y.ValueType.Category~="Enum"then return end;local b=y;local a=u[a]local a=a.GuiElems.ValueFrame;local e=Enum[b.ValueType.Name]if not e then return end;local f={}for a,a in next,e:GetEnumItems()do f[#f+1]=a end;B.sort(f,function(a,b)return a.Name<b.Name end)d:Clear()local function g(a)if b~=y then return end;local a=e[a]y=nil;c.SetProp(b,a)end;for a=1,#f do local a=f[a]d:Add({Name=a.Name,OnClick=g})end;d.Width=a.AbsoluteSize.X;d:Show(a.AbsolutePosition.X,a.AbsolutePosition.Y+22)end;c.DisplayBrickColorEditor=function(d,e,f)local g=c.BrickColorEditor;if not g then g=b.BrickColorPicker.new()g.Gui.DisplayOrder=a.DisplayOrders.Menu;g.ReverseYOffset=22;g.OnSelect:Connect(function(a)if not g.CurrentProp or g.CurrentProp.ValueType.Name~="BrickColor"then return end;if g.CurrentProp==y then y=nil end;c.SetProp(g.CurrentProp,BrickColor.new(a))end)g.OnMoreColors:Connect(function()g:Close()local a;for b,b in pairs(i.Classes.BasePart.Properties)do if b.Name=="Color"then a=b;break end end;c.DisplayColorEditor(a,g.SavedColor.Color)end)c.BrickColorEditor=g end;local a=u[e]local a=a.GuiElems.ValueFrame;g.CurrentProp=d;g.SavedColor=f;if d and d.Class=="BasePart"and d.Name=="BrickColor"then g:SetMoreColorsVisible(true)else g:SetMoreColorsVisible(false)end;g:Show(a.AbsolutePosition.X,a.AbsolutePosition.Y+22)end;c.DisplayColorEditor=function(a,d)local e=c.ColorEditor;if not e then e=b.ColorPicker.new()e.OnSelect:Connect(function(a)if not e.CurrentProp then return end;local b=e.CurrentProp.ValueType.Name;if b~="Color3"and b~="BrickColor"then return end;local a=(b=="Color3"and a or BrickColor.new(a))if e.CurrentProp==y then y=nil end;c.SetProp(e.CurrentProp,a)end)c.ColorEditor=e end;e.CurrentProp=a;if d then e:SetColor(d)else local a=c.GetFirstPropVal(a)if a then e:SetColor(a)end end;e:Show()end;c.DisplayNumberSequenceEditor=function(a,d)local e=c.NumberSequenceEditor;if not e then e=b.NumberSequenceEditor.new()e.OnSelect:Connect(function(a)if not e.CurrentProp or e.CurrentProp.ValueType.Name~="NumberSequence"then return end;if e.CurrentProp==y then y=nil end;c.SetProp(e.CurrentProp,a)end)c.NumberSequenceEditor=e end;e.CurrentProp=a;if d then e:SetSequence(d)else local a=c.GetFirstPropVal(a)if a then e:SetSequence(a)end end;e:Show()end;c.DisplayColorSequenceEditor=function(a,d)local e=c.ColorSequenceEditor;if not e then e=b.ColorSequenceEditor.new()e.OnSelect:Connect(function(a)if not e.CurrentProp or e.CurrentProp.ValueType.Name~="ColorSequence"then return end;if e.CurrentProp==y then y=nil end;c.SetProp(e.CurrentProp,a)end)c.ColorSequenceEditor=e end;e.CurrentProp=a;if d then e:SetSequence(d)else local a=c.GetFirstPropVal(a)if a then e:SetSequence(a)end end;e:Show()end;c.GetFirstPropVal=function(a)local b=c.FindFirstObjWhichIsA(a.Class)if b then return c.GetPropVal(a,b)end end;c.GetPropVal=function(a,b)if a.MultiType then return"<Multiple Types>"end;if not b then return end;local d;if a.IsAttribute then d=G(b,a.AttributeName)if d==nil then return nil end;local b=typeof(d)local b=c.TypeNameConvert[b]or b;if a.RootType then if a.RootType.Name~=b then return nil end elseif a.ValueType.Name~=b then return nil end else d=b[a.Name]end;if a.SubName then local a=C.split(a.SubName,".")for b=1,#a do local a=a[b]if#a>0 and d then d=d[a]end end end;return d end;c.SelectObject=function(a)if y and y.ValueType.Category=="Class"then local b=y;y=nil;if F(a,b.ValueType.Name)then c.SetProp(b,a)else c.Refresh()end;return true end;return false end;c.DisplayProp=function(e,f)local g=e.Name;local g=e.ValueType;local h=g.Name;local i=e.Tags;local j=e.Class.."."..e.Name..(e.SubName or"")local k=v[j]local l=u[f]local m=UDim2;local l=l.GuiElems;local n=l.ValueFrame;local n=l.ValueBox;local o=l.ColorButton;local p=l.ColorPreview;local q=l.Gradient;local r=l.EnumArrow;local s=l.Checkbox;local t=l.RightButton;local u=l.SoundPreview;local k=c.GetPropVal(e,k)local w=y and(y.Class.."."..y.Name..(y.SubName or""))local x=4;local y=6;if(h=="Color3"or h=="BrickColor"or h=="ColorSequence")then o.Visible=true;r.Visible=false;if k then q.Color=(h=="Color3"and ColorSequence.new(k))or(h=="BrickColor"and ColorSequence.new(k.Color))or k else q.Color=ColorSequence.new(Color3.new(1,1,1))end;p.BorderColor3=(h=="ColorSequence"and Color3.new(1,1,1)or Color3.new(0,0,0))x=22;y=24+(h=="ColorSequence"and 20 or 0)elseif g.Category=="Enum"then o.Visible=false;r.Visible=not e.Tags.ReadOnly;y=22 elseif(j==w and g.Category=="Class")or h=="NumberSequence"then o.Visible=false;r.Visible=false;y=26 else o.Visible=false;r.Visible=false end;n.Position=m.new(0,x,0,0)n.Size=m.new(1,-y,1,0)if w==j and g.Category=="Class"then a.MiscIcons:DisplayByKey(l.RightButtonIcon,"Delete")l.RightButtonIcon.Visible=true;t.Text=""t.Visible=true elseif h=="NumberSequence"or h=="ColorSequence"then l.RightButtonIcon.Visible=false;t.Text="..."t.Visible=true else t.Visible=false end;if h=="bool"or h=="PhysicalProperties"then n.Visible=false;s.Visible=true;u.Visible=false;z[f].Disabled=i.ReadOnly;if h=="PhysicalProperties"and v[j]then z[f]:SetState(k and true or false)else z[f]:SetState(k)end elseif h=="SoundPlayer"then n.Visible=false;s.Visible=false;u.Visible=true;local b=c.PreviewSound and c.PreviewSound.Playing;a.MiscIcons:DisplayByKey(u.ControlButton.Icon,b and"Pause"or"Play")else n.Visible=true;s.Visible=false;u.Visible=false;if k~=nil then if h=="Color3"then n.Text="["..b.ColorToBytes(k).."]"elseif g.Category=="Enum"then n.Text=k.Name elseif c.RoundableTypes[h]and d.Properties.NumberRounding then local a=c.ValueToString(e,k)n.Text=a:gsub("-?%d+%.%d+",function(a)return tostring(tonumber(("%."..d.Properties.NumberRounding.."f"):format(a)))end)else n.Text=c.ValueToString(e,k)end else n.Text=""end;n.TextColor3=i.ReadOnly and d.Theme.PlaceholderText or d.Theme.Text end end;c.Refresh=function()local e=math.max(math.ceil((h.AbsoluteSize.Y)/23),0)local f=h.AbsoluteSize.X;local f=math.max(c.MinInputWidth,f-c.ViewWidth)local g=false;local h=t.IsA;local h=UDim2;local i=C.split;local j=d.Properties.ScaleType;for a=1,#A do A[a]:Disconnect()end;B.clear(A)c.FullNameFrame.Visible=false;c.FullNameFrameAttach.Disable()for e=1,e do local k=u[e]if not u[e]then k=c.NewPropEntry(e)u[e]=k end;local l=k.Gui;local k=k.GuiElems;local n=k.NameFrame;local o=k.PropName;local p=k.ValueFrame;local s=k.Expand;local t=k.ValueBox;local u=k.PropName;local x=k.RightButton;local x=k.EditAttributeButton;local z=k.ToggleAttributes;local q=q[e+c.Index]if q then local B=(j==0 and m.Index or 0)l.Visible=true;l.Position=h.new(0,-B,0,l.Position.Y.Offset)l.Size=h.new(j==0 and 0 or 1,j==0 and c.ViewWidth+f or 0,0,22)if q.SpecialRow then if q.SpecialRow=="AddAttribute"then n.Visible=false;p.Visible=false;k.RowButton.Visible=true end else n.Visible=true;k.RowButton.Visible=false;local k=c.EntryIndent*(q.Depth or 1)local k=k+c.EntryOffset;n.Position=h.new(0,k,0,0)o.Size=h.new(1,-2-(j==0 and 0 or 6),1,0)local o=(q.CategoryName and"CAT_"..q.CategoryName)or q.Class.."."..q.Name..(q.SubName or"")if q.CategoryName then l.BackgroundColor3=d.Theme.Main1;p.Visible=false;u.Text=q.CategoryName;u.Font=Enum.Font.SourceSansBold;s.Visible=true;u.TextColor3=d.Theme.Text;n.BackgroundTransparency=1;n.Size=h.new(1,0,1,0)x.Visible=false;local a=d.Properties.ShowAttributes;z.Position=h.new(1,-85-k,0,0)z.Text=(a and"[设置开启]"or"[设置关闭]")z.TextColor3=d.Theme.Text;z.Visible=(q.CategoryName=="Attributes")else local a=q.Name;local b=q.ValueType;local r=b.Name;local B=q.Tags;local v=v[o]local C=(q.IsAttribute and 20 or 0)x.Visible=(q.IsAttribute and not q.RootType)z.Visible=false;if j==0 then n.Size=h.new(0,c.ViewWidth-k-1,1,0)p.Position=h.new(0,c.ViewWidth,0,0)p.Size=h.new(0,f-C,1,0)else n.Size=h.new(0.5,-k-1,1,0)p.Position=h.new(0.5,0,0,0)p.Size=h.new(0.5,-C,1,0)end;local f=i(o,".")u.Text=q.DisplayName or f[#f]u.Font=Enum.Font.SourceSans;l.BackgroundColor3=d.Theme.Main2;p.Visible=true;s.Visible=b.Category=="DataType"and c.ExpandableTypes[r]or c.ExpandableProps[o]u.TextColor3=B.ReadOnly and d.Theme.PlaceholderText or d.Theme.Text;c.DisplayProp(q,e)if v then if q.IsAttribute then A[#A+1]=E(v,q.AttributeName):Connect(function()c.DisplayProp(q,e)end)else A[#A+1]=D(v,a):Connect(function()c.DisplayProp(q,e)end)end end;local a=t.Visible;local e=y and(y.Class.."."..y.Name..(y.SubName or""))if o==e then n.BackgroundColor3=d.Theme.ListSelection;n.BackgroundTransparency=0;if b.Category=="Class"or b.Category=="Enum"or r=="BrickColor"then p.BackgroundColor3=d.Theme.TextBox;p.BackgroundTransparency=0;t.Visible=true else g=true;local a=(j==0 and 0 or 0.5)local b=(j==0 and c.ViewWidth-m.Index or 0)local c=0;if r=="Color3"or r=="ColorSequence"then b=b+22 end;if r=="NumberSequence"or r=="ColorSequence"then c=20 end;w.Position=h.new(a,b,0,l.Position.Y.Offset)w.Size=h.new(1-a,-b-c-C,0,22)w.Visible=true;t.Visible=false end else n.BackgroundColor3=d.Theme.Main1;n.BackgroundTransparency=1;p.BackgroundColor3=d.Theme.Main1;p.BackgroundTransparency=1;t.Visible=a end end;if q.CategoryName or c.ExpandableTypes[q.ValueType and q.ValueType.Name]or c.ExpandableProps[o]then if b.CheckMouseInGui(s)then a.MiscIcons:DisplayByKey(s.Icon,r[o]and"Collapse_Over"or"Expand_Over")else a.MiscIcons:DisplayByKey(s.Icon,r[o]and"Collapse"or"Expand")end;s.Visible=true else s.Visible=false end end;l.Visible=true else l.Visible=false end end;if not g then w.Visible=false end;for a=e+1,#u do u[a].Gui:Destroy()u[a]=nil;z[a]=nil end end;c.SetProp=function(a,b,d,f)local e=e.Selection.List;local g=a.Name;local h=a.SubName;local i=a.Class;local j=a.ValueType;local j=j.Name;local k=a.AttributeName;local l=a.RootType;local l=l and l.Name;local m=a.Class.."."..a.Name..(a.SubName or"")local m=Vector3;for c=1,#e do local c=e[c]local c=c.Obj;if F(c,i)then pcall(function()local b=b;local d;if a.IsAttribute then d=G(c,k)else d=c[g]end;if f then if f.ValueType.Name==j then b=G(c,f.AttributeName)or b end;H(c,f.AttributeName,nil)end;if l then if l=="Vector2"then b=Vector2.new((h==".X"and b)or d.X,(h==".Y"and b)or d.Y)elseif l=="Vector3"then b=m.new((h==".X"and b)or d.X,(h==".Y"and b)or d.Y,(h==".Z"and b)or d.Z)elseif l=="UDim"then b=UDim.new((h==".Scale"and b)or d.Scale,(h==".Offset"and b)or d.Offset)elseif l=="UDim2"then local a,c=d.X,d.Y;local a=(h==".X"and b)or UDim.new((h==".X.Scale"and b)or a.Scale,(h==".X.Offset"and b)or a.Offset)local c=(h==".Y"and b)or UDim.new((h==".Y.Scale"and b)or c.Scale,(h==".Y.Offset"and b)or c.Offset)b=UDim2.new(a,c)elseif l=="CFrame"then local a,c,d,e=d.Position,d.RightVector,d.UpVector,d.LookVector;local a=(h==".Position"and b)or m.new((h==".Position.X"and b)or a.X,(h==".Position.Y"and b)or a.Y,(h==".Position.Z"and b)or a.Z)local c=(h==".RightVector"and b)or m.new((h==".RightVector.X"and b)or c.X,(h==".RightVector.Y"and b)or c.Y,(h==".RightVector.Z"and b)or c.Z)local d=(h==".UpVector"and b)or m.new((h==".UpVector.X"and b)or d.X,(h==".UpVector.Y"and b)or d.Y,(h==".UpVector.Z"and b)or d.Z)local e=(h==".LookVector"and b)or m.new((h==".LookVector.X"and b)or e.X,(h==".RightVector.Y"and b)or e.Y,(h==".RightVector.Z"and b)or e.Z)b=CFrame.fromMatrix(a,c,d,-e)elseif l=="Rect"then local a,c=d.Min,d.Max;local a=Vector2.new((h==".Min.X"and b)or a.X,(h==".Min.Y"and b)or a.Y)local c=Vector2.new((h==".Max.X"and b)or c.X,(h==".Max.Y"and b)or c.Y)b=Rect.new(a,c)elseif l=="PhysicalProperties"then local a=PhysicalProperties.new(c.Material)local c=(h==".Density"and b)or(d and d.Density)or a.Density;local e=(h==".Friction"and b)or(d and d.Friction)or a.Friction;local f=(h==".Elasticity"and b)or(d and d.Elasticity)or a.Elasticity;local g=(h==".FrictionWeight"and b)or(d and d.FrictionWeight)or a.FrictionWeight;local a=(h==".ElasticityWeight"and b)or(d and d.ElasticityWeight)or a.ElasticityWeight;b=PhysicalProperties.new(c,e,f,g,a)elseif l=="Ray"then local a,c=d.Origin,d.Direction;local a=(h==".Origin"and b)or m.new((h==".Origin.X"and b)or a.X,(h==".Origin.Y"and b)or a.Y,(h==".Origin.Z"and b)or a.Z)local c=(h==".Direction"and b)or m.new((h==".Direction.X"and b)or c.X,(h==".Direction.Y"and b)or c.Y,(h==".Direction.Z"and b)or c.Z)b=Ray.new(a,c)elseif l=="Faces"then local a={}local c={"Back","Bottom","Front","Left","Right","Top"}for c,c in pairs(c)do local e;if h=="."..c then e=b else e=d[c]end;if e then a[#a+1]=Enum.NormalId[c]end end;b=Faces.new(unpack(a))elseif l=="Axes"then local a={}local c={"X","Y","Z"}for c,c in pairs(c)do local e;if h=="."..c then e=b else e=d[c]end;if e then a[#a+1]=Enum.Axis[c]end end;b=Axes.new(unpack(a))elseif l=="NumberRange"then b=NumberRange.new(h==".Min"and b or d.Min,h==".Max"and b or d.Max)end end;if j=="PhysicalProperties"and b then b=d or PhysicalProperties.new(c.Material)end;if a.IsAttribute then H(c,k,b)else c[g]=b end end)end end;if not d then c.ComputeConflicts(a)end end;c.InitInputBox=function()w=n({{1,"Frame",{BackgroundColor3=Color3.new(0.14901961386204,0.14901961386204,0.14901961386204),BorderSizePixel=0,Name="InputBox",Size=UDim2.new(0,200,0,22),Visible=false,ZIndex=2}},{2,"TextBox",{BackgroundColor3=Color3.new(0.17647059261799,0.17647059261799,0.17647059261799),BackgroundTransparency=1,BorderColor3=Color3.new(0.062745101749897,0.51764708757401,1),BorderSizePixel=0,ClearTextOnFocus=false,Font=3,Parent={1},PlaceholderColor3=Color3.new(0.69803923368454,0.69803923368454,0.69803923368454),Position=UDim2.new(0,3,0,0),Size=UDim2.new(1,-6,1,0),Text="",TextColor3=Color3.new(1,1,1),TextSize=14,TextXAlignment=0,ZIndex=2}}})x=w.TextBox;w.BackgroundColor3=d.Theme.TextBox;w.Parent=c.Window.GuiElems.Content.List;x.FocusLost:Connect(function()if not y then return end;local a=y;y=nil;local b=c.StringToValue(a,x.Text)if b then c.SetProp(a,b)else c.Refresh()end end)x.Focused:Connect(function()x.SelectionStart=1;x.CursorPosition=#x.Text+1 end)b.ViewportTextBox.convert(x)end;c.SetInputProp=function(a,b,d)local e=a.ValueType;local f=e.Name;local g=a.Class.."."..a.Name..(a.SubName or"")local g=v[g]local g=c.GetPropVal(a,g)if a.Tags.ReadOnly then return end;y=a;if d then if d=="color"then if f=="Color3"then x.Text=g and c.ValueToString(a,g)or""c.DisplayColorEditor(a,g)elseif f=="BrickColor"then c.DisplayBrickColorEditor(a,b,g)elseif f=="ColorSequence"then x.Text=g and c.ValueToString(a,g)or""c.DisplayColorSequenceEditor(a,g)end elseif d=="right"then if f=="NumberSequence"then x.Text=g and c.ValueToString(a,g)or""c.DisplayNumberSequenceEditor(a,g)elseif f=="ColorSequence"then x.Text=g and c.ValueToString(a,g)or""c.DisplayColorSequenceEditor(a,g)end end else if c.IsTextEditable(a)then x.Text=g and c.ValueToString(a,g)or""x:CaptureFocus()elseif e.Category=="Enum"then c.DisplayEnumDropdown(b)elseif f=="BrickColor"then c.DisplayBrickColorEditor(a,b,g)end end;c.Refresh()end;c.InitSearch=function()local a=l.TweenService;local d=c.GuiElems.ToolBar.SearchFrame;local e=d.SearchBox;local f=TweenInfo.new(0.2,Enum.EasingStyle.Quint)local a={Start=a:Create(d.UIStroke,f,{Color=Color3.fromRGB(0,120,215)}),End=a:Create(d.UIStroke,f,{Color=Color3.fromRGB(42,42,42)})}b.ViewportTextBox.convert(e)e.FocusLost:Connect(function()a.End:Play()end)e.Focused:Connect(function()a.Start:Play()end)e:GetPropertyChangedSignal("Text"):Connect(function()c.SearchText=e.Text;c.Update()c.Refresh()end)end;c.InitEntryStuff=function()c.EntryTemplate=n({{1,"TextButton",{AutoButtonColor=false,BackgroundColor3=Color3.new(0.17647059261799,0.17647059261799,0.17647059261799),BorderColor3=Color3.new(0.1294117718935,0.1294117718935,0.1294117718935),Font=3,Name="Entry",Position=UDim2.new(0,1,0,1),Size=UDim2.new(0,250,0,22),Text="",TextSize=14}},{2,"Frame",{BackgroundColor3=Color3.new(0.04313725605607,0.35294118523598,0.68627452850342),BackgroundTransparency=1,BorderColor3=Color3.new(0.33725491166115,0.49019610881805,0.73725491762161),BorderSizePixel=0,Name="NameFrame",Parent={1},Position=UDim2.new(0,20,0,0),Size=UDim2.new(1,-40,1,0)}},{3,"TextLabel",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,Font=3,Name="PropName",Parent={2},Position=UDim2.new(0,2,0,0),Size=UDim2.new(1,-2,1,0),Text="Anchored",TextColor3=Color3.new(1,1,1),TextSize=14,TextTransparency=0.10000000149012,TextTruncate=1,TextXAlignment=0}},{4,"TextButton",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,ClipsDescendants=true,Font=3,Name="Expand",Parent={2},Position=UDim2.new(0,-20,0,1),Size=UDim2.new(0,20,0,20),Text="",TextSize=14,Visible=false}},{5,"ImageLabel",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,Image="rbxassetid://5642383285",ImageRectOffset=Vector2.new(144,16),ImageRectSize=Vector2.new(16,16),Name="Icon",Parent={4},Position=UDim2.new(0,2,0,2),ScaleType=4,Size=UDim2.new(0,16,0,16)}},{6,"TextButton",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,BorderSizePixel=0,Font=4,Name="ToggleAttributes",Parent={2},Position=UDim2.new(1,-85,0,0),Size=UDim2.new(0,85,0,22),Text="[设置: OFF]",TextColor3=Color3.new(1,1,1),TextSize=14,TextTransparency=0.10000000149012,Visible=false}},{7,"Frame",{BackgroundColor3=Color3.new(0.04313725605607,0.35294118523598,0.68627452850342),BackgroundTransparency=1,BorderColor3=Color3.new(0.33725491166115,0.49019607901573,0.73725491762161),BorderSizePixel=0,Name="ValueFrame",Parent={1},Position=UDim2.new(1,-100,0,0),Size=UDim2.new(0,80,1,0)}},{8,"Frame",{BackgroundColor3=Color3.new(0.14117647707462,0.14117647707462,0.14117647707462),BorderColor3=Color3.new(0.33725491166115,0.49019610881805,0.73725491762161),BorderSizePixel=0,Name="Line",Parent={7},Position=UDim2.new(0,-1,0,0),Size=UDim2.new(0,1,1,0)}},{9,"TextButton",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,BorderSizePixel=0,Font=3,Name="ColorButton",Parent={7},Size=UDim2.new(0,20,0,22),Text="",TextColor3=Color3.new(1,1,1),TextSize=14,Visible=false}},{10,"Frame",{BackgroundColor3=Color3.new(1,1,1),BorderColor3=Color3.new(0,0,0),Name="ColorPreview",Parent={9},Position=UDim2.new(0,5,0,6),Size=UDim2.new(0,10,0,10)}},{11,"UIGradient",{Parent={10}}},{12,"Frame",{BackgroundTransparency=1,Name="EnumArrow",Parent={7},Position=UDim2.new(1,-16,0,3),Size=UDim2.new(0,16,0,16),Visible=false}},{13,"Frame",{BackgroundColor3=Color3.new(0.86274510622025,0.86274510622025,0.86274510622025),BorderSizePixel=0,Parent={12},Position=UDim2.new(0,8,0,9),Size=UDim2.new(0,1,0,1)}},{14,"Frame",{BackgroundColor3=Color3.new(0.86274510622025,0.86274510622025,0.86274510622025),BorderSizePixel=0,Parent={12},Position=UDim2.new(0,7,0,8),Size=UDim2.new(0,3,0,1)}},{15,"Frame",{BackgroundColor3=Color3.new(0.86274510622025,0.86274510622025,0.86274510622025),BorderSizePixel=0,Parent={12},Position=UDim2.new(0,6,0,7),Size=UDim2.new(0,5,0,1)}},{16,"TextButton",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,Font=3,Name="ValueBox",Parent={7},Position=UDim2.new(0,4,0,0),Size=UDim2.new(1,-8,1,0),Text="",TextColor3=Color3.new(1,1,1),TextSize=14,TextTransparency=0.10000000149012,TextTruncate=1,TextXAlignment=0}},{17,"TextButton",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,BorderSizePixel=0,Font=3,Name="RightButton",Parent={7},Position=UDim2.new(1,-20,0,0),Size=UDim2.new(0,20,0,22),Text="...",TextColor3=Color3.new(1,1,1),TextSize=14,Visible=false}},{18,"TextButton",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,BorderSizePixel=0,Font=3,Name="SettingsButton",Parent={7},Position=UDim2.new(1,-20,0,0),Size=UDim2.new(0,20,0,22),Text="",TextColor3=Color3.new(1,1,1),TextSize=14,Visible=false}},{19,"Frame",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,Name="SoundPreview",Parent={7},Size=UDim2.new(1,0,1,0),Visible=false}},{20,"TextButton",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,BorderSizePixel=0,Font=3,Name="ControlButton",Parent={19},Size=UDim2.new(0,20,0,22),Text="",TextColor3=Color3.new(1,1,1),TextSize=14}},{21,"ImageLabel",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,Image="rbxassetid://5642383285",ImageRectOffset=Vector2.new(144,16),ImageRectSize=Vector2.new(16,16),Name="Icon",Parent={20},Position=UDim2.new(0,2,0,3),ScaleType=4,Size=UDim2.new(0,16,0,16)}},{22,"Frame",{BackgroundColor3=Color3.new(0.3137255012989,0.3137255012989,0.3137255012989),BorderSizePixel=0,Name="TimeLine",Parent={19},Position=UDim2.new(0,26,0.5,-1),Size=UDim2.new(1,-34,0,2)}},{23,"Frame",{BackgroundColor3=Color3.new(0.2352941185236,0.2352941185236,0.2352941185236),BorderColor3=Color3.new(0.1294117718935,0.1294117718935,0.1294117718935),Name="Slider",Parent={22},Position=UDim2.new(0,-4,0,-8),Size=UDim2.new(0,8,0,18)}},{24,"TextButton",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,BorderSizePixel=0,Font=3,Name="EditAttributeButton",Parent={1},Position=UDim2.new(1,-20,0,0),Size=UDim2.new(0,20,0,22),Text="",TextColor3=Color3.new(1,1,1),TextSize=14}},{25,"ImageLabel",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,Image="rbxassetid://5034718180",ImageTransparency=0.20000000298023,Name="Icon",Parent={24},Position=UDim2.new(0,2,0,3),Size=UDim2.new(0,16,0,16)}},{26,"TextButton",{AutoButtonColor=false,BackgroundColor3=Color3.new(0.2352941185236,0.2352941185236,0.2352941185236),BorderSizePixel=0,Font=3,Name="RowButton",Parent={1},Size=UDim2.new(1,0,1,0),Text="添加属性",TextColor3=Color3.new(1,1,1),TextSize=14,TextTransparency=0.10000000149012,Visible=false}}})local a=b.Frame.new()local d=b.Label.new()d.Parent=a.Gui;d.Position=UDim2.new(0,2,0,0)d.Size=UDim2.new(1,-4,1,0)a.Visible=false;a.Parent=f.Gui;c.FullNameFrame=a;c.FullNameFrameAttach=b.AttachTo(a)end;c.Init=function()local a=n({{1,"Folder",{Name="Items"}},{2,"Frame",{BackgroundColor3=Color3.new(0.20392157137394,0.20392157137394,0.20392157137394),BorderSizePixel=0,Name="ToolBar",Parent={1},Size=UDim2.new(1,0,0,22)}},{3,"Frame",{BackgroundColor3=Color3.new(0.14901961386204,0.14901961386204,0.14901961386204),BorderColor3=Color3.new(0.1176470592618,0.1176470592618,0.1176470592618),BorderSizePixel=0,Name="SearchFrame",Parent={2},Position=UDim2.new(0,3,0,1),Size=UDim2.new(1,-6,0,18)}},{4,"TextBox",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,ClearTextOnFocus=false,Font=3,Name="SearchBox",Parent={3},PlaceholderColor3=Color3.new(0.39215689897537,0.39215689897537,0.39215689897537),PlaceholderText="搜索属性",Position=UDim2.new(0,4,0,0),Size=UDim2.new(1,-24,0,18),Text="",TextColor3=Color3.new(1,1,1),TextSize=14,TextXAlignment=0}},{5,"UICorner",{CornerRadius=UDim.new(0,2),Parent={3}}},{6,"UIStroke",{Thickness=1.4,Parent={3},Color=Color3.fromRGB(42,42,42)}},{7,"TextButton",{AutoButtonColor=false,BackgroundColor3=Color3.new(0.12549020349979,0.12549020349979,0.12549020349979),BackgroundTransparency=1,BorderSizePixel=0,Font=3,Name="Reset",Parent={3},Position=UDim2.new(1,-17,0,1),Size=UDim2.new(0,16,0,16),Text="",TextColor3=Color3.new(1,1,1),TextSize=14}},{8,"ImageLabel",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,Image="rbxassetid://5034718129",ImageColor3=Color3.new(0.39215686917305,0.39215686917305,0.39215686917305),Parent={7},Size=UDim2.new(0,16,0,16)}},{9,"TextButton",{AutoButtonColor=false,BackgroundColor3=Color3.new(0.12549020349979,0.12549020349979,0.12549020349979),BackgroundTransparency=1,BorderSizePixel=0,Font=3,Name="Refresh",Parent={2},Position=UDim2.new(1,-20,0,1),Size=UDim2.new(0,18,0,18),Text="",TextColor3=Color3.new(1,1,1),TextSize=14,Visible=false}},{10,"ImageLabel",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,Image="rbxassetid://5642310344",Parent={9},Position=UDim2.new(0,3,0,3),Size=UDim2.new(0,12,0,12)}},{11,"Frame",{BackgroundColor3=Color3.new(0.15686275064945,0.15686275064945,0.15686275064945),BorderSizePixel=0,Name="ScrollCorner",Parent={1},Position=UDim2.new(1,-16,1,-16),Size=UDim2.new(0,16,0,16),Visible=false}},{12,"Frame",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,ClipsDescendants=true,Name="List",Parent={1},Position=UDim2.new(0,0,0,23),Size=UDim2.new(1,0,1,-23)}}})o=i.CategoryOrder;for a,b in next,o do if not c.CollapsedCategories[a]then r["CAT_"..a]=true end end;r["Sound.SoundId"]=true;f=b.Window.new()c.Window=f;f:SetTitle("属性")g=a.ToolBar;h=a.List;c.GuiElems.ToolBar=g;c.GuiElems.PropsFrame=h;c.InitEntryStuff()f.GuiElems.Main:GetPropertyChangedSignal("AbsoluteSize"):Connect(function()if c.Window:IsContentVisible()then c.UpdateView()c.Refresh()end end)f.OnActivate:Connect(function()c.UpdateView()c.Update()c.Refresh()end)f.OnRestore:Connect(function()c.UpdateView()c.Update()c.Refresh()end)k=b.ScrollBar.new()k.WheelIncrement=3;k.Gui.Position=UDim2.new(1,-16,0,23)k:SetScrollFrame(h)k.Scrolled:Connect(function()c.Index=k.Index;c.Refresh()end)m=b.ScrollBar.new(true)m.Increment=5;m.WheelIncrement=20;m.Gui.Position=UDim2.new(0,0,1,-16)m.Scrolled:Connect(function()c.Refresh()end)local b=task.spawn(function()while wait()and d.Properties.AutoRefresh do c.Refresh()end end)f.GuiElems.Line.Position=UDim2.new(0,0,0,22)g.Parent=f.GuiElems.Content;h.Parent=f.GuiElems.Content;a.ScrollCorner.Parent=f.GuiElems.Content;k.Gui.Parent=f.GuiElems.Content;m.Gui.Parent=f.GuiElems.Content;c.InitInputBox()c.InitSearch()end;return c end;return{InitDeps=p,InitAfterMain=k,Main=c}end,ScriptViewer=function()local a,b,c,d;local e,f,g,h;local i,j,k,l,m,n,o;local function p(e)a=e.Main;b=e.Lib;c=e.Apps;d=e.Settings;i=e.API;j=e.RMD;k=e.env;l=e.service;m=e.plr;n=e.create;o=e.createSimple end;local function a()e=c.Explorer;f=c.Properties;g=c.ScriptViewer;h=c.Notebook end;local function c()local a={}local c,d;local f=nil;a.ViewScript=function(a)local b,g=pcall(k.decompile,a)if not b or not g then if not k.decompile then g,f=("-- Vex - %s 反编译失败 注入器没有反编译函数"):format(k.executor),nil elseif(a.ClassName=="Script"and(a.RunContext==Enum.RunContext.Server))or not a:IsA("LocalScript")then g,f=("-- Vex - %s 反编译失败 尝试反编译服务器脚本"):format(k.executor),nil else g,f=("-- Vex - %s 反编译失败 %s"):format(k.executor,a.ClassName),nil end else f=a;local b=g;g="--[[\n脚本路径: "..e.GetInstancePath(a).."\n"g=g.."注入器: "..k.executor.."\n]]\n\n"..b end;d:SetText(g)c:Show()end;a.Init=function()c=b.Window.new()c:SetTitle("脚本查看")c:Resize(500,400)a.Window=c;d=b.CodeFrame.new()d.Frame.Position=UDim2.new(0,0,0,20)d.Frame.Size=UDim2.new(1,0,1,-40)d.Frame.Parent=c.GuiElems.Content;local a=Instance.new("TextButton",c.GuiElems.Content)a.BackgroundTransparency=1;a.Size=UDim2.new(0.5,0,0,20)a.Text="复制"a.TextColor3=Color3.new(1,1,1)a.MouseButton1Click:Connect(function()local a=d:GetText()k.setclipboard(a)end)local a=Instance.new("TextButton",c.GuiElems.Content)a.BackgroundTransparency=1;a.Position=UDim2.new(0.35,0,0,0)a.Size=UDim2.new(0.3,0,0,20)a.Text="保存为文件"a.TextColor3=Color3.new(1,1,1)a.MouseButton1Click:Connect(function()local a=d:GetText()local b="Place_"..t.PlaceId.."_Script_"..os.time()..".txt"k.writefile(b,a)if k.movefileas then k.movefileas(b,".txt")end end)local a=Instance.new("TextButton",c.GuiElems.Content)a.BackgroundTransparency=1;a.Position=UDim2.new(0.7,0,0,0)a.Size=UDim2.new(0.3,0,0,20)a.Text="转储函数"a.TextColor3=Color3.new(1,1,1)a.MouseButton1Click:Connect(function()if f~=nil then pcall(function()local a=getgc or get_gc_objects;local b=(debug and debug.getupvalues)or getupvalues or getupvals;local c=(debug and debug.getconstants)or getconstants or getconsts;local e=(debug and(debug.getinfo or debug.info))or getinfo;local g=("\n-- // Function Dumper made by King.Kevin\n-- // Script Path: %s\n\n--[["):format(f:GetFullName())local h=g;local i,j,j={},0,{}function i:add_to_dump(a,b,c)local c=c or true;h=h..("%s%s%s"):format(string.rep("		",b),tostring(a),c and"\n"or"")end;function i:get_function_name(a)local a=e(a).name;return a~=""and a or"Unknown Name"end;function i:dump_table(a,b,c)local b=b<0 and 0 or b;i:add_to_dump(("%s [%s] %s"):format(tostring(c),tostring(typeof(a)),tostring(a)),b-1)local c=0;for a,d in pairs(a)do c=c+1;if type(d)=="function"then i:add_to_dump(("%d [function] = %s"):format(c,i:get_function_name(d)),b)elseif type(d)=="table"then if not j[d]then j[d]=true;i:add_to_dump(("%d [table]:"):format(c),b)i:dump_table(d,b+1,a)else i:add_to_dump(("%d [table] (Recursive table detected)"):format(c),b)end else i:add_to_dump(("%d [%s] = %s"):format(c,tostring(typeof(d)),tostring(d)),b)end end end;function i:dump_function(a,d)i:add_to_dump(("\nFunction Dump: %s"):format(i:get_function_name(a)),d)i:add_to_dump(("\nFunction Upvalues: %s"):format(i:get_function_name(a)),d)for a,b in pairs(b(a))do if type(b)=="function"then i:add_to_dump(("%d [function] = %s"):format(a,i:get_function_name(b)),d+1)elseif type(b)=="table"then if not j[b]then j[b]=true;i:add_to_dump(("%d [table]:"):format(a),d+1)i:dump_table(b,d+2,a)else i:add_to_dump(("%d [table] (Recursive table detected)"):format(a),d+1)end else i:add_to_dump(("%d [%s] = %s"):format(a,tostring(typeof(b)),tostring(b)),d+1)end end;i:add_to_dump(("\nFunction Constants: %s"):format(i:get_function_name(a)),d)for a,b in pairs(c(a))do if type(b)=="function"then i:add_to_dump(("%d [function] = %s"):format(a,i:get_function_name(b)),d+1)elseif type(b)=="table"then if not j[b]then j[b]=true;i:add_to_dump(("%d [table]:"):format(a),d+1)i:dump_table(b,d+2,a)else i:add_to_dump(("%d [table] (Recursive table detected)"):format(a),d+1)end else i:add_to_dump(("%d [%s] = %s"):format(a,tostring(typeof(b)),tostring(b)),d+1)end end end;for a,a in pairs(a())do if typeof(a)=="function"and getfenv(a).script and getfenv(a).script==f then i:dump_function(a,0)i:add_to_dump("\n"..("="):rep(100),0,false)end end;local a=d:GetText()if h~=g then a=a..h.."]]"end;d:SetText(a)end)end end)end;return a end;return{InitDeps=p,InitAfterMain=a,Main=c}end,Lib=function()local j,k,l,m;local n,o,p,q;local r,u,v,w,x,y,z;local function A(a)j=a.Main;k=a.Lib;l=a.Apps;m=a.Settings;r=a.API;u=a.RMD;v=a.env;w=a.service;x=a.plr;y=a.create;z=a.createSimple end;local function k()n=l.Explorer;o=l.Properties;p=l.ScriptViewer;q=l.Notebook end;local function l()local k={}local l=w.RunService.RenderStepped;local o=l.wait;local q=newproxy()local r=newproxy()local function A(a,b)local c=type;local function d(a)local b={}for a,e in pairs(a)do if e==r then b[a]=k.Signal.new()elseif c(e)=="table"then b[a]=d(e)else b[a]=e end end;return b end;local a=d(a)return setmetatable(a,b)end;local function B(a,b)return{__index=function(c,d)if not a[d]then return b[d]or c.Gui[d]end end,__newindex=function(b,c,d)if not a[c]then b.Gui[c]=d else rawset(b,c,d)end end}end;k.FormatLuaString=(function()local a=string;local b=a.gsub;local c=a.format;local a=a.char;local d={['"']='\\"',['\\']='\\\\'}for b=0,31 do d[a(b)]="\\"..c("%03d",b)end;for b=127,255 do d[a(b)]="\\"..c("%03d",b)end;return function(a)return b(a,"[\"\\\0-\31\127-\255]",d)end end)()k.CheckMouseInGui=function(a)if a==nil then return false end;local b=j.Mouse;local c=a.AbsolutePosition;local a=a.AbsoluteSize;return b.X>=c.X and b.X<c.X+a.X and b.Y>=c.Y and b.Y<c.Y+a.Y end;k.IsShiftDown=function()return w.UserInputService:IsKeyDown(Enum.KeyCode.LeftShift)or w.UserInputService:IsKeyDown(Enum.KeyCode.RightShift)end;k.IsCtrlDown=function()return w.UserInputService:IsKeyDown(Enum.KeyCode.LeftControl)or w.UserInputService:IsKeyDown(Enum.KeyCode.RightControl)end;k.CreateArrow=function(a,b,c)local d=b;local e=z("Frame",{BackgroundTransparency=1,Name="Arrow",Size=UDim2.new(0,a,0,a)})if c=="up"then for b=1,b do local a=z("Frame",{BackgroundColor3=Color3.new(0.8627450980392157,0.8627450980392157,0.8627450980392157),BorderSizePixel=0,Position=UDim2.new(0,math.floor(a/2)-(b-1),0,math.floor(a/2)+b-math.floor(d/2)-1),Size=UDim2.new(0,b+(b-1),0,1),Parent=e})end;return e elseif c=="down"then for b=1,b do local a=z("Frame",{BackgroundColor3=Color3.new(0.8627450980392157,0.8627450980392157,0.8627450980392157),BorderSizePixel=0,Position=UDim2.new(0,math.floor(a/2)-(b-1),0,math.floor(a/2)-b+math.floor(d/2)+1),Size=UDim2.new(0,b+(b-1),0,1),Parent=e})end;return e elseif c=="left"then for b=1,b do local a=z("Frame",{BackgroundColor3=Color3.new(0.8627450980392157,0.8627450980392157,0.8627450980392157),BorderSizePixel=0,Position=UDim2.new(0,math.floor(a/2)+b-math.floor(d/2)-1,0,math.floor(a/2)-(b-1)),Size=UDim2.new(0,1,0,b+(b-1)),Parent=e})end;return e elseif c=="right"then for b=1,b do local a=z("Frame",{BackgroundColor3=Color3.new(0.8627450980392157,0.8627450980392157,0.8627450980392157),BorderSizePixel=0,Position=UDim2.new(0,math.floor(a/2)-b+math.floor(d/2)+1,0,math.floor(a/2)-(b-1)),Size=UDim2.new(0,1,0,b+(b-1)),Parent=e})end;return e end;error("r u ok")end;k.ParseXML=(function()local a=function()local g,h,h=string,print,pairs;local i=function(a)local b=a:match"^%s*()"return b>#a and""or a:match(".*%S",b)end;local i=g.byte('>',1)local i=g.byte('/',1)local j=g.byte('D',1)local j=g.byte('E',1)function a(a,d)a=a:gsub('<!%-%-(.-)%-%->','')local e,f={}if d then local d=a:find('<[_%w]')if d then a:sub(1,d):gsub('<!ENTITY%s+([_%w]+)%s+(.)(.-)%2',function(a,b,b)e[#e+1]={name=a,value=b}end)f=b(e)a=c(a:sub(d),f)end end;local b,c={},{}local d=function(a)a=a:match'^%s*(.*%S)'or''if#a~=0 then b[#b+1]={text=a}end end;a:gsub('<([?!/]?)([-:_%w]+)%s*(/?>?)([^<]*)',function(a,f,h,k)if#a==0 then local a={}if#h==0 then local b=0;for c,d,e,e,f in g.gmatch(k,"(.-([-_%w]+)%s*=%s*(.)(.-)%3%s*(/?>?))")do b=b+#c;a[d]=e;if#f~=0 then k=k:sub(b+1)h=f;break end end end;b[#b+1]={tag=f,attrs=a,children={}}if h:byte(1)~=i then c[#c+1]=b;b=b[#b].children end;d(k)elseif'/'==a then b=c[#c]c[#c]=nil;d(k)elseif'!'==a then if j==f:byte(1)then k:gsub('([_%w]+)%s+(.)(.-)%2',function(a,b,b)e[#e+1]={name=a,value=b}end,1)end end end)return{children=b,entities=e,tentities=f}end;function d(b)return a(b)end;function e()return{quot='"',apos='\'',lt='<',gt='>',amp='&',tab='\t',nbsp=' '}end;function c(a,b)return a:gsub('&([^;]+);',b)end;function b(a,b)f=b or e()for a,a in h(a)do a.value=c(a.value,f)f[a.name]=a.value end;return f end;return d end;local b=setmetatable({},{__index=getfenv()})setfenv(a,b)return a()end)()k.FastWait=function(a)if not a then return o(l)end;local b=tick()while tick()-b<a do o(l)end end;k.ButtonAnim=function(a,b)local c=false;local d=false;local e=b and b.Mode or 1;local f={}if e==2 then local c=b.LerpTo or Color3.new(0,0,0)local d=b.LerpDelta or 0.2;f.StartColor=b.StartColor or a.BackgroundColor3;f.PressColor=b.PressColor or f.StartColor:lerp(c,d)f.HoverColor=b.HoverColor or f.StartColor:lerp(f.PressColor,0.6)f.OutlineColor=b.OutlineColor end;a.InputBegan:Connect(function(b)if d then return end;if b.UserInputType==Enum.UserInputType.MouseMovement or b.UserInputType==Enum.UserInputType.Touch then if not c then if e==1 then a.BackgroundTransparency=0.4 elseif e==2 then a.BackgroundColor3=f.HoverColor end end elseif b.UserInputType==Enum.UserInputType.MouseButton1 or b.UserInputType==Enum.UserInputType.Touch then c=true;if e==1 then a.BackgroundTransparency=0 elseif e==2 then a.BackgroundColor3=f.PressColor;if f.OutlineColor then a.BorderColor3=f.PressColor end end end end)a.InputEnded:Connect(function(b)if d then return end;if b.UserInputType==Enum.UserInputType.MouseMovement or b.UserInputType==Enum.UserInputType.Touch then if not c then if e==1 then a.BackgroundTransparency=1 elseif e==2 then a.BackgroundColor3=f.StartColor end end elseif b.UserInputType==Enum.UserInputType.MouseButton1 or b.UserInputType==Enum.UserInputType.Touch then c=false;if e==1 then a.BackgroundTransparency=k.CheckMouseInGui(a)and 0.4 or 1 elseif e==2 then a.BackgroundColor3=k.CheckMouseInGui(a)and f.HoverColor or f.StartColor;if f.OutlineColor then a.BorderColor3=f.OutlineColor end end end end)f.Disable=function()d=true;c=false;if e==1 then a.BackgroundTransparency=1 elseif e==2 then a.BackgroundColor3=f.StartColor end end;f.Enable=function()d=false end;return f end;k.FindAndRemove=function(a,b)local b=table.find(a,b)if b then table.remove(a,b)end end;k.AttachTo=function(a,b)local c,d,e,f,g,h,i;local j=false;local function k()if not a or not c then return end;local b=c.AbsolutePosition;local c=c.AbsoluteSize;a.Position=UDim2.new(0,b.X+d,0,b.Y+e)if h then a.Size=UDim2.new(0,c.X+f,0,c.Y+g)end end;local function l(b,l)a=b;l=l or{}c=l.Target;d=l.PosOffX or 0;e=l.PosOffY or 0;f=l.SizeOffX or 0;g=l.SizeOffY or 0;h=l.Resize or false;if i then i:Disconnect()i=nil end;if c then i=c.Changed:Connect(function(a)if not j and a=="AbsolutePosition"or a=="AbsoluteSize"then k()end end)end;k()end;l(a,b)return{SetData=function(a,b)l(a,b)end,Enable=function()j=false;k()end,Disable=function()j=true end,Destroy=function()i:Disconnect()i=nil end}end;k.ProtectedGuis={}k.ShowGui=function(a)if v.gethui then a.Parent=v.gethui()elseif v.protectgui then v.protectgui(a)a.Parent=j.GuiHolder else a.Parent=j.GuiHolder end end;k.ColorToBytes=function(a)local b=math.round;return string.format("%d, %d, %d",b(a.r*255),b(a.g*255),b(a.b*255))end;k.ReadFile=function(a)if not v.readfile then return end;local a,b=pcall(v.readfile,a)if a and b then return b end end;k.DeferFunc=function(a,...)o(l)return a(...)end;k.LoadCustomAsset=function(a)if not v.getcustomasset or not v.isfile or not v.isfile(a)then return end;return v.getcustomasset(a)end;k.FetchCustomAsset=function(a,b)if not v.writefile then return end;local a,c=pcall(s.HttpGet,t,a)if not a then return end;v.writefile(b,c)return k.LoadCustomAsset(b)end;k.SaveAsPrompt=function(a)local b=p.SaveAsWindow;if not b then b=k.Window.new()b.Alignable=false;b.Resizable=false;b:SetTitle("保存")b:SetSize(300,95)local c=k.Button.new()local d=k.Label.new()d.Text="名字"d.Position=UDim2.new(0,30,0,10)d.Size=UDim2.new(0,40,0,20)b:Add(d)local d=k.ViewportTextBox.new()d.Position=UDim2.new(0,75,0,10)d.Size=UDim2.new(0,220,0,20)b:Add(d,"NameBox")d.TextBox:GetPropertyChangedSignal("Text"):Connect(function()c:SetDisabled(#d:GetText()==0)end)local e=k.Label.new()e.Text=""e.Position=UDim2.new(0,5,1,-45)e.Size=UDim2.new(1,-10,0,20)e.TextColor3=m.Theme.Important;b.ErrorLabel=e;b:Add(e,"Error")local e=k.Button.new()e.AnchorPoint=Vector2.new(1,1)e.Text="取消"e.Position=UDim2.new(1,-5,1,-5)e.Size=UDim2.new(0.5,-10,0,20)e.OnClick:Connect(function()b:Close()end)b:Add(e)c.Text="保存"c.AnchorPoint=Vector2.new(0,1)c.Position=UDim2.new(0,5,1,-5)c.Size=UDim2.new(0.5,-5,0,20)c.OnClick:Connect(function()local c=(d:GetText()~=""and d:GetText())or filename;g=c:match("%.([^%.]+)$")or""c=c:gsub("%.[^.]+$","")..g;local a,a=pcall(v.saveinstance,a,{FilePath=c,Decompile=true,RemovePlayerCharacters=false})b:Close()end)b:Add(c,"SaveButton")p.SaveAsWindow=b end;b:Show()end;k.Signal=(function()local a={}local b=function(a)local b=table.find(a.Signal.Connections,a)if b then table.remove(a.Signal.Connections,b)end end;a.Connect=function(a,c)if type(c)~="function"then error("Attempt to connect a non-function")end;local b={Signal=a,Func=c,Disconnect=b}a.Connections[#a.Connections+1]=b;return b end;a.Fire=function(a,...)for a,a in next,a.Connections do xpcall(coroutine.wrap(a.Func),function(a)warn(a.."\n"..debug.traceback())end,...)end end;local a={__index=a,__tostring=function(a)return"Signal: "..tostring(#a.Connections).." Connections"end}local function b()local b={}b.Connections={}return setmetatable(b,a)end;return{new=b}end)()k.Set=(function()local a={}a.Add=function(a,b)if a.Map[b]then return end;local c=a.List;c[#c+1]=b;a.Map[b]=true;a.Changed:Fire()end;a.AddTable=function(a,b)local c;local d,e=a.List,a.Map;for a=1,#b do local a=b[a]if not e[a]then d[#d+1]=a;e[a]=true;c=true end end;if c then a.Changed:Fire()end end;a.Remove=function(a,b)if not a.Map[b]then return end;local c=a.List;local d=table.find(c,b)if d then table.remove(c,d)end;a.Map[b]=nil;a.Changed:Fire()end;a.RemoveTable=function(a,b)local c;local d,e=a.List,a.Map;local f={}for a=1,#b do local a=b[a]e[a]=nil;f[a]=true end;for a=#d,1,-1 do local b=d[a]if f[b]then table.remove(d,a)c=true end end;if c then a.Changed:Fire()end end;a.Set=function(a,b)if#a.List==1 and a.List[1]==b then return end;a.List={b}a.Map={[b]=true}a.Changed:Fire()end;a.SetTable=function(a,b)local c,d={},{}a.List,a.Map=c,d;table.move(b,1,#b,1,c)for a=1,#b do d[b[a]]=true end;a.Changed:Fire()end;a.Clear=function(a)if#a.List==0 then return end;a.List={}a.Map={}a.Changed:Fire()end;local a={__index=a}local function b()local a=setmetatable({List={},Map={},Changed=k.Signal.new()},a)return a end;return{new=b}end)()k.IconMap=(function()local a={}local b,c=(483448923),{["Accessory"]=32;["Accoutrement"]=32;["AdService"]=73;["Animation"]=60;["AnimationController"]=60;["AnimationTrack"]=60;["Animator"]=60;["ArcHandles"]=56;["AssetService"]=72;["Attachment"]=34;["Backpack"]=20;["BadgeService"]=75;["BallSocketConstraint"]=89;["BillboardGui"]=64;["BinaryStringValue"]=4;["BindableEvent"]=67;["BindableFunction"]=66;["BlockMesh"]=8;["BloomEffect"]=90;["BlurEffect"]=90;["BodyAngularVelocity"]=14;["BodyForce"]=14;["BodyGyro"]=14;["BodyPosition"]=14;["BodyThrust"]=14;["BodyVelocity"]=14;["BoolValue"]=4;["BoxHandleAdornment"]=54;["BrickColorValue"]=4;["Camera"]=5;["CFrameValue"]=4;["CharacterMesh"]=60;["Chat"]=33;["ClickDetector"]=41;["CollectionService"]=30;["Color3Value"]=4;["ColorCorrectionEffect"]=90;["ConeHandleAdornment"]=54;["Configuration"]=58;["ContentProvider"]=72;["ContextActionService"]=41;["CoreGui"]=46;["CoreScript"]=18;["CornerWedgePart"]=1;["CustomEvent"]=4;["CustomEventReceiver"]=4;["CylinderHandleAdornment"]=54;["CylinderMesh"]=8;["CylindricalConstraint"]=89;["Debris"]=30;["Decal"]=7;["Dialog"]=62;["DialogChoice"]=63;["DoubleConstrainedValue"]=4;["Explosion"]=36;["FileMesh"]=8;["Fire"]=61;["Flag"]=38;["FlagStand"]=39;["FloorWire"]=4;["Folder"]=70;["ForceField"]=37;["Frame"]=48;["GamePassService"]=19;["Glue"]=34;["GuiButton"]=52;["GuiMain"]=47;["GuiService"]=47;["Handles"]=53;["HapticService"]=84;["Hat"]=45;["HingeConstraint"]=89;["Hint"]=33;["HopperBin"]=22;["HttpService"]=76;["Humanoid"]=9;["ImageButton"]=52;["ImageLabel"]=49;["InsertService"]=72;["IntConstrainedValue"]=4;["IntValue"]=4;["JointInstance"]=34;["JointsService"]=34;["Keyframe"]=60;["KeyframeSequence"]=60;["KeyframeSequenceProvider"]=60;["Lighting"]=13;["LineHandleAdornment"]=54;["LocalScript"]=18;["LogService"]=87;["MarketplaceService"]=46;["Message"]=33;["Model"]=2;["ModuleScript"]=71;["Motor"]=34;["Motor6D"]=34;["MoveToConstraint"]=89;["NegateOperation"]=78;["NetworkClient"]=16;["NetworkReplicator"]=29;["NetworkServer"]=15;["NumberValue"]=4;["ObjectValue"]=4;["Pants"]=44;["ParallelRampPart"]=1;["Part"]=1;["ParticleEmitter"]=69;["PartPairLasso"]=57;["PathfindingService"]=37;["Platform"]=35;["Player"]=12;["PlayerGui"]=46;["Players"]=21;["PlayerScripts"]=82;["PointLight"]=13;["PointsService"]=83;["Pose"]=60;["PrismaticConstraint"]=89;["PrismPart"]=1;["PyramidPart"]=1;["RayValue"]=4;["ReflectionMetadata"]=86;["ReflectionMetadataCallbacks"]=86;["ReflectionMetadataClass"]=86;["ReflectionMetadataClasses"]=86;["ReflectionMetadataEnum"]=86;["ReflectionMetadataEnumItem"]=86;["ReflectionMetadataEnums"]=86;["ReflectionMetadataEvents"]=86;["ReflectionMetadataFunctions"]=86;["ReflectionMetadataMember"]=86;["ReflectionMetadataProperties"]=86;["ReflectionMetadataYieldFunctions"]=86;["RemoteEvent"]=80;["RemoteFunction"]=79;["ReplicatedFirst"]=72;["ReplicatedStorage"]=72;["RightAngleRampPart"]=1;["RocketPropulsion"]=14;["RodConstraint"]=89;["RopeConstraint"]=89;["Rotate"]=34;["RotateP"]=34;["RotateV"]=34;["RunService"]=66;["ScreenGui"]=47;["Script"]=6;["ScrollingFrame"]=48;["Seat"]=35;["Selection"]=55;["SelectionBox"]=54;["SelectionPartLasso"]=57;["SelectionPointLasso"]=57;["SelectionSphere"]=54;["ServerScriptService"]=0;["ServerStorage"]=74;["Shirt"]=43;["ShirtGraphic"]=40;["SkateboardPlatform"]=35;["Sky"]=28;["SlidingBallConstraint"]=89;["Smoke"]=59;["Snap"]=34;["Sound"]=11;["SoundService"]=31;["Sparkles"]=42;["SpawnLocation"]=25;["SpecialMesh"]=8;["SphereHandleAdornment"]=54;["SpotLight"]=13;["SpringConstraint"]=89;["StarterCharacterScripts"]=82;["StarterGear"]=20;["StarterGui"]=46;["StarterPack"]=20;["StarterPlayer"]=88;["StarterPlayerScripts"]=82;["Status"]=2;["StringValue"]=4;["SunRaysEffect"]=90;["SurfaceGui"]=64;["SurfaceLight"]=13;["SurfaceSelection"]=55;["Team"]=24;["Teams"]=23;["TeleportService"]=81;["Terrain"]=65;["TerrainRegion"]=65;["TestService"]=68;["TextBox"]=51;["TextButton"]=51;["TextLabel"]=50;["Texture"]=10;["TextureTrail"]=4;["Tool"]=17;["TouchTransmitter"]=37;["TrussPart"]=1;["UnionOperation"]=77;["UserInputService"]=84;["Vector3Value"]=4;["VehicleSeat"]=35;["VelocityMotor"]=34;["WedgePart"]=1;["Weld"]=34;["Workspace"]=19}a.ExplorerIcons={["MapId"]=b,["Icons"]=c}a.GetLabel=function(a)local b=Instance.new("ImageLabel")a:SetupLabel(b)return b end;a.SetupLabel=function(a,b)b.BackgroundTransparency=1;b.ImageRectOffset=Vector2.new(0,0)b.ImageRectSize=Vector2.new(a.IconSizeX,a.IconSizeY)b.ScaleType=Enum.ScaleType.Crop;b.Size=UDim2.new(0,a.IconSizeX,0,a.IconSizeY)end;a.Display=function(a,b,c)b.Image=a.MapId;if not a.NumX then b.ImageRectOffset=Vector2.new(a.IconSizeX*c,0)else b.ImageRectOffset=Vector2.new(a.IconSizeX*(c%a.NumX),a.IconSizeY*math.floor(c/a.NumX))end end;a.DisplayByKey=function(a,b,c)if a.IndexDict[c]then a:Display(b,a.IndexDict[c])else local a=u.Classes[b.ClassName]n.ClassIcons:Display(b,a and a.ExplorerImageIndex or 0)end end;a.IconDehash=function(a,a)return math.floor(a/14%14),math.floor(a%14)end;a.GetExplorerIcon=function(a,b,c)c=(a.ExplorerIcons.Icons[c]or 0)local a,c=a:IconDehash(c)local d=Vector2.new(256,256)local e,f=2,1;local g=16;b.Position=UDim2.new(-c-(e*(c+1)+f)/g,0,-a-(e*(a+1)+f)/g,0)b.Size=UDim2.new(d.X/g,0,d.Y/g,0)end;a.DisplayExplorerIcons=function(a,b,c)if b:FindFirstChild("IconMap")then a:GetExplorerIcon(b.IconMap,c)else b.ClipsDescendants=true;local b=Instance.new("ImageLabel",b)b.BackgroundTransparency=1;b.Image=("http://www.roblox.com/asset/?id="..(a.ExplorerIcons.MapId))b.Name="IconMap"a:GetExplorerIcon(b,c)end end;a.SetDict=function(a,b)a.IndexDict=b end;local b={}b.__index=a;local function a(a,c,d,e,f)local a=setmetatable({MapId=a,MapSizeX=c,MapSizeY=d,IconSizeX=e,IconSizeY=f,NumX=c/e,IndexDict={}},b)return a end;local function c(a,c,d)local a=setmetatable({MapId=a,IconSizeX=c,IconSizeY=d,IndexDict={}},b)return a end;return{new=a,newLinear=c}end)()k.ScrollBar=(function()local a={}local b=w.UserInputService;local c=x:GetMouse()local d=k.CheckMouseInGui;local e=k.CreateArrow;local function f(a)local b=a.TotalSpace;local c=a.VisibleSpace;local d=a.Index;local d=a.GuiElems.ScrollThumb;local e=a.GuiElems.ScrollThumbFrame;if not(a:CanScrollUp()or a:CanScrollDown())then d.Visible=false else d.Visible=true end;if a.Horizontal then d.Size=UDim2.new(c/b,0,1,0)if d.AbsoluteSize.X<16 then d.Size=UDim2.new(0,16,1,0)end;local b=e.AbsoluteSize.X;local c=d.AbsoluteSize.X;d.Position=UDim2.new(a:GetScrollPercent()*(b-c)/b,0,0,0)else d.Size=UDim2.new(1,0,c/b,0)if d.AbsoluteSize.Y<16 then d.Size=UDim2.new(1,0,0,16)end;local b=e.AbsoluteSize.Y;local c=d.AbsoluteSize.Y;d.Position=UDim2.new(0,0,a:GetScrollPercent()*(b-c)/b,0)end end;local function g(a)local f=z("Frame",{Style=0,Active=true,AnchorPoint=Vector2.new(0,0),BackgroundColor3=Color3.new(0.35294118523598,0.35294118523598,0.35294118523598),BackgroundTransparency=0,BorderColor3=Color3.new(0.10588236153126,0.16470588743687,0.20784315466881),BorderSizePixel=0,ClipsDescendants=false,Draggable=false,Position=UDim2.new(1,-16,0,0),Rotation=0,Selectable=false,Size=UDim2.new(0,16,1,0),SizeConstraint=0,Visible=true,ZIndex=1,Name="ScrollBar"})local g,h;if a.Horizontal then f.Size=UDim2.new(1,0,0,16)g=z("ImageButton",{Parent=f,Name="Left",Size=UDim2.new(0,16,0,16),BackgroundTransparency=1,BorderSizePixel=0,AutoButtonColor=false})e(16,4,"left").Parent=g;h=z("ImageButton",{Parent=f,Name="Right",Position=UDim2.new(1,-16,0,0),Size=UDim2.new(0,16,0,16),BackgroundTransparency=1,BorderSizePixel=0,AutoButtonColor=false})e(16,4,"right").Parent=h else f.Size=UDim2.new(0,16,1,0)g=z("ImageButton",{Parent=f,Name="Up",Size=UDim2.new(0,16,0,16),BackgroundTransparency=1,BorderSizePixel=0,AutoButtonColor=false})e(16,4,"up").Parent=g;h=z("ImageButton",{Parent=f,Name="Down",Position=UDim2.new(0,0,1,-16),Size=UDim2.new(0,16,0,16),BackgroundTransparency=1,BorderSizePixel=0,AutoButtonColor=false})e(16,4,"down").Parent=h end;local e=z("ImageButton",{BackgroundTransparency=1,Parent=f})if a.Horizontal then e.Position=UDim2.new(0,16,0,0)e.Size=UDim2.new(1,-32,1,0)else e.Position=UDim2.new(0,0,0,16)e.Size=UDim2.new(1,0,1,-32)end;local i=z("Frame",{BackgroundColor3=Color3.new(0.47058823529411764,0.47058823529411764,0.47058823529411764),BorderSizePixel=0,Parent=e})local j=z("Frame",{BackgroundTransparency=1,Name="Markers",Size=UDim2.new(1,0,1,0),Parent=e})local k=false;local l=false;local m=false;local function n(c,e)if a:CanScroll(e)then c.BackgroundTransparency=0.5;a:ScrollToDirection(e)a.Scrolled:Fire()local f=tick()local g;g=b.InputEnded:Connect(function(a)if a.UserInputType==Enum.UserInputType.MouseButton1 or a.UserInputType==Enum.UserInputType.Touch then g:Disconnect()c.BackgroundTransparency=d(c)and 0.8 or 1;k=false end end)while k do if tick()-f>=0.25 and a:CanScroll(e)then a:ScrollToDirection(e)a.Scrolled:Fire()end;task.wait()end end end;g.MouseButton1Down:Connect(function(a)k=true;n(g,"Up")end)g.InputEnded:Connect(function(a)if a.UserInputType==Enum.UserInputType.MouseButton1 or a.UserInputType==Enum.UserInputType.Touch then g.BackgroundTransparency=1 end end)h.MouseButton1Down:Connect(function(a)k=true;n(h,"Down")end)h.InputEnded:Connect(function(a)if a.UserInputType==Enum.UserInputType.MouseButton1 or a.UserInputType==Enum.UserInputType.Touch then h.BackgroundTransparency=1 end end)i.InputBegan:Connect(function(d)if(d.UserInputType==Enum.UserInputType.MouseButton1 or d.UserInputType==Enum.UserInputType.Touch)then local d=a.Horizontal and"X"or"Y"local f=nil;l=true;i.BackgroundTransparency=0;local g=c[d]-i.AbsolutePosition[d]local h;local j;h=b.InputEnded:Connect(function(a)if a.UserInputType==Enum.UserInputType.MouseButton1 or a.UserInputType==Enum.UserInputType.Touch then h:Disconnect()if j then j:Disconnect()end;i.BackgroundTransparency=0.2;l=false end end)j=b.InputChanged:Connect(function(b)if(b.UserInputType==Enum.UserInputType.MouseMovement or b.UserInputType==Enum.UserInputType.Touch)and l then local b=e.AbsoluteSize[d]-i.AbsoluteSize[d]local c=c[d]-e.AbsolutePosition[d]-g;if c>b then c=b elseif c<0 then c=0 end;if f~=c then f=c;a:ScrollTo(math.floor(0.5+c/b*(a.TotalSpace-a.VisibleSpace)))end end end)end end)i.InputEnded:Connect(function(a)if a.UserInputType==Enum.UserInputType.MouseMovement or a.UserInputType==Enum.UserInputType.Touch then i.BackgroundTransparency=0 end end)e.InputBegan:Connect(function(f)if(f.UserInputType==Enum.UserInputType.MouseButton1 or f.UserInputType==Enum.UserInputType.Touch)and not d(i)then local f=a.Horizontal and"X"or"Y"local g=(c[f]>=i.AbsolutePosition[f]+i.AbsoluteSize[f])and 1 or 0;local function h()local b=a.VisibleSpace-1;if g==0 and c[f]<i.AbsolutePosition[f]then a:ScrollTo(a.Index-b)elseif g==1 and c[f]>=i.AbsolutePosition[f]+i.AbsoluteSize[f]then a:ScrollTo(a.Index+b)end end;l=false;m=true;h()local a=tick()local c;c=b.InputEnded:Connect(function(a)if a.UserInputType==Enum.UserInputType.MouseButton1 or a.UserInputType==Enum.UserInputType.Touch then c:Disconnect()m=false end end)while m do if tick()-a>=0.3 and d(e)then h()end;task.wait()end end end)f.MouseWheelForward:Connect(function()a:ScrollTo(a.Index-a.WheelIncrement)end)f.MouseWheelBackward:Connect(function()a:ScrollTo(a.Index+a.WheelIncrement)end)a.GuiElems.ScrollThumb=i;a.GuiElems.ScrollThumbFrame=e;a.GuiElems.Button1=g;a.GuiElems.Button2=h;a.GuiElems.MarkerFrame=j;return f end;a.Update=function(a,b)local b=a.TotalSpace;local c=a.VisibleSpace;local d=a.Index;local d=a.GuiElems.Button1;local e=a.GuiElems.Button2;a.Index=math.clamp(a.Index,0,math.max(0,b-c))if a.LastTotalSpace~=a.TotalSpace then a.LastTotalSpace=a.TotalSpace;a:UpdateMarkers()end;if a:CanScrollUp()then for a,a in pairs(d.Arrow:GetChildren())do a.BackgroundTransparency=0 end else d.BackgroundTransparency=1;for a,a in pairs(d.Arrow:GetChildren())do a.BackgroundTransparency=0.5 end end;if a:CanScrollDown()then for a,a in pairs(e.Arrow:GetChildren())do a.BackgroundTransparency=0 end else e.BackgroundTransparency=1;for a,a in pairs(e.Arrow:GetChildren())do a.BackgroundTransparency=0.5 end end;f(a)end;a.UpdateMarkers=function(a)local b=a.GuiElems.MarkerFrame;b:ClearAllChildren()for c,d in pairs(a.Markers)do if c<a.TotalSpace then z("Frame",{BackgroundTransparency=0,BackgroundColor3=d,BorderSizePixel=0,Position=a.Horizontal and UDim2.new(c/a.TotalSpace,0,1,-6)or UDim2.new(1,-6,c/a.TotalSpace,0),Size=a.Horizontal and UDim2.new(0,1,0,6)or UDim2.new(0,6,0,1),Name="Marker"..tostring(c),Parent=b})end end end;a.AddMarker=function(a,b,c)a.Markers[b]=c or Color3.new(0,0,0)end;a.ScrollTo=function(a,b,c)a.Index=b;a:Update()if not c then a.Scrolled:Fire()end end;a.ScrollUp=function(a)a.Index=a.Index-a.Increment;a:Update()end;a.CanScroll=function(a,b)if b=="Up"then return a:CanScrollUp()elseif b=="Down"then return a:CanScrollDown()end;return false end;a.ScrollDown=function(a)a.Index=a.Index+a.Increment;a:Update()end;a.CanScrollUp=function(a)return a.Index>0 end;a.CanScrollDown=function(a)return a.Index+a.VisibleSpace<a.TotalSpace end;a.GetScrollPercent=function(a)return a.Index/(a.TotalSpace-a.VisibleSpace)end;a.SetScrollPercent=function(a,b)a.Index=math.floor(b*(a.TotalSpace-a.VisibleSpace))a:Update()end;a.ScrollToDirection=function(a,b)if b=="Up"then a:ScrollUp()elseif b=="Down"then a:ScrollDown()end end;a.Texture=function(a,b)a.ThumbColor=b.ThumbColor or Color3.new(0,0,0)a.ThumbSelectColor=b.ThumbSelectColor or Color3.new(0,0,0)a.GuiElems.ScrollThumb.BackgroundColor3=b.ThumbColor or Color3.new(0,0,0)a.Gui.BackgroundColor3=b.FrameColor or Color3.new(0,0,0)a.GuiElems.Button1.BackgroundColor3=b.ButtonColor or Color3.new(0,0,0)a.GuiElems.Button2.BackgroundColor3=b.ButtonColor or Color3.new(0,0,0)for a,a in pairs(a.GuiElems.Button1.Arrow:GetChildren())do a.BackgroundColor3=b.ArrowColor or Color3.new(0,0,0)end;for a,a in pairs(a.GuiElems.Button2.Arrow:GetChildren())do a.BackgroundColor3=b.ArrowColor or Color3.new(0,0,0)end end;a.SetScrollFrame=function(a,b)if a.ScrollUpEvent then a.ScrollUpEvent:Disconnect()a.ScrollUpEvent=nil end;if a.ScrollDownEvent then a.ScrollDownEvent:Disconnect()a.ScrollDownEvent=nil end;a.ScrollUpEvent=b.MouseWheelForward:Connect(function()a:ScrollTo(a.Index-a.WheelIncrement)end)a.ScrollDownEvent=b.MouseWheelBackward:Connect(function()a:ScrollTo(a.Index+a.WheelIncrement)end)end;local b={}b.__index=a;local function a(a)local a=setmetatable({Index=0,VisibleSpace=0,TotalSpace=0,Increment=1,WheelIncrement=1,Markers={},GuiElems={},Horizontal=a,LastTotalSpace=0,Scrolled=k.Signal.new()},b)a.Gui=g(a)a:Texture({ThumbColor=Color3.fromRGB(60,60,60),ThumbSelectColor=Color3.fromRGB(75,75,75),ArrowColor=Color3.new(1,1,1),FrameColor=Color3.fromRGB(40,40,40),ButtonColor=Color3.fromRGB(75,75,75)})return a end;return{new=a}end)()k.Window=(function()local a={}local b={MinWidth=200,FreeWidth=200}local c=x:GetMouse()local c,d;local e={}local f={Width=300,Windows={},ResizeCons={},Hidden=true}local g={Width=300,Windows={},ResizeCons={},Hidden=true}local i;local l;local m=TweenInfo.new(0.3,Enum.EasingStyle.Quad,Enum.EasingDirection.Out)local n={}local o=t.IsA;local p={MainColor1=Color3.fromRGB(52,52,52),MainColor2=Color3.fromRGB(45,45,45),Button=Color3.fromRGB(60,60,60)}local function q()for a=1,#n do n[a]:Cancel()end;n={}end;local function r(a,b,c)local d=a.GuiElems.Main;b.InputBegan:Connect(function(e)if not a.Dragging and not a.Resizing and a.Resizable and a.ResizableInternal then local f=c:find("[WE]")and true;local g=c:find("[NS]")and true;local h=c:find("W",1,true)and-1 or 1;local c=c:find("N",1,true)and-1 or 1;if a.Minimized and g then return end;if e.UserInputType==Enum.UserInputType.MouseMovement or e.UserInputType==Enum.UserInputType.Touch then b.BackgroundTransparency=0.5 elseif e.UserInputType==Enum.UserInputType.MouseButton1 or e.UserInputType==Enum.UserInputType.Touch then local i,j;local k=e.Position.X-b.AbsolutePosition.X;local e=e.Position.Y-b.AbsolutePosition.Y;a.Resizing=b;b.BackgroundTransparency=1;i=w.UserInputService.InputEnded:Connect(function(c)if c.UserInputType==Enum.UserInputType.MouseButton1 or c.UserInputType==Enum.UserInputType.Touch then i:Disconnect()if j then j:Disconnect()end;a.Resizing=false;b.BackgroundTransparency=1 end end)j=w.UserInputService.InputChanged:Connect(function(i)if a.Resizable and a.ResizableInternal and(i.UserInputType==Enum.UserInputType.MouseMovement or i.UserInputType==Enum.UserInputType.Touch)then a:StopTweens()local j=i.Position.X-b.AbsolutePosition.X-k;local b=i.Position.Y-b.AbsolutePosition.Y-e;if d.AbsoluteSize.X+j*h<a.MinX then j=h*(a.MinX-d.AbsoluteSize.X)end;if d.AbsoluteSize.Y+b*c<a.MinY then b=c*(a.MinY-d.AbsoluteSize.Y)end;if c<0 and d.AbsolutePosition.Y+b<0 then b=-d.AbsolutePosition.Y end;d.Position=d.Position+UDim2.new(0,(h<0 and j or 0),0,(c<0 and b or 0))a.SizeX=a.SizeX+(f and j*h or 0)a.SizeY=a.SizeY+(g and b*c or 0)d.Size=UDim2.new(0,a.SizeX,0,a.Minimized and 20 or a.SizeY)end end)end end end)b.InputEnded:Connect(function(c)if(c.UserInputType==Enum.UserInputType.MouseMovement or c.UserInputType==Enum.UserInputType.Touch)and a.Resizing~=b then b.BackgroundTransparency=1 end end)end;local s;local function t(a)local b=table.find(e,a)if b then table.remove(e,b)table.insert(e,1,a)s()end end;local function u(a,b)local c=c.AbsoluteSize.Y-(math.max(0,#a.Windows-1)*4)local d=0;for a,a in pairs(a.Windows)do d=d+(a.MinY or 100)if d>c-b then return false end end;return true end;local function v(a,b)local d=#a.Windows+1;local c={0,c.AbsoluteSize.Y}for a,e in pairs(a.Windows)do local e=e.PosY+e.SizeY/2;if b<=e then d=a;c[2]=e;break else c[1]=e end end;return d,c end;local function x(a,b)if o(b,"GuiButton")then b.MouseButton1Down:Connect(function()t(a)end)elseif o(b,"TextBox")then b.Focused:Connect(function()t(a)end)end end;local h=function(a)local b=y({{1,"ScreenGui",{Name="Window"}},{2,"Frame",{Active=true,BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,BorderSizePixel=0,Name="Main",Parent={1},Position=UDim2.new(0.40000000596046,0,0.40000000596046,0),Size=UDim2.new(0,300,0,300)}},{3,"Frame",{BackgroundColor3=Color3.new(0.17647059261799,0.17647059261799,0.17647059261799),BorderSizePixel=0,Name="Content",Parent={2},Position=UDim2.new(0,0,0,20),Size=UDim2.new(1,0,1,-20),ClipsDescendants=true}},{4,"Frame",{BackgroundColor3=Color3.fromRGB(33,33,33),BorderSizePixel=0,Name="Line",Parent={3},Size=UDim2.new(1,0,0,1)}},{5,"TextButton",{Text="",AutoButtonColor=false,BackgroundColor3=Color3.new(0.20392157137394,0.20392157137394,0.20392157137394),BorderSizePixel=0,Name="TopBar",Parent={2},Size=UDim2.new(1,0,0,20)}},{6,"TextLabel",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,Font=3,Name="Title",Parent={5},Position=UDim2.new(0,5,0,0),Size=UDim2.new(1,-10,0,20),Text="窗口",TextColor3=Color3.new(1,1,1),TextSize=14,TextXAlignment=0}},{7,"TextButton",{AutoButtonColor=false,BackgroundColor3=Color3.new(0.12549020349979,0.12549020349979,0.12549020349979),BackgroundTransparency=1,BorderSizePixel=0,Font=3,Name="Close",Parent={5},Position=UDim2.new(1,-18,0,2),Size=UDim2.new(0,16,0,16),Text="",TextColor3=Color3.new(1,1,1),TextSize=14}},{8,"ImageLabel",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,Image="rbxassetid://5054663650",Parent={7},Position=UDim2.new(0,3,0,3),Size=UDim2.new(0,10,0,10)}},{9,"UICorner",{CornerRadius=UDim.new(0,4),Parent={7}}},{10,"TextButton",{AutoButtonColor=false,BackgroundColor3=Color3.new(0.12549020349979,0.12549020349979,0.12549020349979),BackgroundTransparency=1,BorderSizePixel=0,Font=3,Name="Minimize",Parent={5},Position=UDim2.new(1,-36,0,2),Size=UDim2.new(0,16,0,16),Text="",TextColor3=Color3.new(1,1,1),TextSize=14}},{11,"ImageLabel",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,Image="rbxassetid://5034768003",Parent={10},Position=UDim2.new(0,3,0,3),Size=UDim2.new(0,10,0,10)}},{12,"UICorner",{CornerRadius=UDim.new(0,4),Parent={10}}},{13,"ImageLabel",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,BorderSizePixel=0,Image="rbxassetid://1427967925",Name="Outlines",Parent={2},Position=UDim2.new(0,-5,0,-5),ScaleType=1,Size=UDim2.new(1,10,1,10),SliceCenter=Rect.new(6,6,25,25),TileSize=UDim2.new(0,20,0,20)}},{14,"Frame",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,Name="ResizeControls",Parent={2},Position=UDim2.new(0,-5,0,-5),Size=UDim2.new(1,10,1,10)}},{15,"TextButton",{AutoButtonColor=false,BackgroundColor3=Color3.new(0.27450981736183,0.27450981736183,0.27450981736183),BackgroundTransparency=1,BorderSizePixel=0,Font=3,Name="North",Parent={14},Position=UDim2.new(0,5,0,0),Size=UDim2.new(1,-10,0,5),Text="",TextColor3=Color3.new(0,0,0),TextSize=14}},{16,"TextButton",{AutoButtonColor=false,BackgroundColor3=Color3.new(0.27450981736183,0.27450981736183,0.27450981736183),BackgroundTransparency=1,BorderSizePixel=0,Font=3,Name="South",Parent={14},Position=UDim2.new(0,5,1,-5),Size=UDim2.new(1,-10,0,5),Text="",TextColor3=Color3.new(0,0,0),TextSize=14}},{17,"TextButton",{AutoButtonColor=false,BackgroundColor3=Color3.new(0.27450981736183,0.27450981736183,0.27450981736183),BackgroundTransparency=1,BorderSizePixel=0,Font=3,Name="NorthEast",Parent={14},Position=UDim2.new(1,-5,0,0),Size=UDim2.new(0,5,0,5),Text="",TextColor3=Color3.new(0,0,0),TextSize=14}},{18,"TextButton",{AutoButtonColor=false,BackgroundColor3=Color3.new(0.27450981736183,0.27450981736183,0.27450981736183),BackgroundTransparency=1,BorderSizePixel=0,Font=3,Name="East",Parent={14},Position=UDim2.new(1,-5,0,5),Size=UDim2.new(0,5,1,-10),Text="",TextColor3=Color3.new(0,0,0),TextSize=14}},{19,"TextButton",{AutoButtonColor=false,BackgroundColor3=Color3.new(0.27450981736183,0.27450981736183,0.27450981736183),BackgroundTransparency=1,BorderSizePixel=0,Font=3,Name="West",Parent={14},Position=UDim2.new(0,0,0,5),Size=UDim2.new(0,5,1,-10),Text="",TextColor3=Color3.new(0,0,0),TextSize=14}},{20,"TextButton",{AutoButtonColor=false,BackgroundColor3=Color3.new(0.27450981736183,0.27450981736183,0.27450981736183),BackgroundTransparency=1,BorderSizePixel=0,Font=3,Name="SouthEast",Parent={14},Position=UDim2.new(1,-5,1,-5),Size=UDim2.new(0,5,0,5),Text="",TextColor3=Color3.new(0,0,0),TextSize=14}},{21,"TextButton",{AutoButtonColor=false,BackgroundColor3=Color3.new(0.27450981736183,0.27450981736183,0.27450981736183),BackgroundTransparency=1,BorderSizePixel=0,Font=3,Name="NorthWest",Parent={14},Size=UDim2.new(0,5,0,5),Text="",TextColor3=Color3.new(0,0,0),TextSize=14}},{22,"TextButton",{AutoButtonColor=false,BackgroundColor3=Color3.new(0.27450981736183,0.27450981736183,0.27450981736183),BackgroundTransparency=1,BorderSizePixel=0,Font=3,Name="SouthWest",Parent={14},Position=UDim2.new(0,0,1,-5),Size=UDim2.new(0,5,0,5),Text="",TextColor3=Color3.new(0,0,0),TextSize=14}}})local e=b.Main;local i=e.TopBar;local j=e.ResizeControls;a.GuiElems.Main=e;a.GuiElems.TopBar=e.TopBar;a.GuiElems.Content=e.Content;a.GuiElems.Line=e.Content.Line;a.GuiElems.Outlines=e.Outlines;a.GuiElems.Title=i.Title;a.GuiElems.Close=i.Close;a.GuiElems.Minimize=i.Minimize;a.GuiElems.ResizeControls=j;a.ContentPane=e.Content;local l=false;i.MouseButton1Down:Connect(function()l=true end)i.MouseButton1Up:Connect(function()l=false end)i.InputBegan:Connect(function(b)if b.UserInputType==Enum.UserInputType.MouseButton1 or b.UserInputType==Enum.UserInputType.Touch then if a.Draggable then local i,j;local c=c.AbsoluteSize.X;local m=e.AbsolutePosition.X;local n=e.AbsolutePosition.Y;local o=b.Position.X-m;local b=b.Position.Y-n;local p,q;h=true;i=w.UserInputService.InputEnded:Connect(function(b)if b.UserInputType==Enum.UserInputType.MouseButton1 or b.UserInputType==Enum.UserInputType.Touch then i:Disconnect()if j then j:Disconnect()end;h=false;d.Parent=nil;if q then local b=(q=="left"and f)or(q=="right"and g)a:AlignTo(b,p)end end end)j=w.UserInputService.InputChanged:Connect(function(h)if(h.UserInputType==Enum.UserInputType.MouseMovement or h.UserInputType==Enum.UserInputType.Touch)and a.Draggable and not a.Closed and l then if a.Aligned then if f.Resizing or g.Resizing then return end;local b,c=h.Position.X-o,h.Position.Y-b;local b=math.sqrt((b-m)^2+(c-n)^2)if b>=5 then a:SetAligned(false)end else local h,i=h.Position.X,h.Position.Y;local b,j=h-o,i-b;if j<0 then j=0 end;e.Position=UDim2.new(0,b,0,j)if a.Resizable and a.Alignable then if h<25 then if u(f,a.MinY or 100)then local a,b=v(f,i)d.Indicator.Position=UDim2.new(0,-15,0,b[1])d.Indicator.Size=UDim2.new(0,40,0,b[2]-b[1])k.ShowGui(d)p=a;q="left"return end elseif h>=c-25 then if u(g,a.MinY or 100)then local a,b=v(g,i)d.Indicator.Position=UDim2.new(0,c-25,0,b[1])d.Indicator.Size=UDim2.new(0,40,0,b[2]-b[1])k.ShowGui(d)p=a;q="right"return end end end;d.Parent=nil;p=nil;q=nil end end end)end end end)i.Close.MouseButton1Click:Connect(function()if a.Closed then return end;a:Close()end)i.Minimize.MouseButton1Click:Connect(function()if a.Closed then return end;if a.Aligned then a:SetAligned(false)else a:SetMinimized()end end)i.Minimize.MouseButton2Click:Connect(function()if a.Closed then return end;if not a.Aligned then a:SetMinimized(nil,2)i.Minimize.BackgroundTransparency=1 end end)e.InputBegan:Connect(function(b)if(b.UserInputType==Enum.UserInputType.MouseButton1 or b.UserInputType==Enum.UserInputType.Touch)and not a.Aligned and not a.Closed then t(a)end end)e:GetPropertyChangedSignal("AbsolutePosition"):Connect(function()local b=e.AbsolutePosition;a.PosX=b.X;a.PosY=b.Y end)r(a,j.North,"N")r(a,j.NorthEast,"NE")r(a,j.East,"E")r(a,j.SouthEast,"SE")r(a,j.South,"S")r(a,j.SouthWest,"SW")r(a,j.West,"W")r(a,j.NorthWest,"NW")e.Size=UDim2.new(0,a.SizeX,0,a.SizeY)b.DescendantAdded:Connect(function(b)x(a,b)end)local c=b:GetDescendants()for b=1,#c do x(a,c[b])end;a.MinimizeAnim=k.ButtonAnim(i.Minimize)a.CloseAnim=k.ButtonAnim(i.Close)return b end;local function o(a)q()f.Frame.Size=UDim2.new(0,f.Width,1,0)g.Frame.Size=UDim2.new(0,g.Width,1,0)f.Frame.Resizer.Position=UDim2.new(0,f.Width,0,0)g.Frame.Resizer.Position=UDim2.new(0,-5,0,0)local b=#f.Windows==0 or f.Hidden;local d=#g.Windows==0 or g.Hidden;local e=(b and UDim2.new(0,-f.Width-10,0,0)or UDim2.new(0,0,0,0))local h=(d and UDim2.new(1,10,0,0)or UDim2.new(1,-g.Width,0,0))c.LeftToggle.Text=b and">"or"<"c.RightToggle.Text=d and"<"or">"if not a then local function a(...)local a=w.TweenService:Create(...)n[#n+1]=a;a:Play()end;a(f.Frame,m,{Position=e})a(g.Frame,m,{Position=h})a(c.LeftToggle,m,{Position=UDim2.new(0,#f.Windows==0 and-16 or 0,0,-36)})a(c.RightToggle,m,{Position=UDim2.new(1,#g.Windows==0 and 0 or-16,0,-36)})else f.Frame.Position=e;g.Frame.Position=h;c.LeftToggle.Position=UDim2.new(0,#f.Windows==0 and-16 or 0,0,-36)c.RightToggle.Position=UDim2.new(1,#g.Windows==0 and 0 or-16,0,-36)end end;local function q(a)local b=#f.Windows==0 or f.Hidden;local c=#g.Windows==0 or g.Hidden;if a==f then return(b and UDim2.new(0,-f.Width-10,0,0)or UDim2.new(0,0,0,0))else return(c and UDim2.new(1,10,0,0)or UDim2.new(1,-g.Width,0,0))end end;local function r(a)local b=0;local c=q(a)for d,d in pairs(a.Windows)do d.SizeX=a.Width;d.GuiElems.Main.Size=UDim2.new(0,a.Width,0,d.SizeY)d.GuiElems.Main.Position=UDim2.new(c.X.Scale,c.X.Offset,0,b)b=b+d.SizeY+4 end end;local function u(a,d,e,h)local i=j.Mouse;local i=e.Windows;a.InputBegan:Connect(function(j)if not e.Resizing then if j.UserInputType==Enum.UserInputType.MouseMovement then a.BackgroundColor3=p.MainColor2 elseif j.UserInputType==Enum.UserInputType.MouseButton1 or j.UserInputType==Enum.UserInputType.Touch then local k,l;local m=j.Position.X-a.AbsolutePosition.X;local j=j.Position.Y-a.AbsolutePosition.Y;e.Resizing=a;a.BackgroundColor3=p.MainColor2;k=w.UserInputService.InputEnded:Connect(function(b)if b.UserInputType==Enum.UserInputType.MouseButton1 or b.UserInputType==Enum.UserInputType.Touch then k:Disconnect()if l then l:Disconnect()end;e.Resizing=false;a.BackgroundColor3=p.Button end end)l=w.UserInputService.InputChanged:Connect(function(n)if not a.Parent then k:Disconnect()if l then l:Disconnect()end;e.Resizing=false;return end;if n.UserInputType==Enum.UserInputType.MouseMovement or n.UserInputType==Enum.UserInputType.Touch then if d=="V"then local a=n.Position.Y-a.AbsolutePosition.Y-j;if a>0 then local b=a;for a=h+1,#i do local a=i[a]local c=math.max(a.SizeY-b,(a.MinY or 100))b=b-(a.SizeY-c)a.SizeY=c end;i[h].SizeY=i[h].SizeY+math.max(0,a-b)else local b=-a;for a=h,1,-1 do local a=i[a]local c=math.max(a.SizeY-b,(a.MinY or 100))b=b-(a.SizeY-c)a.SizeY=c end;i[h+1].SizeY=i[h+1].SizeY+math.max(0,-a-b)end;o()r(e)elseif d=="H"then local c=math.max(300,c.AbsoluteSize.X-b.FreeWidth)local d=(e==f and g or f)local a=n.Position.X-a.AbsolutePosition.X-m;a=(e==f and a or-a)local a=math.max(b.MinWidth,e.Width+a)if a+d.Width<=c then e.Width=a else local f=c-a;if f>=b.MinWidth then e.Width=a;d.Width=f else e.Width=c-b.MinWidth;d.Width=b.MinWidth end end;o(true)r(e)r(d)end end end)end end end)a.InputEnded:Connect(function(b)if b.UserInputType==Enum.UserInputType.MouseMovement or b.UserInputType==Enum.UserInputType.Touch then if e.Resizing~=a then a.BackgroundColor3=p.Button end end end)end;local function p(a,b)local c=0;local d=q(a)local e=a.WindowResizer:Clone()for a,a in pairs(a.ResizeCons)do a:Disconnect()end;for a,a in pairs(a.Frame:GetChildren())do if a.Name=="WindowResizer"then a:Destroy()end end;a.ResizeCons={}a.Resizing=nil;for f,g in pairs(a.Windows)do g.SidePos=f;local h=f==#a.Windows;local i=UDim2.new(0,a.Width,0,g.SizeY)local d=UDim2.new(d.X.Scale,d.X.Offset,0,c)k.ShowGui(g.Gui)if b then g.GuiElems.Main.Size=i;g.GuiElems.Main.Position=d else local a=w.TweenService:Create(g.GuiElems.Main,m,{Size=i,Position=d})n[#n+1]=a;a:Play()end;c=c+g.SizeY+4;if not h then local b=e:Clone()b.Position=UDim2.new(1,-a.Width,0,c-4)a.ResizeCons[#a.ResizeCons+1]=g.Gui.Main:GetPropertyChangedSignal("Size"):Connect(function()b.Position=UDim2.new(1,-a.Width,0,g.GuiElems.Main.Position.Y.Offset+g.GuiElems.Main.Size.Y.Offset)end)a.ResizeCons[#a.ResizeCons+1]=g.Gui.Main:GetPropertyChangedSignal("Position"):Connect(function()b.Position=UDim2.new(1,-a.Width,0,g.GuiElems.Main.Position.Y.Offset+g.GuiElems.Main.Size.Y.Offset)end)u(b,"V",a,f)b.Parent=a.Frame end end end;local function m(a,b)local d=0;local e=0;local f=0;local g=a.Windows;local c=c.AbsoluteSize.Y-(math.max(0,#g-1)*4)for a,a in pairs(g)do d=d+a.SizeY end;for a,b in pairs(g)do if a==#g then b.SizeY=c-e;f=math.max(0,(b.MinY or 100)-b.SizeY)else b.SizeY=math.max(math.floor(b.SizeY/d*c),b.MinY or 100)end;e=e+b.SizeY end;if f>0 then for a=#g-1,1,-1 do local a=g[a]local b=math.max(a.SizeY-f,(a.MinY or 100))f=f-(a.SizeY-b)a.SizeY=b end;local a=g[#g]a.SizeY=(a.MinY or 100)-f end;p(a,b)end;s=function(a)o(a)m(f,a)m(g,a)local a=0;for b=#e,1,-1 do e[b].Gui.DisplayOrder=i+a;k.ShowGui(e[b].Gui)a=a+1 end end;a.SetMinimized=function(a,b,d)local e=a.Minimized;local f;if b==nil then f=not a.Minimized else f=b end;a.Minimized=f;if not d then d=1 end;local b=a.GuiElems.ResizeControls;local g={"North","NorthEast","NorthWest","South","SouthEast","SouthWest"}for a=1,#g do local a=b:FindFirstChild(g[a])if a then a.Visible=not f end end;if d==1 or d==2 then a:StopTweens()if d==1 then a.GuiElems.Main:TweenSize(UDim2.new(0,a.SizeX,0,f and 20 or a.SizeY),Enum.EasingDirection.Out,Enum.EasingStyle.Quart,0.25,true)else local b=c.AbsoluteSize.Y;local b=UDim2.new(0,a.PosX,0,f and math.min(b-20,a.PosY+a.SizeY-20)or math.max(0,a.PosY-a.SizeY+20))a.GuiElems.Main:TweenPosition(b,Enum.EasingDirection.Out,Enum.EasingStyle.Quart,0.25,true)a.GuiElems.Main:TweenSize(UDim2.new(0,a.SizeX,0,f and 20 or a.SizeY),Enum.EasingDirection.Out,Enum.EasingStyle.Quart,0.25,true)end;a.GuiElems.Minimize.ImageLabel.Image=f and"rbxassetid://5060023708"or"rbxassetid://5034768003"end;if e~=f then if f then a.OnMinimize:Fire()else a.OnRestore:Fire()end end end;a.Resize=function(a,b,c)a.SizeX=b or a.SizeX;a.SizeY=c or a.SizeY;a.GuiElems.Main.Size=UDim2.new(0,a.SizeX,0,a.SizeY)end;a.SetSize=a.Resize;a.SetTitle=function(a,b)a.GuiElems.Title.Text=b end;a.SetResizable=function(a,b)a.Resizable=b;a.GuiElems.ResizeControls.Visible=a.Resizable and a.ResizableInternal end;a.SetResizableInternal=function(a,b)a.ResizableInternal=b;a.GuiElems.ResizeControls.Visible=a.Resizable and a.ResizableInternal end;a.SetAligned=function(a,b)a.Aligned=b;a:SetResizableInternal(not b)a.GuiElems.Main.Active=not b;a.GuiElems.Main.Outlines.Visible=not b;if not b then for b,c in pairs(f.Windows)do if c==a then table.remove(f.Windows,b)break end end;for b,c in pairs(g.Windows)do if c==a then table.remove(g.Windows,b)break end end;if not table.find(e,a)then table.insert(e,1,a)end;a.GuiElems.Minimize.ImageLabel.Image="rbxassetid://5034768003"a.Side=nil;s()else a:SetMinimized(false,3)for b,c in pairs(e)do if c==a then table.remove(e,b)break end end;a.GuiElems.Minimize.ImageLabel.Image="rbxassetid://5448127505"end end;a.Add=function(a,b,c)if type(b)=="table"and b.Gui and b.Gui:IsA("GuiObject")then b.Gui.Parent=a.ContentPane else b.Parent=a.ContentPane end;if c then a.Elements[c]=b end end;a.GetElement=function(a,b,b)return a.Elements[b]end;a.AlignTo=function(a,b,c,d,e)if table.find(b.Windows,a)or a.Closed then return end;d=d or a.SizeY;if d>0 and d<=1 then local c=0;for a,a in pairs(b.Windows)do c=c+a.SizeY end;a.SizeY=(c>0 and c*d*2)or d else a.SizeY=(d>0 and d or 100)end;a:SetAligned(true)a.Side=b;a.SizeX=b.Width;a.Gui.DisplayOrder=l+1;for a,a in pairs(b.Windows)do a.Gui.DisplayOrder=l end;c=math.min(#b.Windows+1,c or 1)a.SidePos=c;table.insert(b.Windows,c,a)if not e then b.Hidden=false end;s(e)end;a.Close=function(a)a.Closed=true;a:SetResizableInternal(false)k.FindAndRemove(f.Windows,a)k.FindAndRemove(g.Windows,a)k.FindAndRemove(e,a)a.MinimizeAnim.Disable()a.CloseAnim.Disable()a.ClosedSide=a.Side;a.Side=nil;a.OnDeactivate:Fire()if not a.Aligned then a:StopTweens()local b=TweenInfo.new(0.2,Enum.EasingStyle.Quad,Enum.EasingDirection.Out)local c=tick()a.LastClose=c;a:DoTween(a.GuiElems.Main,b,{Size=UDim2.new(0,a.SizeX,0,20)})a:DoTween(a.GuiElems.Title,b,{TextTransparency=1})a:DoTween(a.GuiElems.Minimize.ImageLabel,b,{ImageTransparency=1})a:DoTween(a.GuiElems.Close.ImageLabel,b,{ImageTransparency=1})k.FastWait(0.2)if c~=a.LastClose then return end;a:DoTween(a.GuiElems.TopBar,b,{BackgroundTransparency=1})a:DoTween(a.GuiElems.Outlines,b,{ImageTransparency=1})k.FastWait(0.2)if c~=a.LastClose then return end end;a.Aligned=false;a.Gui.Parent=nil;s(true)end;a.Hide=a.Close;a.IsVisible=function(a)return not a.Closed and((a.Side and not a.Side.Hidden)or not a.Side)end;a.IsContentVisible=function(a)return a:IsVisible()and not a.Minimized end;a.Focus=function(a)t(a)end;a.MoveInBoundary=function(a)local b,d=a.PosX,a.PosY;local c,e=c.AbsoluteSize.X,c.AbsoluteSize.Y;b=math.min(b,c-a.SizeX)d=math.min(d,e-20)a.GuiElems.Main.Position=UDim2.new(0,b,0,d)end;a.DoTween=function(a,...)local b=w.TweenService:Create(...)a.Tweens[#a.Tweens+1]=b;b:Play()end;a.StopTweens=function(a)for a,a in pairs(a.Tweens)do a:Cancel()end;a.Tweens={}end;a.Show=function(a,c)return b.ShowWindow(a,c)end;a.ShowAndFocus=function(a,c)b.ShowWindow(a,c)w.RunService.RenderStepped:wait()a:Focus()end;b.ShowWindow=function(a,c)c=c or{}local d=c.Align;local h=c.Pos;local i=c.Size;local f=(d=="left"and f)or(d=="right"and g)if not a.Closed then if not a.Aligned then a:SetMinimized(false)elseif a.Side and not c.Silent then b.SetSideVisible(a.Side,true)end;return end;a.Closed=false;a.LastClose=tick()a.GuiElems.Title.TextTransparency=0;a.GuiElems.Minimize.ImageLabel.ImageTransparency=0;a.GuiElems.Close.ImageLabel.ImageTransparency=0;a.GuiElems.TopBar.BackgroundTransparency=0;a.GuiElems.Outlines.ImageTransparency=0;a.GuiElems.Minimize.ImageLabel.Image="rbxassetid://5034768003"a.GuiElems.Main.Active=true;a.GuiElems.Main.Outlines.Visible=true;a:SetMinimized(false,3)a:SetResizableInternal(true)a.MinimizeAnim.Enable()a.CloseAnim.Enable()if d then a:AlignTo(f,h,i,c.Silent)else if d==nil and a.ClosedSide then a:AlignTo(a.ClosedSide,a.SidePos,i,true)b.SetSideVisible(a.ClosedSide,true)else if table.find(e,a)then return end;a.GuiElems.Main.Size=UDim2.new(0,a.SizeX,0,20)local b=TweenInfo.new(0.2,Enum.EasingStyle.Quad,Enum.EasingDirection.Out)a:StopTweens()a:DoTween(a.GuiElems.Main,b,{Size=UDim2.new(0,a.SizeX,0,a.SizeY)})a.SizeY=i or a.SizeY;table.insert(e,1,a)s()end end;a.ClosedSide=nil;a.OnActivate:Fire()end;b.ToggleSide=function(a)local a=(a=="left"and f or g)a.Hidden=not a.Hidden;for b,b in pairs(a.Windows)do if a.Hidden then b.OnDeactivate:Fire()else b.OnActivate:Fire()end end;s()end;b.SetSideVisible=function(a,b)local a=(type(a)=="table"and a)or(a=="left"and f or g)a.Hidden=not b;for b,b in pairs(a.Windows)do if a.Hidden then b.OnDeactivate:Fire()else b.OnActivate:Fire()end end;s()end;b.Init=function()i=j.DisplayOrders.Window;l=j.DisplayOrders.SideWindow;c=Instance.new("ScreenGui")local a=y({{1,"Frame",{Active=true,Name="LeftSide",BackgroundColor3=Color3.new(0.17647059261799,0.17647059261799,0.17647059261799),BorderSizePixel=0}},{2,"TextButton",{AutoButtonColor=false,BackgroundColor3=Color3.new(0.2549019753933,0.2549019753933,0.2549019753933),BorderSizePixel=0,Font=3,Name="Resizer",Parent={1},Size=UDim2.new(0,5,1,0),Text="",TextColor3=Color3.new(0,0,0),TextSize=14}},{3,"Frame",{BackgroundColor3=Color3.new(0.14117647707462,0.14117647707462,0.14117647707462),BorderSizePixel=0,Name="Line",Parent={2},Position=UDim2.new(0,0,0,0),Size=UDim2.new(0,1,1,0)}},{4,"TextButton",{AutoButtonColor=false,BackgroundColor3=Color3.new(0.2549019753933,0.2549019753933,0.2549019753933),BorderSizePixel=0,Font=3,Name="WindowResizer",Parent={1},Position=UDim2.new(1,-300,0,0),Size=UDim2.new(1,0,0,4),Text="",TextColor3=Color3.new(0,0,0),TextSize=14}},{5,"Frame",{BackgroundColor3=Color3.new(0.14117647707462,0.14117647707462,0.14117647707462),BorderSizePixel=0,Name="Line",Parent={4},Size=UDim2.new(1,0,0,1)}}})f.Frame=a;a.Position=UDim2.new(0,-f.Width-10,0,0)f.WindowResizer=a.WindowResizer;a.WindowResizer.Parent=nil;a.Parent=c;local h=y({{1,"Frame",{Active=true,Name="RightSide",BackgroundColor3=Color3.new(0.17647059261799,0.17647059261799,0.17647059261799),BorderSizePixel=0}},{2,"TextButton",{AutoButtonColor=false,BackgroundColor3=Color3.new(0.2549019753933,0.2549019753933,0.2549019753933),BorderSizePixel=0,Font=3,Name="Resizer",Parent={1},Size=UDim2.new(0,5,1,0),Text="",TextColor3=Color3.new(0,0,0),TextSize=14}},{3,"Frame",{BackgroundColor3=Color3.new(0.14117647707462,0.14117647707462,0.14117647707462),BorderSizePixel=0,Name="Line",Parent={2},Position=UDim2.new(0,4,0,0),Size=UDim2.new(0,1,1,0)}},{4,"TextButton",{AutoButtonColor=false,BackgroundColor3=Color3.new(0.2549019753933,0.2549019753933,0.2549019753933),BorderSizePixel=0,Font=3,Name="WindowResizer",Parent={1},Position=UDim2.new(1,-300,0,0),Size=UDim2.new(1,0,0,4),Text="",TextColor3=Color3.new(0,0,0),TextSize=14}},{5,"Frame",{BackgroundColor3=Color3.new(0.14117647707462,0.14117647707462,0.14117647707462),BorderSizePixel=0,Name="Line",Parent={4},Size=UDim2.new(1,0,0,1)}}})g.Frame=h;h.Position=UDim2.new(1,10,0,0)g.WindowResizer=h.WindowResizer;h.WindowResizer.Parent=nil;h.Parent=c;u(a.Resizer,"H",f)u(h.Resizer,"H",g)d=Instance.new("ScreenGui")d.DisplayOrder=j.DisplayOrders.Core;local a=Instance.new("Frame",d)a.BackgroundColor3=Color3.fromRGB(0,170,255)a.BorderSizePixel=0;a.BackgroundTransparency=0.8;a.Name="Indicator"local a=Instance.new("UICorner",a)a.CornerRadius=UDim.new(0,10)local a=y({{1,"TextButton",{AutoButtonColor=false,BackgroundColor3=Color3.new(0.20392157137394,0.20392157137394,0.20392157137394),BorderColor3=Color3.new(0.14117647707462,0.14117647707462,0.14117647707462),BorderMode=2,Font=10,Name="LeftToggle",Position=UDim2.new(0,0,0,-36),Size=UDim2.new(0,16,0,36),Text="<",TextColor3=Color3.new(1,1,1),TextSize=14}}})local d=a:Clone()d.Name="RightToggle"d.Position=UDim2.new(1,-16,0,-36)k.ButtonAnim(a,{Mode=2,PressColor=Color3.fromRGB(32,32,32)})k.ButtonAnim(d,{Mode=2,PressColor=Color3.fromRGB(32,32,32)})a.MouseButton1Click:Connect(function()b.ToggleSide("left")end)d.MouseButton1Click:Connect(function()b.ToggleSide("right")end)a.Parent=c;d.Parent=c;c:GetPropertyChangedSignal("AbsoluteSize"):Connect(function()local a=math.max(300,c.AbsoluteSize.X-b.FreeWidth)f.Width=math.max(b.MinWidth,math.min(f.Width,a-g.Width))g.Width=math.max(b.MinWidth,math.min(g.Width,a-f.Width))for a=1,#e do e[a]:MoveInBoundary()end;s(true)end)c.DisplayOrder=l-1;k.ShowGui(c)o()end;local a={__index=a}b.new=function()local a=setmetatable({Minimized=false,Dragging=false,Resizing=false,Aligned=false,Draggable=true,Resizable=true,ResizableInternal=true,Alignable=true,Closed=true,SizeX=300,SizeY=300,MinX=200,MinY=200,PosX=0,PosY=0,GuiElems={},Tweens={},Elements={},OnActivate=k.Signal.new(),OnDeactivate=k.Signal.new(),OnMinimize=k.Signal.new(),OnRestore=k.Signal.new()},a)a.Gui=h(a)return a end;return b end)()k.ContextMenu=(function()local a={}local b;local function c(a)local b=y({{1,"ScreenGui",{DisplayOrder=1000000,Name="Context",ZIndexBehavior=1}},{2,"Frame",{Active=true,BackgroundColor3=Color3.new(0.14117647707462,0.14117647707462,0.14117647707462),BorderColor3=Color3.new(0.14117647707462,0.14117647707462,0.14117647707462),Name="Main",Parent={1},Position=UDim2.new(0.5,-100,0.5,-150),Size=UDim2.new(0,200,0,100)}},{3,"UICorner",{CornerRadius=UDim.new(0,4),Parent={2}}},{4,"Frame",{BackgroundColor3=Color3.new(0.17647059261799,0.17647059261799,0.17647059261799),Name="Container",Parent={2},Position=UDim2.new(0,1,0,1),Size=UDim2.new(1,-2,1,-2)}},{5,"UICorner",{CornerRadius=UDim.new(0,4),Parent={4}}},{6,"ScrollingFrame",{Active=true,BackgroundColor3=Color3.new(0.20392157137394,0.20392157137394,0.20392157137394),BackgroundTransparency=1,BorderSizePixel=0,CanvasSize=UDim2.new(0,0,0,0),Name="List",Parent={4},Position=UDim2.new(0,2,0,2),ScrollBarImageColor3=Color3.new(0,0,0),ScrollBarThickness=4,Size=UDim2.new(1,-4,1,-4),VerticalScrollBarInset=1}},{7,"UIListLayout",{Parent={6},SortOrder=2}},{8,"Frame",{BackgroundColor3=Color3.new(0.20392157137394,0.20392157137394,0.20392157137394),BorderSizePixel=0,Name="SearchFrame",Parent={4},Size=UDim2.new(1,0,0,24),Visible=false}},{9,"Frame",{BackgroundColor3=Color3.new(0.14901961386204,0.14901961386204,0.14901961386204),BorderColor3=Color3.new(0.1176470592618,0.1176470592618,0.1176470592618),BorderSizePixel=0,Name="SearchContainer",Parent={8},Position=UDim2.new(0,3,0,3),Size=UDim2.new(1,-6,0,18)}},{10,"TextBox",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,Font=3,Name="SearchBox",Parent={9},PlaceholderColor3=Color3.new(0.39215689897537,0.39215689897537,0.39215689897537),PlaceholderText="搜索",Position=UDim2.new(0,4,0,0),Size=UDim2.new(1,-8,0,18),Text="",TextColor3=Color3.new(1,1,1),TextSize=14,TextXAlignment=0}},{11,"UICorner",{CornerRadius=UDim.new(0,2),Parent={9}}},{12,"Frame",{BackgroundColor3=Color3.new(0.14117647707462,0.14117647707462,0.14117647707462),BorderSizePixel=0,Name="Line",Parent={8},Position=UDim2.new(0,0,1,0),Size=UDim2.new(1,0,0,1)}},{13,"TextButton",{AutoButtonColor=false,BackgroundColor3=Color3.new(0.20392157137394,0.20392157137394,0.20392157137394),BackgroundTransparency=1,BorderColor3=Color3.new(0.33725491166115,0.49019610881805,0.73725491762161),BorderSizePixel=0,Font=3,Name="Entry",Parent={1},Size=UDim2.new(1,0,0,22),Text="",TextSize=14,Visible=false}},{14,"TextLabel",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,BorderSizePixel=0,Font=3,Name="EntryName",Parent={13},Position=UDim2.new(0,24,0,0),Size=UDim2.new(1,-24,1,0),Text="Duplicate",TextColor3=Color3.new(0.86274516582489,0.86274516582489,0.86274516582489),TextSize=14,TextXAlignment=0}},{15,"TextLabel",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,Font=3,Name="Shortcut",Parent={13},Position=UDim2.new(0,24,0,0),Size=UDim2.new(1,-30,1,0),Text="Ctrl+D",TextColor3=Color3.new(0.86274516582489,0.86274516582489,0.86274516582489),TextSize=14,TextXAlignment=1}},{16,"ImageLabel",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,ImageRectOffset=Vector2.new(304,0),ImageRectSize=Vector2.new(16,16),Name="Icon",Parent={13},Position=UDim2.new(0,2,0,3),ScaleType=4,Size=UDim2.new(0,16,0,16)}},{17,"UICorner",{CornerRadius=UDim.new(0,4),Parent={13}}},{18,"Frame",{BackgroundColor3=Color3.new(0.21568629145622,0.21568629145622,0.21568629145622),BackgroundTransparency=1,BorderSizePixel=0,Name="Divider",Parent={1},Position=UDim2.new(0,0,0,20),Size=UDim2.new(1,0,0,7),Visible=false}},{19,"Frame",{BackgroundColor3=Color3.new(0.20392157137394,0.20392157137394,0.20392157137394),BorderSizePixel=0,Name="Line",Parent={18},Position=UDim2.new(0,0,0.5,0),Size=UDim2.new(1,0,0,1)}},{20,"TextLabel",{AnchorPoint=Vector2.new(0,0.5),BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,BorderSizePixel=0,Font=3,Name="DividerName",Parent={18},Position=UDim2.new(0,2,0.5,0),Size=UDim2.new(1,-4,1,0),Text="Objects",TextColor3=Color3.new(1,1,1),TextSize=14,TextTransparency=0.60000002384186,TextXAlignment=0,Visible=false}}})a.GuiElems.Main=b.Main;a.GuiElems.List=b.Main.Container.List;a.GuiElems.Entry=b.Entry;a.GuiElems.Divider=b.Divider;a.GuiElems.SearchFrame=b.Main.Container.SearchFrame;a.GuiElems.SearchBar=a.GuiElems.SearchFrame.SearchContainer.SearchBox;k.ViewportTextBox.convert(a.GuiElems.SearchBar)a.GuiElems.SearchBar:GetPropertyChangedSignal("Text"):Connect(function()local b,c=string.lower,string.find;local d=b(a.GuiElems.SearchBar.Text)local e=a.Items;local f=a.ItemToEntryMap;if d~=""then local a={}local g=1;for h=1,#e do local e=e[h]local f=f[e]if f then if not e.Divider and c(b(e.Name),d,1,true)then a[g]=e;g=g+1 else f.Visible=false end end end;table.sort(a,function(a,b)return a.Name<b.Name end)for b=1,#a do local a=f[a[b]]a.LayoutOrder=b;a.Visible=true end else for a=1,#e do local b=f[e[a]]if b then b.LayoutOrder=a;b.Visible=true end end end;local b=a.GuiElems.List.UIListLayout.AbsoluteContentSize.Y+6;a.GuiElems.List.CanvasSize=UDim2.new(0,0,0,b-6)end)return b end;a.Add=function(a,b)local b={Name=b.Name or"Item",Icon=b.Icon or"",Shortcut=b.Shortcut or"",OnClick=b.OnClick,OnHover=b.OnHover,Disabled=b.Disabled or false,DisabledIcon=b.DisabledIcon or"",IconMap=b.IconMap,OnRightClick=b.OnRightClick}if a.QueuedDivider then local b=a.QueuedDividerText and#a.QueuedDividerText>0 and a.QueuedDividerText;a:AddDivider(b)end;a.Items[#a.Items+1]=b;a.Updated=nil end;a.AddRegistered=function(a,b,c)if not a.Registered[b]then error(b.." is not registered")end;if a.QueuedDivider then local b=a.QueuedDividerText and#a.QueuedDividerText>0 and a.QueuedDividerText;a:AddDivider(b)end;a.Registered[b].Disabled=c;a.Items[#a.Items+1]=a.Registered[b]a.Updated=nil end;a.Register=function(a,b,c)a.Registered[b]={Name=c.Name or"Item",Icon=c.Icon or"",Shortcut=c.Shortcut or"",OnClick=c.OnClick,OnHover=c.OnHover,DisabledIcon=c.DisabledIcon or"",IconMap=c.IconMap,OnRightClick=c.OnRightClick}end;a.UnRegister=function(a,b)a.Registered[b]=nil end;a.AddDivider=function(a,b)a.QueuedDivider=false;local c=b and w.TextService:GetTextSize(b,14,Enum.Font.SourceSans,Vector2.new(999999999,20)).X or nil;table.insert(a.Items,{Divider=true,Text=b,TextSize=c and c+4})a.Updated=nil end;a.QueueDivider=function(a,b)a.QueuedDivider=true;a.QueuedDividerText=b or""end;a.Clear=function(a)a.Items={}a.Updated=nil end;a.Refresh=function(a)for a,a in pairs(a.GuiElems.List:GetChildren())do if not a:IsA("UIListLayout")then a:Destroy()end end;local b={}a.ItemToEntryMap=b;local c=a.GuiElems.Divider;local d=a.GuiElems.List;local e=a.GuiElems.Entry;local f=a.Items;for g=1,#f do local f=f[g]if f.Divider then local c=c:Clone()c.Line.BackgroundColor3=a.Theme.DividerColor;if f.Text then c.Size=UDim2.new(1,0,0,20)c.Line.Position=UDim2.new(0,f.TextSize,0.5,0)c.Line.Size=UDim2.new(1,-f.TextSize,0,1)c.DividerName.TextColor3=a.Theme.TextColor;c.DividerName.Text=f.Text;c.DividerName.Visible=true end;c.Visible=true;b[f]=c;c.Parent=d else local c=e:Clone()c.BackgroundColor3=a.Theme.HighlightColor;c.EntryName.TextColor3=a.Theme.TextColor;c.EntryName.Text=f.Name;c.Shortcut.Text=f.Shortcut;if f.Disabled then c.EntryName.TextColor3=Color3.new(0.5882352941176471,0.5882352941176471,0.5882352941176471)c.Shortcut.TextColor3=Color3.new(0.5882352941176471,0.5882352941176471,0.5882352941176471)end;if a.Iconless then c.EntryName.Position=UDim2.new(0,2,0,0)c.EntryName.Size=UDim2.new(1,-4,0,20)c.Icon.Visible=false else local a=f.Disabled and f.DisabledIcon or f.Icon;if f.IconMap then if type(a)=="number"then f.IconMap:Display(c.Icon,a)elseif type(a)=="string"then f.IconMap:DisplayByKey(c.Icon,a)end elseif type(a)=="string"then c.Icon.Image=a end end;if not f.Disabled then if f.OnClick then c.MouseButton1Click:Connect(function()f.OnClick(f.Name)if not f.NoHide then a:Hide()end end)end;if f.OnRightClick then c.MouseButton2Click:Connect(function()f.OnRightClick(f.Name)if not f.NoHide then a:Hide()end end)end end;c.InputBegan:Connect(function(a)if a.UserInputType==Enum.UserInputType.MouseMovement or a.UserInputType==Enum.UserInputType.Touch then c.BackgroundTransparency=0 end end)c.InputEnded:Connect(function(a)if a.UserInputType==Enum.UserInputType.MouseMovement or a.UserInputType==Enum.UserInputType.Touch then c.BackgroundTransparency=1 end end)c.Visible=true;b[f]=c;c.Parent=d end end;a.Updated=true end;a.Show=function(a,c,d)local e=a.GuiElems;e.SearchFrame.Visible=a.SearchEnabled;e.List.Position=UDim2.new(0,2,0,2+(a.SearchEnabled and 24 or 0))e.List.Size=UDim2.new(1,-4,1,-4-(a.SearchEnabled and 24 or 0))if a.SearchEnabled and a.ClearSearchOnShow then e.SearchBar.Text=""end;a.GuiElems.List.CanvasPosition=Vector2.new(0,0)if not a.Updated then a:Refresh()end;local f=false;local c,d=c or b.X,d or b.Y;local b,g=b.ViewSizeX,b.ViewSizeY;if c+a.Width>b then c=a.ReverseX and c-a.Width or b-a.Width end;e.Main.Position=UDim2.new(0,c,0,d)e.Main.Size=UDim2.new(0,a.Width,0,0)a.Gui.DisplayOrder=j.DisplayOrders.Menu;k.ShowGui(a.Gui)local b=e.List.UIListLayout.AbsoluteContentSize.Y+6;if a.MaxHeight and b>a.MaxHeight then e.List.CanvasSize=UDim2.new(0,0,0,b-6)b=a.MaxHeight else e.List.CanvasSize=UDim2.new(0,0,0,0)end;if d+b>g then f=true end;local g;if a.CloseEvent then a.CloseEvent:Disconnect()end;a.CloseEvent=w.UserInputService.InputBegan:Connect(function(b)if not g then return end;if b.UserInputType==Enum.UserInputType.MouseButton1 or b.UserInputType==Enum.UserInputType.Touch then if not k.CheckMouseInGui(e.Main)then a.CloseEvent:Disconnect()a:Hide()end end end)if f then e.Main.Position=UDim2.new(0,c,0,d-(a.ReverseYOffset or 0))local f=d-b-(a.ReverseYOffset or 0)d=f>=0 and f or 0;e.Main:TweenSizeAndPosition(UDim2.new(0,a.Width,0,b),UDim2.new(0,c,0,d),Enum.EasingDirection.Out,Enum.EasingStyle.Quart,0.2,true)else e.Main:TweenSize(UDim2.new(0,a.Width,0,b),Enum.EasingDirection.Out,Enum.EasingStyle.Quart,0.2,true)end;k.FastWait()if a.SearchEnabled and a.FocusSearchOnShow then e.SearchBar:CaptureFocus()end;g=true end;a.Hide=function(a)a.Gui.Parent=nil end;a.ApplyTheme=function(a,b)local c=a.Theme;c.ContentColor=b.ContentColor or m.Theme.Menu;c.OutlineColor=b.OutlineColor or m.Theme.Menu;c.DividerColor=b.DividerColor or m.Theme.Outline2;c.TextColor=b.TextColor or m.Theme.Text;c.HighlightColor=b.HighlightColor or m.Theme.Main1;a.GuiElems.Main.BackgroundColor3=c.OutlineColor;a.GuiElems.Main.Container.BackgroundColor3=c.ContentColor end;local a={__index=a}local function d()if not b then b=j.Mouse or w.Players.LocalPlayer:GetMouse()end;local a=setmetatable({Width=200,MaxHeight=nil,Iconless=false,SearchEnabled=false,ClearSearchOnShow=true,FocusSearchOnShow=true,Updated=false,QueuedDivider=false,QueuedDividerText="",Items={},Registered={},GuiElems={},Theme={}},a)a.Gui=c(a)a:ApplyTheme({})return a end;return{new=d}end)()k.CodeFrame=(function()local a={}local b={[1]="String",[2]="String",[3]="String",[4]="Comment",[5]="Operator",[6]="Number",[7]="Keyword",[8]="BuiltIn",[9]="LocalMethod",[10]="LocalProperty",[11]="Nil",[12]="Bool",[13]="Function",[14]="Local",[15]="Self",[16]="FunctionName",[17]="Bracket"}local c={["nil"]=11,["true"]=12,["false"]=12,["function"]=13,["local"]=14,["self"]=15}local d={["and"]=true,["break"]=true,["do"]=true,["else"]=true,["elseif"]=true,["end"]=true,["false"]=true,["for"]=true,["function"]=true,["if"]=true,["in"]=true,["local"]=true,["nil"]=true,["not"]=true,["or"]=true,["repeat"]=true,["return"]=true,["then"]=true,["true"]=true,["until"]=true,["while"]=true,["plugin"]=true}local e={["delay"]=true,["elapsedTime"]=true,["require"]=true,["spawn"]=true,["tick"]=true,["time"]=true,["typeof"]=true,["UserSettings"]=true,["wait"]=true,["warn"]=true,["game"]=true,["shared"]=true,["script"]=true,["workspace"]=true,["assert"]=true,["collectgarbage"]=true,["error"]=true,["getfenv"]=true,["getmetatable"]=true,["ipairs"]=true,["loadstring"]=true,["newproxy"]=true,["next"]=true,["pairs"]=true,["pcall"]=true,["print"]=true,["rawequal"]=true,["rawget"]=true,["rawset"]=true,["select"]=true,["setfenv"]=true,["setmetatable"]=true,["tonumber"]=true,["tostring"]=true,["type"]=true,["unpack"]=true,["xpcall"]=true,["_G"]=true,["_VERSION"]=true,["coroutine"]=true,["debug"]=true,["math"]=true,["os"]=true,["string"]=true,["table"]=true,["bit32"]=true,["utf8"]=true,["Axes"]=true,["BrickColor"]=true,["CFrame"]=true,["Color3"]=true,["ColorSequence"]=true,["ColorSequenceKeypoint"]=true,["DockWidgetPluginGuiInfo"]=true,["Enum"]=true,["Faces"]=true,["Instance"]=true,["NumberRange"]=true,["NumberSequence"]=true,["NumberSequenceKeypoint"]=true,["PathWaypoint"]=true,["PhysicalProperties"]=true,["Random"]=true,["Ray"]=true,["Rect"]=true,["Region3"]=true,["Region3int16"]=true,["TweenInfo"]=true,["UDim"]=true,["UDim2"]=true,["Vector2"]=true,["Vector2int16"]=true,["Vector3"]=true,["Vector3int16"]=true}local f=false;local g={["'"]="&apos;",["\""]="&quot;",["<"]="&lt;",[">"]="&gt;",["&"]="&amp;"}local h="\t"local j=(" %s "):format(h)local l={[("[^%s] "):format(h)]=0,[(" %s"):format(h)]=-1,[("%s "):format(h)]=2,[(" [^%s]"):format(h)]=1}local n=w.TweenService;local o={}local function p()local a=getfenv()local b=type;local c=tostring;for c,d in next,e do local a=a[c]if b(a)=="table"then local b={}for a,c in next,a do b[a]=true end;e[c]=b end end;local a={}local b=Enum:GetEnums()for d=1,#b do a[c(b[d])]=true end;e["Enum"]=a;f=true end;local function q(a)local b=a.GuiElems.EditBox;b.Focused:Connect(function()a:ConnectEditBoxEvent()a.Editing=true end)b.FocusLost:Connect(function()a:DisconnectEditBoxEvent()a.Editing=false end)b:GetPropertyChangedSignal("Text"):Connect(function()local c=b.Text;if#c==0 or a.EditBoxCopying then return end;b.Text=""a:AppendText(c)end)end;local function r(a)local b=x:GetMouse()local b=a.GuiElems.LinesFrame;local c=a.Lines;b.InputBegan:Connect(function(d)if d.UserInputType==Enum.UserInputType.MouseButton1 or d.UserInputType==Enum.UserInputType.Touch then local e,f=math.ceil(a.FontSize/2),a.FontSize;local g=d.Position.X-b.AbsolutePosition.X;local h=d.Position.Y-b.AbsolutePosition.Y;local g=math.round(g/e)+a.ViewX;local h=math.floor(h/f)+a.ViewY;local i,j,k;local l,m=0,0;h=math.min(#c-1,h)local n=c[h+1]or""g=math.min(#n,g+a:TabAdjust(g,h))a.SelectionRange={{-1,-1},{-1,-1}}a:MoveCursor(g,h)a.FloatCursorX=g;local function n()local i=d.Position.X-b.AbsolutePosition.X;local b=d.Position.Y-b.AbsolutePosition.Y;local d=math.max(0,math.round(i/e)+a.ViewX)local b=math.max(0,math.floor(b/f)+a.ViewY)b=math.min(#c-1,b)local c=c[b+1]or""d=math.min(#c,d+a:TabAdjust(d,b))if b<h or(b==h and d<g)then a.SelectionRange={{d,b},{g,h}}else a.SelectionRange={{g,h},{d,b}}end;a:MoveCursor(d,b)a.FloatCursorX=d;a:Refresh()end;i=w.UserInputService.InputEnded:Connect(function(b)if b.UserInputType==Enum.UserInputType.MouseButton1 or b.UserInputType==Enum.UserInputType.Touch then i:Disconnect()j:Disconnect()k:Disconnect()a:SetCopyableSelection()end end)j=w.UserInputService.InputChanged:Connect(function(a)if a.UserInputType==Enum.UserInputType.MouseMovement or a.UserInputType==Enum.UserInputType.Touch then local c=a.Position.Y-b.AbsolutePosition.Y;local d=a.Position.Y-b.AbsolutePosition.Y-b.AbsoluteSize.Y;local e=a.Position.X-b.AbsolutePosition.X;local a=a.Position.X-b.AbsolutePosition.X-b.AbsoluteSize.X;l=0;m=0;if d>0 then l=math.floor(d*0.05)+1 elseif c<0 then l=math.ceil(c*0.05)-1 end;if a>0 then m=math.floor(a*0.05)+1 elseif e<0 then m=math.ceil(e*0.05)-1 end;n()end end)k=w.RunService.RenderStepped:Connect(function()if l~=0 or m~=0 then a:ScrollDelta(m,l)n()end end)a:Refresh()end end)end;local function s(a)local b=y({{1,"Frame",{BackgroundColor3=Color3.new(0.15686275064945,0.15686275064945,0.15686275064945),BorderSizePixel=0,Position=UDim2.new(0.5,-300,0.5,-200),Size=UDim2.new(0,600,0,400)}}})local c={}local d=Instance.new("Frame")d.Name="Lines"d.BackgroundTransparency=1;d.Size=UDim2.new(1,0,1,0)d.ClipsDescendants=true;d.Parent=b;local e=Instance.new("TextLabel")e.Name="LineNumbers"e.BackgroundTransparency=1;e.Font=Enum.Font.Code;e.TextXAlignment=Enum.TextXAlignment.Right;e.TextYAlignment=Enum.TextYAlignment.Top;e.ClipsDescendants=true;e.RichText=true;e.Parent=b;local f=Instance.new("Frame")f.Name="Cursor"f.BackgroundColor3=Color3.fromRGB(220,220,220)f.BorderSizePixel=0;f.Parent=b;local g=Instance.new("TextBox")g.Name="EditBox"g.MultiLine=true;g.Visible=false;g.Parent=b;o.Invis=n:Create(f,TweenInfo.new(0.4,Enum.EasingStyle.Quart,Enum.EasingDirection.Out),{BackgroundTransparency=1})o.Vis=n:Create(f,TweenInfo.new(0.2,Enum.EasingStyle.Quart,Enum.EasingDirection.Out),{BackgroundTransparency=0})c.LinesFrame=d;c.LineNumbersLabel=e;c.Cursor=f;c.EditBox=g;c.ScrollCorner=y({{1,"Frame",{BackgroundColor3=Color3.new(0.15686275064945,0.15686275064945,0.15686275064945),BorderSizePixel=0,Name="ScrollCorner",Position=UDim2.new(1,-16,1,-16),Size=UDim2.new(0,16,0,16),Visible=false}}})c.ScrollCorner.Parent=b;d.InputBegan:Connect(function(b)if b.UserInputType==Enum.UserInputType.MouseButton1 or b.UserInputType==Enum.UserInputType.Touch then a:SetEditing(true,b)end end)a.Frame=b;a.Gui=b;a.GuiElems=c;q(a)r(a)return b end;a.GetSelectionText=function(a)if not a:IsValidRange()then return""end;local b=a.SelectionRange;local c,d=b[1][1],b[1][2]local b,e=b[2][1],b[2][2]local f=e-d;local g=a.Lines;if not g[d+1]or not g[e+1]then return""end;if f==0 then return a:ConvertText(g[d+1]:sub(c+1,b),false)end;local c=g[d+1]:sub(c+1)local b=g[e+1]:sub(1,b)local c=c.."\n"for a=d+1,e-1 do c=c..g[a+1].."\n"end;c=c..b;return a:ConvertText(c,false)end;a.SetCopyableSelection=function(a)local b=a:GetSelectionText()local c=a.GuiElems.EditBox;a.EditBoxCopying=true;c.Text=b;c.SelectionStart=1;c.CursorPosition=#c.Text+1;a.EditBoxCopying=false end;a.ConnectEditBoxEvent=function(a)if a.EditBoxEvent then a.EditBoxEvent:Disconnect()end;a.EditBoxEvent=w.UserInputService.InputBegan:Connect(function(b)if b.UserInputType~=Enum.UserInputType.Keyboard then return end;local c=Enum.KeyCode;local b=b.KeyCode;local function d(a,b)local c,d;c=w.UserInputService.InputEnded:Connect(function(b)if b.KeyCode~=a then return end;c:Disconnect()d=true end)b()k.FastWait(0.5)while not d do b()k.FastWait(0.03)end end;if b==c.Down then d(c.Down,function()a.CursorX=a.FloatCursorX;a.CursorY=a.CursorY+1;a:UpdateCursor()a:JumpToCursor()end)elseif b==c.Up then d(c.Up,function()a.CursorX=a.FloatCursorX;a.CursorY=a.CursorY-1;a:UpdateCursor()a:JumpToCursor()end)elseif b==c.Left then d(c.Left,function()local b=a.Lines[a.CursorY+1]or""a.CursorX=a.CursorX-1-(b:sub(a.CursorX-3,a.CursorX)==j and 3 or 0)if a.CursorX<0 then a.CursorY=a.CursorY-1;local b=a.Lines[a.CursorY+1]or""a.CursorX=#b end;a.FloatCursorX=a.CursorX;a:UpdateCursor()a:JumpToCursor()end)elseif b==c.Right then d(c.Right,function()local b=a.Lines[a.CursorY+1]or""a.CursorX=a.CursorX+1+(b:sub(a.CursorX+1,a.CursorX+4)==j and 3 or 0)if a.CursorX>#b then a.CursorY=a.CursorY+1;a.CursorX=0 end;a.FloatCursorX=a.CursorX;a:UpdateCursor()a:JumpToCursor()end)elseif b==c.Backspace then d(c.Backspace,function()local b,c;if a:IsValidRange()then b=a.SelectionRange[1]c=a.SelectionRange[2]else c={a.CursorX,a.CursorY}end;if not b then local c=a.Lines[a.CursorY+1]or""a.CursorX=a.CursorX-1-(c:sub(a.CursorX-3,a.CursorX)==j and 3 or 0)if a.CursorX<0 then a.CursorY=a.CursorY-1;local b=a.Lines[a.CursorY+1]or""a.CursorX=#b end;a.FloatCursorX=a.CursorX;a:UpdateCursor()b=b or{a.CursorX,a.CursorY}end;a:DeleteRange({b,c},false,true)a:ResetSelection(true)a:JumpToCursor()end)elseif b==c.Delete then d(c.Delete,function()local b,c;if a:IsValidRange()then b=a.SelectionRange[1]c=a.SelectionRange[2]else b={a.CursorX,a.CursorY}end;if not c then local b=a.Lines[a.CursorY+1]or""local d=a.CursorX+1+(b:sub(a.CursorX+1,a.CursorX+4)==j and 3 or 0)local e=a.CursorY;if d>#b then e=e+1;d=0 end;a:UpdateCursor()c=c or{d,e}end;a:DeleteRange({b,c},false,true)a:ResetSelection(true)a:JumpToCursor()end)elseif w.UserInputService:IsKeyDown(Enum.KeyCode.LeftControl)then if b==c.A then a.SelectionRange={{0,0},{#a.Lines[#a.Lines],#a.Lines-1}}a:SetCopyableSelection()a:Refresh()end end end)end;a.DisconnectEditBoxEvent=function(a)if a.EditBoxEvent then a.EditBoxEvent:Disconnect()end end;a.ResetSelection=function(a,b)a.SelectionRange={{-1,-1},{-1,-1}}if not b then a:Refresh()end end;a.IsValidRange=function(a,b)local a=b or a.SelectionRange;local b,c=a[1][1],a[1][2]local a,d=a[2][1],a[2][2]if b==-1 or(b==a and c==d)then return false end;return true end;a.DeleteRange=function(a,b,c,d)b=b or a.SelectionRange;if not a:IsValidRange(b)then return end;local e=a.Lines;local f,g=b[1][1],b[1][2]local h,i=b[2][1],b[2][2]local j=i-g;if not e[g+1]or not e[i+1]then return end;local k=e[g+1]:sub(1,f)local h=e[i+1]:sub(h+1)e[g+1]=k..h;local h=table.remove;for a=1,j do h(e,g+2)end;if b==a.SelectionRange then a.SelectionRange={{-1,-1},{-1,-1}}end;if d then a.CursorX=f;a.CursorY=g;a:UpdateCursor()end;if not c then a:ProcessTextChange()end end;a.AppendText=function(a,b)a:DeleteRange(nil,true,true)local c,d,e=a.Lines,a.CursorX,a.CursorY;local f=c[e+1]local g=f:sub(1,d)local f=f:sub(d+1)b=b:gsub("\r\n","\n")b=a:ConvertText(b,true)local b=b:split("\n")local h=table.insert;for a=1,#b do local d=e+a;if a>1 then h(c,d,"")end;local e=b[a]local g=(a==1 and g or"")local a=(a==#b and f or"")c[d]=g..e..a end;if#b>1 then d=0 end;a:ProcessTextChange()a.CursorX=d+#b[#b]a.CursorY=e+#b-1;a:UpdateCursor()end;a.ScrollDelta=function(a,b,c)a.ScrollV:ScrollTo(a.ScrollV.Index+c)a.ScrollH:ScrollTo(a.ScrollH.Index+b)end;a.TabAdjust=function(a,b,c)local a=a.Lines;local a=a[c+1]b=b+1;if a then local c=a:sub(b-1,b-1)local d=a:sub(b,b)local a=a:sub(b+1,b+1)local a=(#c>0 and c or" ")..(#d>0 and d or" ")..(#a>0 and a or" ")for b,c in pairs(l)do if a:find(b)then return c end end end;return 0 end;a.SetEditing=function(a,b,c)a:UpdateCursor(c)if b then if a.Editable then a.GuiElems.EditBox.Text=""a.GuiElems.EditBox:CaptureFocus()end else a.GuiElems.EditBox:ReleaseFocus()end end;a.CursorAnim=function(a,b)local c=a.GuiElems.Cursor;local d=tick()a.LastAnimTime=d;if not b then return end;o.Invis:Cancel()o.Vis:Cancel()c.BackgroundTransparency=0;coroutine.wrap(function()while a.Editable do k.FastWait(0.5)if a.LastAnimTime~=d then return end;o.Invis:Play()k.FastWait(0.4)if a.LastAnimTime~=d then return end;o.Vis:Play()k.FastWait(0.2)end end)()end;a.MoveCursor=function(a,b,c)a.CursorX=b;a.CursorY=c;a:UpdateCursor()a:JumpToCursor()end;a.JumpToCursor=function(a)a:Refresh()end;a.UpdateCursor=function(a,b)local c=a.GuiElems.LinesFrame;local d=a.GuiElems.Cursor;local e=math.max(0,c.AbsoluteSize.X)local c=math.max(0,c.AbsoluteSize.Y)local c=math.ceil(c/a.FontSize)local e=math.ceil(e/math.ceil(a.FontSize/2))local f,g=a.ViewX,a.ViewY;local h=tostring(#a.Lines)local i=math.ceil(a.FontSize/2)local h=#h*i+4*i;if b then local c=a.GuiElems.LinesFrame;local c,d=c.AbsolutePosition.X,c.AbsolutePosition.Y;local b,e=b.Position.X,b.Position.Y;local f,g=math.ceil(a.FontSize/2),a.FontSize;a.CursorX=a.ViewX+math.round((b-c)/f)a.CursorY=a.ViewY+math.floor((e-d)/g)end;local b,i=a.CursorX,a.CursorY;local j=a.Lines[i+1]or""if b>#j then b=#j elseif b<0 then b=0 end;if i>=#a.Lines then i=math.max(0,#a.Lines-1)elseif i<0 then i=0 end;b=b+a:TabAdjust(b,i)a.CursorX=b;a.CursorY=i;local c=(b>=f)and(i>=g)and(b<=f+e)and(i<=g+c)if c then local b=(b-f)local c=(i-g)d.Position=UDim2.new(0,h+b*math.ceil(a.FontSize/2)-1,0,c*a.FontSize)d.Size=UDim2.new(0,1,0,a.FontSize+2)d.Visible=true;a:CursorAnim(true)else d.Visible=false end end;a.MapNewLines=function(a)local b={}local c=1;local d=a.Text;local e=string.find;local f=1;local g=e(d,"\n",f,true)while g do b[c]=g;c=c+1;f=g+1;g=e(d,"\n",f,true)end;a.NewLines=b end;a.PreHighlight=function(a)local b=tick()local b=a.Text:gsub("\\\\","	")local c=#b;local d={}local e={}local f={}local g=string.find;local h=string.sub;a.ColoredLines={}local function j(a,b,c,h)local i=#d+1;local j=1;local k,l,m=g(a,b,j,h)while k do d[i]=k;e[k]=c;if m then f[k]=m end;i=i+1;j=l+1;k,l,m=g(a,b,j,h)end end;local k=tick()j(b,'"',1,true)j(b,"'",2,true)j(b,"%[(=*)%[",3)j(b,"--",4,true)table.sort(d)local j=a.NewLines;local k=0;local l=1;local l=0;local l=0;local m=0;local n={}for a=1,#d do local a=d[a]if a<=m then continue end;local d=a;local o=e[a]if o==1 then d=g(b,'"',a+1,true)while d and h(b,d-1,d-1)=="\\"do d=g(b,'"',d+1,true)end;if not d then d=c end elseif o==2 then d=g(b,"'",a+1,true)while d and h(b,d-1,d-1)=="\\"do d=g(b,"'",d+1,true)end;if not d then d=c end elseif o==3 then i,d=g(b,"]"..f[a].."]",a+1,true)if not d then d=c end elseif o==4 then local e=e[a+2]if e==3 then i,d=g(b,"]"..f[a+2].."]",a+1,true)if not d then d=c end else d=g(b,"\n",a+1,true)or c end end;while a>l do k=k+1;l=j[k]or c+1 end;while true do local b=n[k]if not b then b={}n[k]=b end;b[a]={o,d}if d>l then k=k+1;l=j[k]or c+1 else break end end;m=d end;a.PreHighlights=n end;a.HighlightLine=function(a,b)local f=a.ColoredLines[b]if f then return f end;local f=string.sub;local g=string.find;local h=string.match;local i={}local j=a.PreHighlights[b]or{}local k=a.Lines[b]or""local l=#k;local l=0;local m=0;local n=nil;local o=false;local p=0;local q=a.NewLines[b-1]or 0;local r={}for a,b in next,j do local a=a-q;if a<1 then m=b[1]l=b[2]-q else r[a]={b[1],b[2]-q}end end;for a=1,#k do if a<=l then i[a]=m;continue end;local b=r[a]if b then m=b[1]l=b[2]i[a]=m;o=false;n=nil;p=0 else local b=f(k,a,a)if g(b,"[%a_]")then local b=h(k,"[%a%d_]+",a)local d=(d[b]and 7)or(e[b]and 8)l=a+#b-1;if d~=7 then if o then local a=n and e[n]d=(a and type(a)=="table"and a[b]and 8)or 10 end;if d~=8 then local a,b,b=g(k,"^%s*([%({\"'])",l+1)if a then d=(p>0 and b=="("and 16)or 9;p=0 end end else d=c[b]or d;p=(b=="function"and 1 or 0)end;n=b;o=false;if p>0 then p=1 end;if d then m=d;i[a]=m else m=nil end elseif g(b,"%p")then local c=(b==".")local d=c and g(f(k,a+1,a+1),"%d")i[a]=(d and 6 or 5)if not d then local d=c and h(k,"%.%.?%.?",a)if d and#d>1 then m=5;l=a+#d-1;o=false;n=nil;p=0 else if c then if o then n=nil else o=true end else o=false;n=nil end;p=((c or b==":")and p==1 and 2)or 0 end end elseif g(b,"%d")then local b,b=g(k,"%x+",a)local c=f(k,b,b+1)if(c=="e+"or c=="e-")and g(f(k,b+2,b+2),"%d")then b=b+1 end;m=6;l=b;i[a]=6;o=false;n=nil;p=0 else i[a]=m;local a,a=g(k,"%s+",a)if a then l=a end end end end;a.ColoredLines[b]=i;return i end;a.Refresh=function(a)local c=tick()local c=a.Frame.Lines;local d=math.max(0,c.AbsoluteSize.X)local e=math.max(0,c.AbsoluteSize.Y)local e=math.ceil(e/a.FontSize)local d=math.ceil(d/math.ceil(a.FontSize/2))local f=string.gsub;local h=string.sub;local i,j=a.ViewX,a.ViewY;local k=""for e=1,e do local l=a.LineFrames[e]if not l then l=Instance.new("Frame")l.Name="Line"l.Position=UDim2.new(0,0,0,(e-1)*a.FontSize)l.Size=UDim2.new(1,0,0,a.FontSize)l.BorderSizePixel=0;l.BackgroundTransparency=1;local b=Instance.new("Frame")b.Name="SelectionHighlight"b.BorderSizePixel=0;b.BackgroundColor3=m.Theme.Syntax.SelectionBack;b.Parent=l;local b=Instance.new("TextLabel")b.Name="Label"b.BackgroundTransparency=1;b.Font=Enum.Font.Code;b.TextSize=a.FontSize;b.Size=UDim2.new(1,0,0,a.FontSize)b.RichText=true;b.TextXAlignment=Enum.TextXAlignment.Left;b.TextColor3=a.Colors.Text;b.ZIndex=2;b.Parent=l;l.Parent=c;a.LineFrames[e]=l end;local c=j+e;local e=a.Lines[c]or""local j=""local m=a:HighlightLine(c)local n=i+1;local o=a.RichTemplates;local p=o.Text;local q=o.Selection;local r=m[n]local s=o[b[r]]or p;local t=a.SelectionRange;local u=t[1]local t=t[2]local v,w=u[2],u[1]local x,y=t[2],t[1]local z,z=i,c-1;if z>=u[2]and z<=t[2]then local a=math.ceil(a.FontSize/2)local b=(z==u[2]and u[1]or 0)-i;local c=(z==t[2]and t[1]-b-i or d+i)l.SelectionHighlight.Position=UDim2.new(0,b*a,0,0)l.SelectionHighlight.Size=UDim2.new(0,c*a,1,0)l.SelectionHighlight.Visible=true else l.SelectionHighlight.Visible=false end;local t=z>=v and z<=x and(z==v and i>=w or z~=v)and(z==x and i<y or z~=x)if t then r=-999;s=q end;for a=2,d do local a=i+a;local c=a-1;local d=m[a]local c=z>=v and z<=x and(z==v and c>=w or z~=v)and(z==x and c<y or z~=x)if c then d=-999 end;if d~=r then local b=(c and q)or o[b[d]]or p;if b~=s then local c=f(h(e,n,a-1),"['\"<>&]",g)j=j..(s~=p and(s..c.."</font>")or c)n=a;s=b end;r=d end end;local b=f(h(e,n,i+d),"['\"<>&]",g)if#b>0 then j=j..(s~=p and(s..b.."</font>")or b)end;if a.Lines[c]then k=k..(c==a.CursorY and("<b>"..c.."</b>\n")or c.."\n")end;l.Label.Text=j end;for b=e+1,#a.LineFrames do a.LineFrames[b]:Destroy()a.LineFrames[b]=nil end;a.Frame.LineNumbers.Text=k;a:UpdateCursor()end;a.UpdateView=function(a)local b=tostring(#a.Lines)local c=math.ceil(a.FontSize/2)local d=#b*c+4*c;local e=a.Frame.Lines;local f=e.AbsoluteSize.X;local e=e.AbsoluteSize.Y;local e=math.ceil(e/a.FontSize)local g=a.MaxTextCols*c;local h=a.ScrollV;local i=a.ScrollH;h.VisibleSpace=e;h.TotalSpace=#a.Lines+1;i.VisibleSpace=math.ceil(f/c)i.TotalSpace=a.MaxTextCols+1;h.Gui.Visible=#a.Lines+1>e;i.Gui.Visible=g>f;local e=a.FrameOffsets;a.FrameOffsets=Vector2.new(h.Gui.Visible and-16 or 0,i.Gui.Visible and-16 or 0)if e~=a.FrameOffsets then a:UpdateView()else h:ScrollTo(a.ViewY,true)i:ScrollTo(a.ViewX,true)if h.Gui.Visible and i.Gui.Visible then h.Gui.Size=UDim2.new(0,16,1,-16)i.Gui.Size=UDim2.new(1,-16,0,16)a.GuiElems.ScrollCorner.Visible=true else h.Gui.Size=UDim2.new(0,16,1,0)i.Gui.Size=UDim2.new(1,0,0,16)a.GuiElems.ScrollCorner.Visible=false end;a.ViewY=h.Index;a.ViewX=i.Index;a.Frame.Lines.Position=UDim2.new(0,d,0,0)a.Frame.Lines.Size=UDim2.new(1,-d+e.X,1,e.Y)a.Frame.LineNumbers.Position=UDim2.new(0,c,0,0)a.Frame.LineNumbers.Size=UDim2.new(0,#b*c,1,e.Y)a.Frame.LineNumbers.TextSize=a.FontSize end end;a.ProcessTextChange=function(a)local b=0;local c=a.Lines;for a=1,#c do local a=#c[a]if a>b then b=a end end;a.MaxTextCols=b;a:UpdateView()a.Text=table.concat(a.Lines,"\n")a:MapNewLines()a:PreHighlight()a:Refresh()end;a.ConvertText=function(a,a,b)if b then return a:gsub("\t",(" %s "):format(h))else return a:gsub((" %s "):format(h),"\t")end end;a.GetText=function(a)local b=table.concat(a.Lines,"\n")return a:ConvertText(b,false)end;a.SetText=function(a,b)b=a:ConvertText(b,true)local c=a.Lines;table.clear(c)local d=1;for a in b:gmatch("([^\n\r]*)[\n\r]?")do local b=#a;c[d]=a;d=d+1 end;a:ProcessTextChange()end;a.MakeRichTemplates=function(a)local b=math.floor;local c={}for a,d in pairs(a.Colors)do c[a]=('<font color="rgb(%s,%s,%s)">'):format(b(d.r*255),b(d.g*255),b(d.b*255))end;a.RichTemplates=c end;a.ApplyTheme=function(a)local b=m.Theme.Syntax;a.Colors=b;a.Frame.LineNumbers.TextColor3=b.Text;a.Frame.BackgroundColor3=b.Background end;local a={__index=a}local function b()if not f then p()end;local b=k.ScrollBar.new()local c=k.ScrollBar.new(true)c.Gui.Position=UDim2.new(0,0,1,-16)local a=setmetatable({FontSize=15,ViewX=0,ViewY=0,Colors=m.Theme.Syntax,ColoredLines={},Lines={""},LineFrames={},Editable=true,Editing=false,CursorX=0,CursorY=0,FloatCursorX=0,Text="",PreHighlights={},SelectionRange={{-1,-1},{-1,-1}},NewLines={},FrameOffsets=Vector2.new(0,0),MaxTextCols=0,ScrollV=b,ScrollH=c},a)b.WheelIncrement=3;c.Increment=2;c.WheelIncrement=7;b.Scrolled:Connect(function()a.ViewY=b.Index;a:Refresh()end)c.Scrolled:Connect(function()a.ViewX=c.Index;a:Refresh()end)s(a)a:MakeRichTemplates()a:ApplyTheme()b:SetScrollFrame(a.Frame.Lines)b.Gui.Parent=a.Frame;c.Gui.Parent=a.Frame;a:UpdateView()a.Frame:GetPropertyChangedSignal("AbsoluteSize"):Connect(function()a:UpdateView()a:Refresh()end)return a end;return{new=b}end)()k.Checkbox=(function()local a={}local b=Color3.fromRGB;local c=Vector2.new;local d=UDim2.fromScale;local e=UDim2.fromOffset;local f=UDim.new;local g=math.max;local h=Instance.new;local i=h("Frame").TweenSize;local j=TweenInfo.new;local l=delay;local function m(a,b)local k=h('Frame')k.BackgroundColor3=b;k.BackgroundTransparency=0.75;k.BorderSizePixel=0;k.AnchorPoint=c(0.5,0.5)k.Size=e()k.Position=d(0.5,0.5)k.Parent=a;local b=h('UICorner')b.CornerRadius=f(1)b.Parent=k;local a=a.AbsoluteSize;local a=g(a.X,a.Y)*5/3;i(k,e(a,a),"Out","Quart",0.4)w.TweenService:Create(k,j(0.4,Enum.EasingStyle.Quart,Enum.EasingDirection.In),{BackgroundTransparency=1}):Play()w.Debris:AddItem(k,0.4)end;local function c(a,b)local b=b or y({{1,"ImageButton",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,BorderSizePixel=0,Name="Checkbox",Position=UDim2.new(0,3,0,3),Size=UDim2.new(0,16,0,16)}},{2,"Frame",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,BorderSizePixel=0,Name="ripples",Parent={1},Size=UDim2.new(1,0,1,0)}},{3,"Frame",{BackgroundColor3=Color3.new(0.10196078568697,0.10196078568697,0.10196078568697),BorderSizePixel=0,Name="outline",Parent={1},Size=UDim2.new(0,16,0,16)}},{4,"Frame",{BackgroundColor3=Color3.new(0.14117647707462,0.14117647707462,0.14117647707462),BorderSizePixel=0,Name="filler",Parent={3},Position=UDim2.new(0,1,0,1),Size=UDim2.new(0,14,0,14)}},{5,"Frame",{BackgroundColor3=Color3.new(0.90196084976196,0.90196084976196,0.90196084976196),BorderSizePixel=0,Name="top",Parent={4},Size=UDim2.new(0,16,0,0)}},{6,"Frame",{AnchorPoint=Vector2.new(0,1),BackgroundColor3=Color3.new(0.90196084976196,0.90196084976196,0.90196084976196),BorderSizePixel=0,Name="bottom",Parent={4},Position=UDim2.new(0,0,0,14),Size=UDim2.new(0,16,0,0)}},{7,"Frame",{BackgroundColor3=Color3.new(0.90196084976196,0.90196084976196,0.90196084976196),BorderSizePixel=0,Name="left",Parent={4},Size=UDim2.new(0,0,0,16)}},{8,"Frame",{AnchorPoint=Vector2.new(1,0),BackgroundColor3=Color3.new(0.90196084976196,0.90196084976196,0.90196084976196),BorderSizePixel=0,Name="right",Parent={4},Position=UDim2.new(0,14,0,0),Size=UDim2.new(0,0,0,16)}},{9,"Frame",{AnchorPoint=Vector2.new(0.5,0.5),BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,BorderSizePixel=0,ClipsDescendants=true,Name="checkmark",Parent={4},Position=UDim2.new(0.5,0,0.5,0),Size=UDim2.new(0,0,0,20)}},{10,"ImageLabel",{AnchorPoint=Vector2.new(0.5,0.5),BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,BorderSizePixel=0,Image="rbxassetid://6234266378",Parent={9},Position=UDim2.new(0.5,0,0.5,0),ScaleType=3,Size=UDim2.new(0,15,0,11)}},{11,"ImageLabel",{AnchorPoint=Vector2.new(0.5,0.5),BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,Image="rbxassetid://6401617475",ImageColor3=Color3.new(0.20784313976765,0.69803923368454,0.98431372642517),Name="checkmark2",Parent={4},Position=UDim2.new(0.5,0,0.5,0),Size=UDim2.new(0,12,0,12),Visible=false}},{12,"ImageLabel",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,Image="rbxassetid://6425281788",ImageTransparency=0.20000000298023,Name="middle",Parent={4},ScaleType=2,Size=UDim2.new(1,0,1,0),TileSize=UDim2.new(0,2,0,2),Visible=false}},{13,"UICorner",{CornerRadius=UDim.new(0,2),Parent={3}}}})local c=b.outline;local d=c.filler;local e=d.checkmark;local f=b.ripples;local g,h,i,j=d.top,d.bottom,d.left,d.right;a.Gui=b;a.GuiElems={Top=g,Bottom=h,Left=i,Right=j,Outline=c,Filler=d,Checkmark=e,Checkmark2=d.checkmark2,Middle=d.middle}b.Activated:Connect(function()if k.CheckMouseInGui(b)then if a.Style==0 then m(f,a.Disabled and a.Colors.Disabled or a.Colors.Primary)end;if not a.Disabled then a:SetState(not a.Toggled,true)else a:Paint()end;a.OnInput:Fire()end end)a:Paint()end;a.Collapse=function(a,b)local a=a.GuiElems;if b then i(a.Top,e(14,14),"In","Quart",0.26666666666666666,true)i(a.Bottom,e(14,14),"In","Quart",0.26666666666666666,true)i(a.Left,e(14,14),"In","Quart",0.26666666666666666,true)i(a.Right,e(14,14),"In","Quart",0.26666666666666666,true)else a.Top.Size=e(14,14)a.Bottom.Size=e(14,14)a.Left.Size=e(14,14)a.Right.Size=e(14,14)end end;a.Expand=function(a,b)local a=a.GuiElems;if b then i(a.Top,e(14,0),"InOut","Quart",0.26666666666666666,true)i(a.Bottom,e(14,0),"InOut","Quart",0.26666666666666666,true)i(a.Left,e(0,14),"InOut","Quart",0.26666666666666666,true)i(a.Right,e(0,14),"InOut","Quart",0.26666666666666666,true)else a.Top.Size=e(14,0)a.Bottom.Size=e(14,0)a.Left.Size=e(0,14)a.Right.Size=e(0,14)end end;a.Paint=function(a)local b=a.GuiElems;if a.Style==0 then local c=a.Disabled and a.Colors.Disabled;b.Outline.BackgroundColor3=c or(a.Toggled and a.Colors.Primary)or a.Colors.Secondary;local a=c or a.Colors.Primary;b.Top.BackgroundColor3=a;b.Bottom.BackgroundColor3=a;b.Left.BackgroundColor3=a;b.Right.BackgroundColor3=a else b.Outline.BackgroundColor3=a.Disabled and a.Colors.Disabled or a.Colors.Secondary;b.Filler.BackgroundColor3=a.Disabled and a.Colors.DisabledBackground or a.Colors.Background;b.Checkmark2.ImageColor3=a.Disabled and a.Colors.DisabledCheck or a.Colors.Primary end end;a.SetState=function(a,b,c)a.Toggled=b;if a.OutlineColorTween then a.OutlineColorTween:Cancel()end;local b=tick()a.LastSetStateTime=b;if a.Toggled then if a.Style==0 then if c then a.OutlineColorTween=w.TweenService:Create(a.GuiElems.Outline,j(0.26666666666666666,Enum.EasingStyle.Circular,Enum.EasingDirection.Out),{BackgroundColor3=a.Colors.Primary})a.OutlineColorTween:Play()l(0.15,function()if b~=a.LastSetStateTime then return end;a:Paint()i(a.GuiElems.Checkmark,e(14,20),"Out","Bounce",0.13333333333333333,true)end)else a.GuiElems.Outline.BackgroundColor3=a.Colors.Primary;a:Paint()a.GuiElems.Checkmark.Size=e(14,20)end;a:Collapse(c)else a:Paint()a.GuiElems.Checkmark2.Visible=true;a.GuiElems.Middle.Visible=false end else if a.Style==0 then if c then a.OutlineColorTween=w.TweenService:Create(a.GuiElems.Outline,j(0.26666666666666666,Enum.EasingStyle.Circular,Enum.EasingDirection.In),{BackgroundColor3=a.Colors.Secondary})a.OutlineColorTween:Play()l(0.15,function()if b~=a.LastSetStateTime then return end;a:Paint()i(a.GuiElems.Checkmark,e(0,20),"Out","Quad",0.06666666666666667,true)end)else a.GuiElems.Outline.BackgroundColor3=a.Colors.Secondary;a:Paint()a.GuiElems.Checkmark.Size=e(0,20)end;a:Expand(c)else a:Paint()a.GuiElems.Checkmark2.Visible=false;a.GuiElems.Middle.Visible=a.Toggled==nil end end end;local a={__index=a}local function d(d)local a=setmetatable({Toggled=false,Disabled=false,OnInput=k.Signal.new(),Style=d or 0,Colors={Background=b(36,36,36),Primary=b(49,176,230),Secondary=b(25,25,25),Disabled=b(64,64,64),DisabledBackground=b(52,52,52),DisabledCheck=b(80,80,80)}},a)c(a)return a end;local function e(d)local a=setmetatable({Toggled=false,Disabled=false,Colors={Background=b(36,36,36),Primary=b(49,176,230),Secondary=b(25,25,25),Disabled=b(64,64,64),DisabledBackground=b(52,52,52)}},a)c(a,d)return a end;return{new=d,e}end)()k.BrickColorPicker=(function()local a={}local b=0;local c=w.Players.LocalPlayer:GetMouse()local d=4;local e=27;local f=1;local g=8;local h={Color3.fromRGB(17,17,17),Color3.fromRGB(99,95,98),Color3.fromRGB(163,162,165),Color3.fromRGB(205,205,205),Color3.fromRGB(223,223,222),Color3.fromRGB(237,234,234),Color3.fromRGB(27,42,53),Color3.fromRGB(91,93,105),Color3.fromRGB(159,161,172),Color3.fromRGB(202,203,209),Color3.fromRGB(231,231,236),Color3.fromRGB(248,248,248)}local function i(a,b)local c=b.X-a.AbsolutePosition.X;local b=b.Y-a.AbsolutePosition.Y;if c>=d and c<d+e then c=c-4;local c=(13-math.min(c,26-c))/13;if b>=f+g*c and b<a.AbsoluteSize.Y-f-g*c then return true end end;return false end;local function d(a,b,c)b.InputBegan:Connect(function(d)if d.UserInputType==Enum.UserInputType.MouseButton1 or d.UserInputType==Enum.UserInputType.Touch then if i(b,d.Position)then a.OnSelect:Fire(c)a:Close()end end end)b.InputChanged:Connect(function(d)if d.UserInputType==Enum.UserInputType.MouseMovement or d.UserInputType==Enum.UserInputType.Touch then if i(b,d.Position)then a.OnPreview:Fire(c)end end end)end;local function e(a)local c=y({{1,"ScreenGui",{Name="BrickColor"}},{2,"Frame",{Active=true,BackgroundColor3=Color3.new(0.17647059261799,0.17647059261799,0.17647059261799),BorderColor3=Color3.new(0.1294117718935,0.1294117718935,0.1294117718935),Parent={1},Position=UDim2.new(0.40000000596046,0,0.40000000596046,0),Size=UDim2.new(0,337,0,380)}},{3,"TextButton",{BackgroundColor3=Color3.new(0.2352941185236,0.2352941185236,0.2352941185236),BorderColor3=Color3.new(0.21568627655506,0.21568627655506,0.21568627655506),BorderSizePixel=0,Font=3,Name="MoreColors",Parent={2},Position=UDim2.new(0,5,1,-30),Size=UDim2.new(1,-10,0,25),Text="更多颜色",TextColor3=Color3.new(1,1,1),TextSize=14}},{4,"ImageLabel",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,BorderSizePixel=0,Image="rbxassetid://1281023007",ImageColor3=Color3.new(0.33333334326744,0.33333334326744,0.49803924560547),Name="Hex",Parent={2},Size=UDim2.new(0,35,0,35),Visible=false}}})local e=c.Frame;local f=e.Hex;for c=1,13 do local g=math.min(c,14-c)+6;for h=1,g do local i=BrickColor.palette(b).Color;local f=f:Clone()f.Position=UDim2.new(0,(h-1)*25-(g-7)*13+78+1,0,(c-1)*23+4)f.ImageColor3=i;f.Visible=true;d(a,f,i)f.Parent=e;b=b+1 end end;for c=1,12 do local g=h[c]local f=f:Clone()f.Position=UDim2.new(0,(c-1)*25-65+78+3,0,308)f.ImageColor3=g;f.Visible=true;d(a,f,g)f.Parent=e;b=b+1 end;e.MoreColors.MouseButton1Click:Connect(function()a.OnMoreColors:Fire()a:Close()end)a.Gui=c end;a.SetMoreColorsVisible=function(a,b)local a=a.Gui.Frame;a.Size=UDim2.new(0,337,0,380-(not b and 33 or 0))a.MoreColors.Visible=b end;a.Show=function(a,b,d,e)a.PrevColor=e or a.PrevColor;local e=false;local b,d=b or c.X,d or c.Y;local c,f=c.ViewSizeX,c.ViewSizeY;k.ShowGui(a.Gui)local g,h=a.Gui.Frame.AbsoluteSize.X,a.Gui.Frame.AbsoluteSize.Y;if b+g>c then b=a.ReverseX and b-g or c-g end;if d+h>f then e=true end;local c=false;if a.CloseEvent then a.CloseEvent:Disconnect()end;a.CloseEvent=w.UserInputService.InputBegan:Connect(function(b)if not c or(b.UserInputType~=Enum.UserInputType.MouseButton1 and b.UserInputType~=Enum.UserInputType.Touch)then return end;if not k.CheckMouseInGui(a.Gui.Frame)then a.CloseEvent:Disconnect()a:Close()end end)if e then local a=d-h-(a.ReverseYOffset or 0)d=a>=0 and a or 0 end;a.Gui.Frame.Position=UDim2.new(0,b,0,d)k.FastWait()c=true end;a.Close=function(a)a.Gui.Parent=nil;a.OnCancel:Fire()end;local a={__index=a}local function b()local a=setmetatable({OnPreview=k.Signal.new(),OnSelect=k.Signal.new(),OnCancel=k.Signal.new(),OnMoreColors=k.Signal.new(),PrevColor=Color3.new(0,0,0)},a)e(a)return a end;return{new=b}end)()k.ColorPicker=(function()local a={}local function a()local a=setmetatable({},{})a.OnSelect=k.Signal.new()a.OnCancel=k.Signal.new()a.OnPreview=k.Signal.new()local b=y({{1,"Frame",{BackgroundColor3=Color3.new(0.17647059261799,0.17647059261799,0.17647059261799),BorderSizePixel=0,ClipsDescendants=true,Name="Content",Position=UDim2.new(0,0,0,20),Size=UDim2.new(1,0,1,-20)}},{2,"Frame",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,Name="BasicColors",Parent={1},Position=UDim2.new(0,5,0,5),Size=UDim2.new(0,180,0,200)}},{3,"TextLabel",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,Font=3,Name="Title",Parent={2},Position=UDim2.new(0,0,0,-5),Size=UDim2.new(1,0,0,26),Text="基本颜色",TextColor3=Color3.new(0.86274516582489,0.86274516582489,0.86274516582489),TextSize=14,TextXAlignment=0}},{4,"Frame",{BackgroundColor3=Color3.new(0.14901961386204,0.14901961386204,0.14901961386204),BorderColor3=Color3.new(0.12549020349979,0.12549020349979,0.12549020349979),Name="Blue",Parent={1},Position=UDim2.new(1,-63,0,255),Size=UDim2.new(0,52,0,16)}},{5,"TextBox",{BackgroundColor3=Color3.new(0.25098040699959,0.25098040699959,0.25098040699959),BackgroundTransparency=1,BorderColor3=Color3.new(0.37647062540054,0.37647062540054,0.37647062540054),Font=3,Name="Input",Parent={4},Position=UDim2.new(0,2,0,0),Size=UDim2.new(0,50,0,16),Text="0",TextColor3=Color3.new(0.86274516582489,0.86274516582489,0.86274516582489),TextSize=14,TextXAlignment=0}},{6,"Frame",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,BorderSizePixel=0,Name="ArrowFrame",Parent={5},Position=UDim2.new(1,-16,0,0),Size=UDim2.new(0,16,1,0)}},{7,"TextButton",{AutoButtonColor=false,BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,BorderSizePixel=0,Font=3,Name="Up",Parent={6},Size=UDim2.new(1,0,0,8),Text="",TextSize=14}},{8,"Frame",{BackgroundTransparency=1,Name="Arrow",Parent={7},Size=UDim2.new(0,16,0,8)}},{9,"Frame",{BackgroundColor3=Color3.new(0.86274510622025,0.86274510622025,0.86274510622025),BorderSizePixel=0,Parent={8},Position=UDim2.new(0,8,0,3),Size=UDim2.new(0,1,0,1)}},{10,"Frame",{BackgroundColor3=Color3.new(0.86274510622025,0.86274510622025,0.86274510622025),BorderSizePixel=0,Parent={8},Position=UDim2.new(0,7,0,4),Size=UDim2.new(0,3,0,1)}},{11,"Frame",{BackgroundColor3=Color3.new(0.86274510622025,0.86274510622025,0.86274510622025),BorderSizePixel=0,Parent={8},Position=UDim2.new(0,6,0,5),Size=UDim2.new(0,5,0,1)}},{12,"TextButton",{AutoButtonColor=false,BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,BorderSizePixel=0,Font=3,Name="Down",Parent={6},Position=UDim2.new(0,0,0,8),Size=UDim2.new(1,0,0,8),Text="",TextSize=14}},{13,"Frame",{BackgroundTransparency=1,Name="Arrow",Parent={12},Size=UDim2.new(0,16,0,8)}},{14,"Frame",{BackgroundColor3=Color3.new(0.86274510622025,0.86274510622025,0.86274510622025),BorderSizePixel=0,Parent={13},Position=UDim2.new(0,8,0,5),Size=UDim2.new(0,1,0,1)}},{15,"Frame",{BackgroundColor3=Color3.new(0.86274510622025,0.86274510622025,0.86274510622025),BorderSizePixel=0,Parent={13},Position=UDim2.new(0,7,0,4),Size=UDim2.new(0,3,0,1)}},{16,"Frame",{BackgroundColor3=Color3.new(0.86274510622025,0.86274510622025,0.86274510622025),BorderSizePixel=0,Parent={13},Position=UDim2.new(0,6,0,3),Size=UDim2.new(0,5,0,1)}},{17,"TextLabel",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,Font=3,Name="Title",Parent={4},Position=UDim2.new(0,-40,0,0),Size=UDim2.new(0,34,1,0),Text="蓝色:",TextColor3=Color3.new(0.86274516582489,0.86274516582489,0.86274516582489),TextSize=14,TextXAlignment=1}},{18,"Frame",{BackgroundColor3=Color3.new(0.21568627655506,0.21568627655506,0.21568627655506),BorderSizePixel=0,ClipsDescendants=true,Name="ColorSpaceFrame",Parent={1},Position=UDim2.new(1,-261,0,4),Size=UDim2.new(0,222,0,202)}},{19,"ImageLabel",{BackgroundColor3=Color3.new(1,1,1),BorderColor3=Color3.new(0.37647062540054,0.37647062540054,0.37647062540054),BorderSizePixel=0,Image="rbxassetid://1072518406",Name="ColorSpace",Parent={18},Position=UDim2.new(0,1,0,1),Size=UDim2.new(0,220,0,200)}},{20,"Frame",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,BorderSizePixel=0,Name="Scope",Parent={19},Position=UDim2.new(0,210,0,190),Size=UDim2.new(0,20,0,20)}},{21,"Frame",{BackgroundColor3=Color3.new(0,0,0),BorderSizePixel=0,Name="Line",Parent={20},Position=UDim2.new(0,9,0,0),Size=UDim2.new(0,2,0,20)}},{22,"Frame",{BackgroundColor3=Color3.new(0,0,0),BorderSizePixel=0,Name="Line",Parent={20},Position=UDim2.new(0,0,0,9),Size=UDim2.new(0,20,0,2)}},{23,"Frame",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,Name="CustomColors",Parent={1},Position=UDim2.new(0,5,0,210),Size=UDim2.new(0,180,0,90)}},{24,"TextLabel",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,Font=3,Name="Title",Parent={23},Size=UDim2.new(1,0,0,20),Text="自定义颜色",TextColor3=Color3.new(0.86274516582489,0.86274516582489,0.86274516582489),TextSize=14,TextXAlignment=0}},{25,"Frame",{BackgroundColor3=Color3.new(0.14901961386204,0.14901961386204,0.14901961386204),BorderColor3=Color3.new(0.12549020349979,0.12549020349979,0.12549020349979),Name="Green",Parent={1},Position=UDim2.new(1,-63,0,233),Size=UDim2.new(0,52,0,16)}},{26,"TextBox",{BackgroundColor3=Color3.new(0.25098040699959,0.25098040699959,0.25098040699959),BackgroundTransparency=1,BorderColor3=Color3.new(0.37647062540054,0.37647062540054,0.37647062540054),Font=3,Name="Input",Parent={25},Position=UDim2.new(0,2,0,0),Size=UDim2.new(0,50,0,16),Text="0",TextColor3=Color3.new(0.86274516582489,0.86274516582489,0.86274516582489),TextSize=14,TextXAlignment=0}},{27,"Frame",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,BorderSizePixel=0,Name="ArrowFrame",Parent={26},Position=UDim2.new(1,-16,0,0),Size=UDim2.new(0,16,1,0)}},{28,"TextButton",{AutoButtonColor=false,BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,BorderSizePixel=0,Font=3,Name="Up",Parent={27},Size=UDim2.new(1,0,0,8),Text="",TextSize=14}},{29,"Frame",{BackgroundTransparency=1,Name="Arrow",Parent={28},Size=UDim2.new(0,16,0,8)}},{30,"Frame",{BackgroundColor3=Color3.new(0.86274510622025,0.86274510622025,0.86274510622025),BorderSizePixel=0,Parent={29},Position=UDim2.new(0,8,0,3),Size=UDim2.new(0,1,0,1)}},{31,"Frame",{BackgroundColor3=Color3.new(0.86274510622025,0.86274510622025,0.86274510622025),BorderSizePixel=0,Parent={29},Position=UDim2.new(0,7,0,4),Size=UDim2.new(0,3,0,1)}},{32,"Frame",{BackgroundColor3=Color3.new(0.86274510622025,0.86274510622025,0.86274510622025),BorderSizePixel=0,Parent={29},Position=UDim2.new(0,6,0,5),Size=UDim2.new(0,5,0,1)}},{33,"TextButton",{AutoButtonColor=false,BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,BorderSizePixel=0,Font=3,Name="Down",Parent={27},Position=UDim2.new(0,0,0,8),Size=UDim2.new(1,0,0,8),Text="",TextSize=14}},{34,"Frame",{BackgroundTransparency=1,Name="Arrow",Parent={33},Size=UDim2.new(0,16,0,8)}},{35,"Frame",{BackgroundColor3=Color3.new(0.86274510622025,0.86274510622025,0.86274510622025),BorderSizePixel=0,Parent={34},Position=UDim2.new(0,8,0,5),Size=UDim2.new(0,1,0,1)}},{36,"Frame",{BackgroundColor3=Color3.new(0.86274510622025,0.86274510622025,0.86274510622025),BorderSizePixel=0,Parent={34},Position=UDim2.new(0,7,0,4),Size=UDim2.new(0,3,0,1)}},{37,"Frame",{BackgroundColor3=Color3.new(0.86274510622025,0.86274510622025,0.86274510622025),BorderSizePixel=0,Parent={34},Position=UDim2.new(0,6,0,3),Size=UDim2.new(0,5,0,1)}},{38,"TextLabel",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,Font=3,Name="Title",Parent={25},Position=UDim2.new(0,-40,0,0),Size=UDim2.new(0,34,1,0),Text="绿色:",TextColor3=Color3.new(0.86274516582489,0.86274516582489,0.86274516582489),TextSize=14,TextXAlignment=1}},{39,"Frame",{BackgroundColor3=Color3.new(0.14901961386204,0.14901961386204,0.14901961386204),BorderColor3=Color3.new(0.12549020349979,0.12549020349979,0.12549020349979),Name="Hue",Parent={1},Position=UDim2.new(1,-180,0,211),Size=UDim2.new(0,52,0,16)}},{40,"TextBox",{BackgroundColor3=Color3.new(0.25098040699959,0.25098040699959,0.25098040699959),BackgroundTransparency=1,BorderColor3=Color3.new(0.37647062540054,0.37647062540054,0.37647062540054),Font=3,Name="Input",Parent={39},Position=UDim2.new(0,2,0,0),Size=UDim2.new(0,50,0,16),Text="0",TextColor3=Color3.new(0.86274516582489,0.86274516582489,0.86274516582489),TextSize=14,TextXAlignment=0}},{41,"Frame",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,BorderSizePixel=0,Name="ArrowFrame",Parent={40},Position=UDim2.new(1,-16,0,0),Size=UDim2.new(0,16,1,0)}},{42,"TextButton",{AutoButtonColor=false,BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,BorderSizePixel=0,Font=3,Name="Up",Parent={41},Size=UDim2.new(1,0,0,8),Text="",TextSize=14}},{43,"Frame",{BackgroundTransparency=1,Name="Arrow",Parent={42},Size=UDim2.new(0,16,0,8)}},{44,"Frame",{BackgroundColor3=Color3.new(0.86274510622025,0.86274510622025,0.86274510622025),BorderSizePixel=0,Parent={43},Position=UDim2.new(0,8,0,3),Size=UDim2.new(0,1,0,1)}},{45,"Frame",{BackgroundColor3=Color3.new(0.86274510622025,0.86274510622025,0.86274510622025),BorderSizePixel=0,Parent={43},Position=UDim2.new(0,7,0,4),Size=UDim2.new(0,3,0,1)}},{46,"Frame",{BackgroundColor3=Color3.new(0.86274510622025,0.86274510622025,0.86274510622025),BorderSizePixel=0,Parent={43},Position=UDim2.new(0,6,0,5),Size=UDim2.new(0,5,0,1)}},{47,"TextButton",{AutoButtonColor=false,BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,BorderSizePixel=0,Font=3,Name="Down",Parent={41},Position=UDim2.new(0,0,0,8),Size=UDim2.new(1,0,0,8),Text="",TextSize=14}},{48,"Frame",{BackgroundTransparency=1,Name="Arrow",Parent={47},Size=UDim2.new(0,16,0,8)}},{49,"Frame",{BackgroundColor3=Color3.new(0.86274510622025,0.86274510622025,0.86274510622025),BorderSizePixel=0,Parent={48},Position=UDim2.new(0,8,0,5),Size=UDim2.new(0,1,0,1)}},{50,"Frame",{BackgroundColor3=Color3.new(0.86274510622025,0.86274510622025,0.86274510622025),BorderSizePixel=0,Parent={48},Position=UDim2.new(0,7,0,4),Size=UDim2.new(0,3,0,1)}},{51,"Frame",{BackgroundColor3=Color3.new(0.86274510622025,0.86274510622025,0.86274510622025),BorderSizePixel=0,Parent={48},Position=UDim2.new(0,6,0,3),Size=UDim2.new(0,5,0,1)}},{52,"TextLabel",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,Font=3,Name="Title",Parent={39},Position=UDim2.new(0,-40,0,0),Size=UDim2.new(0,34,1,0),Text="色调:",TextColor3=Color3.new(0.86274516582489,0.86274516582489,0.86274516582489),TextSize=14,TextXAlignment=1}},{53,"Frame",{BackgroundColor3=Color3.new(1,1,1),BorderColor3=Color3.new(0.21568627655506,0.21568627655506,0.21568627655506),Name="Preview",Parent={1},Position=UDim2.new(1,-260,0,211),Size=UDim2.new(0,35,1,-245)}},{54,"Frame",{BackgroundColor3=Color3.new(0.14901961386204,0.14901961386204,0.14901961386204),BorderColor3=Color3.new(0.12549020349979,0.12549020349979,0.12549020349979),Name="Red",Parent={1},Position=UDim2.new(1,-63,0,211),Size=UDim2.new(0,52,0,16)}},{55,"TextBox",{BackgroundColor3=Color3.new(0.25098040699959,0.25098040699959,0.25098040699959),BackgroundTransparency=1,BorderColor3=Color3.new(0.37647062540054,0.37647062540054,0.37647062540054),Font=3,Name="Input",Parent={54},Position=UDim2.new(0,2,0,0),Size=UDim2.new(0,50,0,16),Text="0",TextColor3=Color3.new(0.86274516582489,0.86274516582489,0.86274516582489),TextSize=14,TextXAlignment=0}},{56,"Frame",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,BorderSizePixel=0,Name="ArrowFrame",Parent={55},Position=UDim2.new(1,-16,0,0),Size=UDim2.new(0,16,1,0)}},{57,"TextButton",{AutoButtonColor=false,BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,BorderSizePixel=0,Font=3,Name="Up",Parent={56},Size=UDim2.new(1,0,0,8),Text="",TextSize=14}},{58,"Frame",{BackgroundTransparency=1,Name="Arrow",Parent={57},Size=UDim2.new(0,16,0,8)}},{59,"Frame",{BackgroundColor3=Color3.new(0.86274510622025,0.86274510622025,0.86274510622025),BorderSizePixel=0,Parent={58},Position=UDim2.new(0,8,0,3),Size=UDim2.new(0,1,0,1)}},{60,"Frame",{BackgroundColor3=Color3.new(0.86274510622025,0.86274510622025,0.86274510622025),BorderSizePixel=0,Parent={58},Position=UDim2.new(0,7,0,4),Size=UDim2.new(0,3,0,1)}},{61,"Frame",{BackgroundColor3=Color3.new(0.86274510622025,0.86274510622025,0.86274510622025),BorderSizePixel=0,Parent={58},Position=UDim2.new(0,6,0,5),Size=UDim2.new(0,5,0,1)}},{62,"TextButton",{AutoButtonColor=false,BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,BorderSizePixel=0,Font=3,Name="Down",Parent={56},Position=UDim2.new(0,0,0,8),Size=UDim2.new(1,0,0,8),Text="",TextSize=14}},{63,"Frame",{BackgroundTransparency=1,Name="Arrow",Parent={62},Size=UDim2.new(0,16,0,8)}},{64,"Frame",{BackgroundColor3=Color3.new(0.86274510622025,0.86274510622025,0.86274510622025),BorderSizePixel=0,Parent={63},Position=UDim2.new(0,8,0,5),Size=UDim2.new(0,1,0,1)}},{65,"Frame",{BackgroundColor3=Color3.new(0.86274510622025,0.86274510622025,0.86274510622025),BorderSizePixel=0,Parent={63},Position=UDim2.new(0,7,0,4),Size=UDim2.new(0,3,0,1)}},{66,"Frame",{BackgroundColor3=Color3.new(0.86274510622025,0.86274510622025,0.86274510622025),BorderSizePixel=0,Parent={63},Position=UDim2.new(0,6,0,3),Size=UDim2.new(0,5,0,1)}},{67,"TextLabel",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,Font=3,Name="Title",Parent={54},Position=UDim2.new(0,-40,0,0),Size=UDim2.new(0,34,1,0),Text="红色:",TextColor3=Color3.new(0.86274516582489,0.86274516582489,0.86274516582489),TextSize=14,TextXAlignment=1}},{68,"Frame",{BackgroundColor3=Color3.new(0.14901961386204,0.14901961386204,0.14901961386204),BorderColor3=Color3.new(0.12549020349979,0.12549020349979,0.12549020349979),Name="Sat",Parent={1},Position=UDim2.new(1,-180,0,233),Size=UDim2.new(0,52,0,16)}},{69,"TextBox",{BackgroundColor3=Color3.new(0.25098040699959,0.25098040699959,0.25098040699959),BackgroundTransparency=1,BorderColor3=Color3.new(0.37647062540054,0.37647062540054,0.37647062540054),Font=3,Name="Input",Parent={68},Position=UDim2.new(0,2,0,0),Size=UDim2.new(0,50,0,16),Text="0",TextColor3=Color3.new(0.86274516582489,0.86274516582489,0.86274516582489),TextSize=14,TextXAlignment=0}},{70,"Frame",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,BorderSizePixel=0,Name="ArrowFrame",Parent={69},Position=UDim2.new(1,-16,0,0),Size=UDim2.new(0,16,1,0)}},{71,"TextButton",{AutoButtonColor=false,BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,BorderSizePixel=0,Font=3,Name="Up",Parent={70},Size=UDim2.new(1,0,0,8),Text="",TextSize=14}},{72,"Frame",{BackgroundTransparency=1,Name="Arrow",Parent={71},Size=UDim2.new(0,16,0,8)}},{73,"Frame",{BackgroundColor3=Color3.new(0.86274510622025,0.86274510622025,0.86274510622025),BorderSizePixel=0,Parent={72},Position=UDim2.new(0,8,0,3),Size=UDim2.new(0,1,0,1)}},{74,"Frame",{BackgroundColor3=Color3.new(0.86274510622025,0.86274510622025,0.86274510622025),BorderSizePixel=0,Parent={72},Position=UDim2.new(0,7,0,4),Size=UDim2.new(0,3,0,1)}},{75,"Frame",{BackgroundColor3=Color3.new(0.86274510622025,0.86274510622025,0.86274510622025),BorderSizePixel=0,Parent={72},Position=UDim2.new(0,6,0,5),Size=UDim2.new(0,5,0,1)}},{76,"TextButton",{AutoButtonColor=false,BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,BorderSizePixel=0,Font=3,Name="Down",Parent={70},Position=UDim2.new(0,0,0,8),Size=UDim2.new(1,0,0,8),Text="",TextSize=14}},{77,"Frame",{BackgroundTransparency=1,Name="Arrow",Parent={76},Size=UDim2.new(0,16,0,8)}},{78,"Frame",{BackgroundColor3=Color3.new(0.86274510622025,0.86274510622025,0.86274510622025),BorderSizePixel=0,Parent={77},Position=UDim2.new(0,8,0,5),Size=UDim2.new(0,1,0,1)}},{79,"Frame",{BackgroundColor3=Color3.new(0.86274510622025,0.86274510622025,0.86274510622025),BorderSizePixel=0,Parent={77},Position=UDim2.new(0,7,0,4),Size=UDim2.new(0,3,0,1)}},{80,"Frame",{BackgroundColor3=Color3.new(0.86274510622025,0.86274510622025,0.86274510622025),BorderSizePixel=0,Parent={77},Position=UDim2.new(0,6,0,3),Size=UDim2.new(0,5,0,1)}},{81,"TextLabel",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,Font=3,Name="Title",Parent={68},Position=UDim2.new(0,-40,0,0),Size=UDim2.new(0,34,1,0),Text="饱和度:",TextColor3=Color3.new(0.86274516582489,0.86274516582489,0.86274516582489),TextSize=14,TextXAlignment=1}},{82,"Frame",{BackgroundColor3=Color3.new(0.14901961386204,0.14901961386204,0.14901961386204),BorderColor3=Color3.new(0.12549020349979,0.12549020349979,0.12549020349979),Name="Val",Parent={1},Position=UDim2.new(1,-180,0,255),Size=UDim2.new(0,52,0,16)}},{83,"TextBox",{BackgroundColor3=Color3.new(0.25098040699959,0.25098040699959,0.25098040699959),BackgroundTransparency=1,BorderColor3=Color3.new(0.37647062540054,0.37647062540054,0.37647062540054),Font=3,Name="Input",Parent={82},Position=UDim2.new(0,2,0,0),Size=UDim2.new(0,50,0,16),Text="255",TextColor3=Color3.new(0.86274516582489,0.86274516582489,0.86274516582489),TextSize=14,TextXAlignment=0}},{84,"Frame",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,BorderSizePixel=0,Name="ArrowFrame",Parent={83},Position=UDim2.new(1,-16,0,0),Size=UDim2.new(0,16,1,0)}},{85,"TextButton",{AutoButtonColor=false,BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,BorderSizePixel=0,Font=3,Name="Up",Parent={84},Size=UDim2.new(1,0,0,8),Text="",TextSize=14}},{86,"Frame",{BackgroundTransparency=1,Name="Arrow",Parent={85},Size=UDim2.new(0,16,0,8)}},{87,"Frame",{BackgroundColor3=Color3.new(0.86274510622025,0.86274510622025,0.86274510622025),BorderSizePixel=0,Parent={86},Position=UDim2.new(0,8,0,3),Size=UDim2.new(0,1,0,1)}},{88,"Frame",{BackgroundColor3=Color3.new(0.86274510622025,0.86274510622025,0.86274510622025),BorderSizePixel=0,Parent={86},Position=UDim2.new(0,7,0,4),Size=UDim2.new(0,3,0,1)}},{89,"Frame",{BackgroundColor3=Color3.new(0.86274510622025,0.86274510622025,0.86274510622025),BorderSizePixel=0,Parent={86},Position=UDim2.new(0,6,0,5),Size=UDim2.new(0,5,0,1)}},{90,"TextButton",{AutoButtonColor=false,BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,BorderSizePixel=0,Font=3,Name="Down",Parent={84},Position=UDim2.new(0,0,0,8),Size=UDim2.new(1,0,0,8),Text="",TextSize=14}},{91,"Frame",{BackgroundTransparency=1,Name="Arrow",Parent={90},Size=UDim2.new(0,16,0,8)}},{92,"Frame",{BackgroundColor3=Color3.new(0.86274510622025,0.86274510622025,0.86274510622025),BorderSizePixel=0,Parent={91},Position=UDim2.new(0,8,0,5),Size=UDim2.new(0,1,0,1)}},{93,"Frame",{BackgroundColor3=Color3.new(0.86274510622025,0.86274510622025,0.86274510622025),BorderSizePixel=0,Parent={91},Position=UDim2.new(0,7,0,4),Size=UDim2.new(0,3,0,1)}},{94,"Frame",{BackgroundColor3=Color3.new(0.86274510622025,0.86274510622025,0.86274510622025),BorderSizePixel=0,Parent={91},Position=UDim2.new(0,6,0,3),Size=UDim2.new(0,5,0,1)}},{95,"TextLabel",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,Font=3,Name="Title",Parent={82},Position=UDim2.new(0,-40,0,0),Size=UDim2.new(0,34,1,0),Text="值:",TextColor3=Color3.new(0.86274516582489,0.86274516582489,0.86274516582489),TextSize=14,TextXAlignment=1}},{96,"TextButton",{AutoButtonColor=false,BackgroundColor3=Color3.new(0.2352941185236,0.2352941185236,0.2352941185236),BorderColor3=Color3.new(0.21568627655506,0.21568627655506,0.21568627655506),Font=3,Name="Cancel",Parent={1},Position=UDim2.new(1,-105,1,-28),Size=UDim2.new(0,100,0,25),Text="取消",TextColor3=Color3.new(0.86274516582489,0.86274516582489,0.86274516582489),TextSize=14}},{97,"TextButton",{AutoButtonColor=false,BackgroundColor3=Color3.new(0.2352941185236,0.2352941185236,0.2352941185236),BorderColor3=Color3.new(0.21568627655506,0.21568627655506,0.21568627655506),Font=3,Name="Ok",Parent={1},Position=UDim2.new(1,-210,1,-28),Size=UDim2.new(0,100,0,25),Text="确定",TextColor3=Color3.new(0.86274516582489,0.86274516582489,0.86274516582489),TextSize=14}},{98,"ImageLabel",{BackgroundColor3=Color3.new(1,1,1),BorderColor3=Color3.new(0.21568627655506,0.21568627655506,0.21568627655506),Image="rbxassetid://1072518502",Name="ColorStrip",Parent={1},Position=UDim2.new(1,-30,0,5),Size=UDim2.new(0,13,0,200)}},{99,"Frame",{BackgroundColor3=Color3.new(0.3137255012989,0.3137255012989,0.3137255012989),BackgroundTransparency=1,BorderSizePixel=0,Name="ArrowFrame",Parent={1},Position=UDim2.new(1,-16,0,1),Size=UDim2.new(0,5,0,208)}},{100,"Frame",{BackgroundTransparency=1,Name="Arrow",Parent={99},Position=UDim2.new(0,-2,0,-4),Size=UDim2.new(0,8,0,16)}},{101,"Frame",{BackgroundColor3=Color3.new(0,0,0),BorderSizePixel=0,Parent={100},Position=UDim2.new(0,2,0,8),Size=UDim2.new(0,1,0,1)}},{102,"Frame",{BackgroundColor3=Color3.new(0,0,0),BorderSizePixel=0,Parent={100},Position=UDim2.new(0,3,0,7),Size=UDim2.new(0,1,0,3)}},{103,"Frame",{BackgroundColor3=Color3.new(0,0,0),BorderSizePixel=0,Parent={100},Position=UDim2.new(0,4,0,6),Size=UDim2.new(0,1,0,5)}},{104,"Frame",{BackgroundColor3=Color3.new(0,0,0),BorderSizePixel=0,Parent={100},Position=UDim2.new(0,5,0,5),Size=UDim2.new(0,1,0,7)}},{105,"Frame",{BackgroundColor3=Color3.new(0,0,0),BorderSizePixel=0,Parent={100},Position=UDim2.new(0,6,0,4),Size=UDim2.new(0,1,0,9)}}})local c=k.Window.new()c.Resizable=false;c.Alignable=false;c:SetTitle("颜色选择器")c:Resize(450,330)for a,a in pairs(b:GetChildren())do a.Parent=c.GuiElems.Content end;a.Window=c;a.Gui=c.Gui;local b=c.Gui.Main;local d=b.TopBar;local b=b.Content;local e=b.ColorSpaceFrame.ColorSpace;local f=b.ColorStrip;local g=b.Preview;local h=b.BasicColors;local i=b.CustomColors;local j=b.Ok;local k=b.Cancel;local d=d.Close;local d=e.Scope;local l=b.ArrowFrame.Arrow;local m=b.Hue.Input;local n=b.Sat.Input;local o=b.Val.Input;local p=b.Red.Input;local q=b.Green.Input;local b=b.Blue.Input;local r=w.UserInputService;local s=w.Players.LocalPlayer:GetMouse()local t,u,v=0,0,1;local w,x,y=1,1,1;local z=Color3.new(0,0,0)local A={Color3.new(0,0,0),Color3.new(0.66666668653488,0,0),Color3.new(0,0.33333334326744,0),Color3.new(0.66666668653488,0.33333334326744,0),Color3.new(0,0.66666668653488,0),Color3.new(0.66666668653488,0.66666668653488,0),Color3.new(0,1,0),Color3.new(0.66666668653488,1,0),Color3.new(0,0,0.49803924560547),Color3.new(0.66666668653488,0,0.49803924560547),Color3.new(0,0.33333334326744,0.49803924560547),Color3.new(0.66666668653488,0.33333334326744,0.49803924560547),Color3.new(0,0.66666668653488,0.49803924560547),Color3.new(0.66666668653488,0.66666668653488,0.49803924560547),Color3.new(0,1,0.49803924560547),Color3.new(0.66666668653488,1,0.49803924560547),Color3.new(0,0,1),Color3.new(0.66666668653488,0,1),Color3.new(0,0.33333334326744,1),Color3.new(0.66666668653488,0.33333334326744,1),Color3.new(0,0.66666668653488,1),Color3.new(0.66666668653488,0.66666668653488,1),Color3.new(0,1,1),Color3.new(0.66666668653488,1,1),Color3.new(0.33333334326744,0,0),Color3.new(1,0,0),Color3.new(0.33333334326744,0.33333334326744,0),Color3.new(1,0.33333334326744,0),Color3.new(0.33333334326744,0.66666668653488,0),Color3.new(1,0.66666668653488,0),Color3.new(0.33333334326744,1,0),Color3.new(1,1,0),Color3.new(0.33333334326744,0,0.49803924560547),Color3.new(1,0,0.49803924560547),Color3.new(0.33333334326744,0.33333334326744,0.49803924560547),Color3.new(1,0.33333334326744,0.49803924560547),Color3.new(0.33333334326744,0.66666668653488,0.49803924560547),Color3.new(1,0.66666668653488,0.49803924560547),Color3.new(0.33333334326744,1,0.49803924560547),Color3.new(1,1,0.49803924560547),Color3.new(0.33333334326744,0,1),Color3.new(1,0,1),Color3.new(0.33333334326744,0.33333334326744,1),Color3.new(1,0.33333334326744,1),Color3.new(0.33333334326744,0.66666668653488,1),Color3.new(1,0.66666668653488,1),Color3.new(0.33333334326744,1,1),Color3.new(1,1,1)}local B={}local function C(c)local e,h,i=219-t*219,199-u*199,199-v*199;local j=Color3.fromHSV(t,u,v)if c==2 or not c then m.Text=tostring(math.ceil(359*t))n.Text=tostring(math.ceil(255*u))o.Text=tostring(math.floor(255*v))end;if c==1 or not c then p.Text=tostring(math.floor(255*w))q.Text=tostring(math.floor(255*x))b.Text=tostring(math.floor(255*y))end;z=Color3.new(w,x,y)d.Position=UDim2.new(0,(e-9),0,(h-9))f.ImageColor3=Color3.fromHSV(t,u,1)l.Position=UDim2.new(0,-2,0,(i-4))g.BackgroundColor3=z;a.Color=z;a.OnPreview:Fire(z)end;local function d(a,b)if a.UserInputType==Enum.UserInputType.MouseButton1 or a.UserInputType==Enum.UserInputType.Touch then while r:IsMouseButtonPressed(Enum.UserInputType.MouseButton1)do b()task.wait()end end end;local function g()local a=s.X-e.AbsolutePosition.X;local b=s.Y-e.AbsolutePosition.Y;if a<0 then a=0 elseif a>219 then a=219 end;if b<0 then b=0 elseif b>199 then b=199 end;t=(219-a)/219;u=(199-b)/199;local a=Color3.fromHSV(t,u,v)w,x,y=a.R,a.G,a.B;C()end;local function l()local a=s.Y-f.AbsolutePosition.Y;if a<0 then a=0 elseif a>199 then a=199 end;v=(199-a)/199;local a=Color3.fromHSV(t,u,v)w,x,y=a.R,a.G,a.B;C()end;e.InputBegan:Connect(function(a)d(a,g)end)f.InputBegan:Connect(function(a)d(a,l)end)local function d(a,b)a.ArrowFrame.Up.InputBegan:Connect(function(c)if c.UserInputType==Enum.UserInputType.MouseButton1 or c.UserInputType==Enum.UserInputType.Touch then local c,d;local d=tick()local e=true;local a=tonumber(a.Text)if not a then return end;c=r.InputEnded:Connect(function(a)if a.UserInputType==Enum.UserInputType.MouseButton1 or a.UserInputType==Enum.UserInputType.Touch then c:Disconnect()e=false end end)a=a+1;b(a)while e do if tick()-d>0.3 then a=a+1;b(a)d=tick()end;task.wait(0.1)end end end)a.ArrowFrame.Down.InputBegan:Connect(function(c)if c.UserInputType==Enum.UserInputType.MouseButton1 or c.UserInputType==Enum.UserInputType.Touch then local c,d;local d=tick()local e=true;local a=tonumber(a.Text)if not a then return end;c=r.InputEnded:Connect(function(a)if a.UserInputType==Enum.UserInputType.MouseButton1 or a.UserInputType==Enum.UserInputType.Touch then c:Disconnect()e=false end end)a=a-1;b(a)while e do if tick()-d>0.3 then a=a-1;b(a)d=tick()end;task.wait(0.1)end end end)end;local function e(a)local a=tonumber(a)if a then t=math.clamp(math.floor(a),0,359)/359;local a=Color3.fromHSV(t,u,v)w,x,y=a.r,a.g,a.b;m.Text=tostring(t*359)C(1)end end;m.FocusLost:Connect(function()e(m.Text)end)d(m,m)local function e(a)local a=tonumber(a)if a then u=math.clamp(math.floor(a),0,255)/255;local a=Color3.fromHSV(t,u,v)w,x,y=a.r,a.g,a.b;n.Text=tostring(u*255)C(1)end end;n.FocusLost:Connect(function()e(n.Text)end)d(n,e)local function e(a)local a=tonumber(a)if a then v=math.clamp(math.floor(a),0,255)/255;local a=Color3.fromHSV(t,u,v)w,x,y=a.r,a.g,a.b;o.Text=tostring(v*255)C(1)end end;o.FocusLost:Connect(function()e(o.Text)end)d(o,e)local function e(a)local a=tonumber(a)if a then w=math.clamp(math.floor(a),0,255)/255;local a=Color3.new(w,x,y)t,u,v=Color3.toHSV(a)p.Text=tostring(w*255)C(2)end end;p.FocusLost:Connect(function()e(p.Text)end)d(p,e)local function e(a)local a=tonumber(a)if a then x=math.clamp(math.floor(a),0,255)/255;local a=Color3.new(w,x,y)t,u,v=Color3.toHSV(a)q.Text=tostring(x*255)C(2)end end;q.FocusLost:Connect(function()e(q.Text)end)d(q,e)local function e(a)local a=tonumber(a)if a then y=math.clamp(math.floor(a),0,255)/255;local a=Color3.new(w,x,y)t,u,v=Color3.toHSV(a)b.Text=tostring(y*255)C(2)end end;b.FocusLost:Connect(function()e(b.Text)end)d(b,e)local b=Instance.new("TextButton")b.Name="Choice"b.Size=UDim2.new(0,25,0,18)b.BorderColor3=Color3.fromRGB(55,55,55)b.Text=""b.AutoButtonColor=false;local d=0;local e=0;for a,a in pairs(A)do local b=b:Clone()b.BackgroundColor3=a;b.Position=UDim2.new(0,1+30*e,0,21+23*d)b.MouseButton1Click:Connect(function()w,x,y=a.r,a.g,a.b;local a=Color3.new(w,x,y)t,u,v=Color3.toHSV(a)C()end)b.Parent=h;e=e+1;if e==6 then d=d+1;e=0 end end;d=0;e=0;for a=1,12 do local c=B[a]or Color3.new(0,0,0)local b=b:Clone()b.BackgroundColor3=c;b.Position=UDim2.new(0,1+30*e,0,20+23*d)b.MouseButton1Click:Connect(function()local a=B[a]or Color3.new(0,0,0)w,x,y=a.r,a.g,a.b;t,u,v=Color3.toHSV(a)C()end)b.MouseButton2Click:Connect(function()B[a]=z;b.BackgroundColor3=z end)b.Parent=i;e=e+1;if e==6 then d=d+1;e=0 end end;j.MouseButton1Click:Connect(function()a.OnSelect:Fire(z)c:Close()end)j.InputBegan:Connect(function(a)if a.UserInputType==Enum.UserInputType.MouseMovement or a.UserInputType==Enum.UserInputType.Touch then j.BackgroundTransparency=0.4 end end)j.InputEnded:Connect(function(a)if a.UserInputType==Enum.UserInputType.MouseMovement or a.UserInputType==Enum.UserInputType.Touch then j.BackgroundTransparency=0 end end)k.MouseButton1Click:Connect(function()a.OnCancel:Fire()c:Close()end)k.InputBegan:Connect(function(a)if a.UserInputType==Enum.UserInputType.MouseMovement or a.UserInputType==Enum.UserInputType.Touch then k.BackgroundTransparency=0.4 end end)k.InputEnded:Connect(function(a)if a.UserInputType==Enum.UserInputType.MouseMovement or a.UserInputType==Enum.UserInputType.Touch then k.BackgroundTransparency=0 end end)C()a.SetColor=function(a,a)w,x,y=a.r,a.g,a.b;t,u,v=Color3.toHSV(a)C()end;a.Show=function(a)a.Window:Show()end;return a end;return{new=a}end)()k.NumberSequenceEditor=(function()local function a()local a=setmetatable({},{})a.OnSelect=k.Signal.new()a.OnCancel=k.Signal.new()a.OnPreview=k.Signal.new()local b=y({{1,"Frame",{BackgroundColor3=Color3.new(0.17647059261799,0.17647059261799,0.17647059261799),BorderSizePixel=0,ClipsDescendants=true,Name="Content",Position=UDim2.new(0,0,0,20),Size=UDim2.new(1,0,1,-20)}},{2,"Frame",{BackgroundColor3=Color3.new(0.14901961386204,0.14901961386204,0.14901961386204),BorderColor3=Color3.new(0.12549020349979,0.12549020349979,0.12549020349979),Name="Time",Parent={1},Position=UDim2.new(0,40,0,210),Size=UDim2.new(0,60,0,20)}},{3,"TextBox",{BackgroundColor3=Color3.new(0.25098040699959,0.25098040699959,0.25098040699959),BackgroundTransparency=1,BorderColor3=Color3.new(0.37647062540054,0.37647062540054,0.37647062540054),ClipsDescendants=true,Font=3,Name="Input",Parent={2},Position=UDim2.new(0,2,0,0),Size=UDim2.new(0,58,0,20),Text="0",TextColor3=Color3.new(0.86274516582489,0.86274516582489,0.86274516582489),TextSize=14,TextXAlignment=0}},{4,"TextLabel",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,Font=3,Name="Title",Parent={2},Position=UDim2.new(0,-40,0,0),Size=UDim2.new(0,34,1,0),Text="时间",TextColor3=Color3.new(0.86274516582489,0.86274516582489,0.86274516582489),TextSize=14,TextXAlignment=1}},{5,"TextButton",{AutoButtonColor=false,BackgroundColor3=Color3.new(0.2352941185236,0.2352941185236,0.2352941185236),BorderColor3=Color3.new(0.21568627655506,0.21568627655506,0.21568627655506),Font=3,Name="Close",Parent={1},Position=UDim2.new(1,-90,0,210),Size=UDim2.new(0,80,0,20),Text="关闭",TextColor3=Color3.new(0.86274516582489,0.86274516582489,0.86274516582489),TextSize=14}},{6,"TextButton",{AutoButtonColor=false,BackgroundColor3=Color3.new(0.2352941185236,0.2352941185236,0.2352941185236),BorderColor3=Color3.new(0.21568627655506,0.21568627655506,0.21568627655506),Font=3,Name="Reset",Parent={1},Position=UDim2.new(1,-180,0,210),Size=UDim2.new(0,80,0,20),Text="重置",TextColor3=Color3.new(0.86274516582489,0.86274516582489,0.86274516582489),TextSize=14}},{7,"TextButton",{AutoButtonColor=false,BackgroundColor3=Color3.new(0.2352941185236,0.2352941185236,0.2352941185236),BorderColor3=Color3.new(0.21568627655506,0.21568627655506,0.21568627655506),Font=3,Name="Delete",Parent={1},Position=UDim2.new(0,380,0,210),Size=UDim2.new(0,80,0,20),Text="删除",TextColor3=Color3.new(0.86274516582489,0.86274516582489,0.86274516582489),TextSize=14}},{8,"Frame",{BackgroundColor3=Color3.new(0.17647059261799,0.17647059261799,0.17647059261799),BorderColor3=Color3.new(0.21568627655506,0.21568627655506,0.21568627655506),Name="NumberLineOutlines",Parent={1},Position=UDim2.new(0,10,0,20),Size=UDim2.new(1,-20,0,170)}},{9,"Frame",{BackgroundColor3=Color3.new(0.25098040699959,0.25098040699959,0.25098040699959),BackgroundTransparency=1,BorderColor3=Color3.new(0.37647062540054,0.37647062540054,0.37647062540054),Name="NumberLine",Parent={1},Position=UDim2.new(0,10,0,20),Size=UDim2.new(1,-20,0,170)}},{10,"Frame",{BackgroundColor3=Color3.new(0.14901961386204,0.14901961386204,0.14901961386204),BorderColor3=Color3.new(0.12549020349979,0.12549020349979,0.12549020349979),Name="Value",Parent={1},Position=UDim2.new(0,170,0,210),Size=UDim2.new(0,60,0,20)}},{11,"TextLabel",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,Font=3,Name="Title",Parent={10},Position=UDim2.new(0,-40,0,0),Size=UDim2.new(0,34,1,0),Text="值",TextColor3=Color3.new(0.86274516582489,0.86274516582489,0.86274516582489),TextSize=14,TextXAlignment=1}},{12,"TextBox",{BackgroundColor3=Color3.new(0.25098040699959,0.25098040699959,0.25098040699959),BackgroundTransparency=1,BorderColor3=Color3.new(0.37647062540054,0.37647062540054,0.37647062540054),ClipsDescendants=true,Font=3,Name="Input",Parent={10},Position=UDim2.new(0,2,0,0),Size=UDim2.new(0,58,0,20),Text="0",TextColor3=Color3.new(0.86274516582489,0.86274516582489,0.86274516582489),TextSize=14,TextXAlignment=0}},{13,"Frame",{BackgroundColor3=Color3.new(0.14901961386204,0.14901961386204,0.14901961386204),BorderColor3=Color3.new(0.12549020349979,0.12549020349979,0.12549020349979),Name="Envelope",Parent={1},Position=UDim2.new(0,300,0,210),Size=UDim2.new(0,60,0,20)}},{14,"TextBox",{BackgroundColor3=Color3.new(0.25098040699959,0.25098040699959,0.25098040699959),BackgroundTransparency=1,BorderColor3=Color3.new(0.37647062540054,0.37647062540054,0.37647062540054),ClipsDescendants=true,Font=3,Name="Input",Parent={13},Position=UDim2.new(0,2,0,0),Size=UDim2.new(0,58,0,20),Text="0",TextColor3=Color3.new(0.86274516582489,0.86274516582489,0.86274516582489),TextSize=14,TextXAlignment=0}},{15,"TextLabel",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,Font=3,Name="Title",Parent={13},Position=UDim2.new(0,-40,0,0),Size=UDim2.new(0,34,1,0),Text="信封",TextColor3=Color3.new(0.86274516582489,0.86274516582489,0.86274516582489),TextSize=14,TextXAlignment=1}}})local c=k.Window.new()c.Resizable=false;c:Resize(680,265)c:SetTitle("数字序列编辑器")a.Window=c;a.Gui=c.Gui;for a,a in pairs(b:GetChildren())do a.Parent=c.GuiElems.Content end;local b=c.Gui;local b=b.Main;local d=b.TopBar;local b=b.Content;local e=b.NumberLine;local f=b.NumberLineOutlines;local g=b.Time.Input;local h=b.Value.Input;local i=b.Envelope.Input;local j=b.Delete;local l=b.Reset;local b=b.Close;local d=d.Close;local d={{1,0,3},{8,0.05,1},{5,0.6,2},{4,0.7,4},{6,1,4}}local m={}local n={}local o=d[1]local p=d[#d]local q=nil;local r=nil;local s=nil;local t=w.UserInputService;local u=w.Players.LocalPlayer:GetMouse()for a=2,10 do local b=Instance.new("Frame")b.BackgroundTransparency=0.5;b.BackgroundColor3=Color3.new(0.3764705882352941,0.3764705882352941,0.3764705882352941)b.BorderSizePixel=0;b.Size=UDim2.new(0,1,1,0)b.Position=UDim2.new((a-1)/(10),0,0,0)b.Parent=f end;for a=2,4 do local b=Instance.new("Frame")b.BackgroundTransparency=0.5;b.BackgroundColor3=Color3.new(0.3764705882352941,0.3764705882352941,0.3764705882352941)b.BorderSizePixel=0;b.Size=UDim2.new(1,0,0,1)b.Position=UDim2.new(0,0,(a-1)/(4),0)b.Parent=f end;local f=Instance.new("Frame")f.BackgroundColor3=Color3.new(0,0,0)f.BorderSizePixel=0;f.Size=UDim2.new(0,1,0,1)local f=Instance.new("Frame")f.BackgroundColor3=Color3.new(0,0,0)f.BorderSizePixel=0;f.Size=UDim2.new(0,1,0,0)for a=1,e.AbsoluteSize.X do local b=f:Clone()n[a]=b;b.Name="E"..tostring(a)b.BackgroundTransparency=0.5;b.BackgroundColor3=Color3.new(0.7803921568627451,0.17254901960784313,0.10980392156862745)b.Position=UDim2.new(0,a-1,0,0)b.Parent=e end;for a=1,e.AbsoluteSize.X do local b=f:Clone()m[a]=b;b.Name=tostring(a)b.Position=UDim2.new(0,a-1,0,0)b.Parent=e end;local f=Instance.new("Frame")f.BackgroundTransparency=1;f.BackgroundColor3=Color3.new(0,0,0)f.BorderSizePixel=0;f.Size=UDim2.new(0,7,0,20)f.Visible=false;f.ZIndex=2;local v=Instance.new("Frame",f)v.Name="Line"v.BackgroundColor3=Color3.new(0,0,0)v.BorderSizePixel=0;v.Position=UDim2.new(0,3,0,0)v.Size=UDim2.new(0,1,0,20)v.ZIndex=2;local f,v=f:Clone(),f:Clone()f.Parent=e;v.Parent=e;local function w()local b={}for a,a in pairs(d)do table.insert(b,NumberSequenceKeypoint.new(a[2],a[1],a[3]))end;a.Sequence=NumberSequence.new(b)a.OnSelect:Fire(a.Sequence)end;local function x(a,b)local b=10^b;return math.floor(a*b+0.5)/b end;local function y(a)if a then r=a;local b,c,d=a[2],a[1],a[3]g.Text=x(b,(b<0.01 and 5)or(b<0.1 and 4)or 3)h.Text=x(c,(c<0.01 and 5)or(c<0.1 and 4)or(c<1 and 3)or 2)i.Text=x(d,(d<0.01 and 5)or(d<0.1 and 4)or(c<1 and 3)or 2)local b=e.AbsoluteSize.Y*(a[3]/10)f.Position=UDim2.new(0,a[4].Position.X.Offset-1,0,a[4].Position.Y.Offset-b-17)f.Visible=true;v.Position=UDim2.new(0,a[4].Position.X.Offset-1,0,a[4].Position.Y.Offset+b+2)v.Visible=true end end;f.InputBegan:Connect(function(b)if(b.UserInputType~=Enum.UserInputType.MouseButton1 and b.UserInputType~=Enum.UserInputType.Touch)or not r or k.CheckMouseInGui(r[4].Select)then return end;local b,c;local d=e.AbsoluteSize.Y;local e=math.abs(f.AbsolutePosition.Y-u.Y)f.Line.Position=UDim2.new(0,2,0,0)f.Line.Size=UDim2.new(0,3,0,20)c=t.InputEnded:Connect(function(a)if a.UserInputType~=Enum.UserInputType.MouseButton1 and a.UserInputType~=Enum.UserInputType.Touch then return end;b:Disconnect()c:Disconnect()f.Line.Position=UDim2.new(0,3,0,0)f.Line.Size=UDim2.new(0,1,0,20)end)b=t.InputChanged:Connect(function(b)if b.UserInputType==Enum.UserInputType.MouseMovement or b.UserInputType==Enum.UserInputType.Touch then local b=(r[4].AbsolutePosition.Y+2)-(u.Y-e)-19;local b=10*(math.max(b,0)/d)local c=math.min(r[1],10-r[1])r[3]=math.min(b,c)a:Redraw()w()y(r)end end)end)v.InputBegan:Connect(function(b)if(b.UserInputType~=Enum.UserInputType.MouseButton1 and b.UserInputType~=Enum.UserInputType.Touch)or not r or k.CheckMouseInGui(r[4].Select)then return end;local b,c;local d=e.AbsoluteSize.Y;local e=math.abs(v.AbsolutePosition.Y-u.Y)v.Line.Position=UDim2.new(0,2,0,0)v.Line.Size=UDim2.new(0,3,0,20)c=t.InputEnded:Connect(function(a)if a.UserInputType~=Enum.UserInputType.MouseButton1 and a.UserInputType~=Enum.UserInputType.Touch then return end;b:Disconnect()c:Disconnect()v.Line.Position=UDim2.new(0,3,0,0)v.Line.Size=UDim2.new(0,1,0,20)end)b=t.InputChanged:Connect(function(b)if b.UserInputType==Enum.UserInputType.MouseMovement or b.UserInputType==Enum.UserInputType.Touch then local b=(u.Y+(20-e))-(r[4].AbsolutePosition.Y+2)-19;local b=10*(math.max(b,0)/d)local c=math.min(r[1],10-r[1])r[3]=math.min(b,c)a:Redraw()w()y(r)end end)end)local function u(b)local c=Instance.new("Frame")c.Name="Point"c.BorderSizePixel=0;c.Size=UDim2.new(0,5,0,5)c.Position=UDim2.new(0,math.floor((e.AbsoluteSize.X-1)*b[2])-2,0,e.AbsoluteSize.Y*(10-b[1])/10-2)c.BackgroundColor3=Color3.new(0,0,0)local f=Instance.new("Frame")f.Name="Select"f.BackgroundTransparency=1;f.BackgroundColor3=Color3.new(0.7803921568627451,0.17254901960784313,0.10980392156862745)f.Position=UDim2.new(0,-2,0,-2)f.Size=UDim2.new(0,9,0,9)f.Parent=c;c.Parent=e;f.InputBegan:Connect(function(c)if c.UserInputType==Enum.UserInputType.MouseMovement or c.UserInputType==Enum.UserInputType.Touch then for a,a in pairs(d)do a[4].Select.BackgroundTransparency=1 end;f.BackgroundTransparency=0;y(b)end;if(c.UserInputType==Enum.UserInputType.MouseButton1 or c.UserInputType==Enum.UserInputType.Touch)and not q then r=b;local c,g;q=true;f.BackgroundColor3=Color3.new(0.9764705882352941,0.7490196078431373,0.23137254901960785)local h=b[3]g=t.InputEnded:Connect(function(a)if a.UserInputType~=Enum.UserInputType.MouseButton1 and a.UserInputType~=Enum.UserInputType.Touch then return end;c:Disconnect()g:Disconnect()q=nil;f.BackgroundColor3=Color3.new(0.7803921568627451,0.17254901960784313,0.10980392156862745)end)c=t.InputChanged:Connect(function(c)if c.UserInputType==Enum.UserInputType.MouseMovement or c.UserInputType==Enum.UserInputType.Touch then local g=e.AbsoluteSize.X-1;local i=(c.Position.X-e.AbsolutePosition.X)if i<0 then i=0 end;if i>g then i=g end;local j=e.AbsoluteSize.Y-1;local c=(c.Position.Y-e.AbsolutePosition.Y)if c<0 then c=0 end;if c>j then c=j end;if b~=o and b~=p then b[2]=i/g end;b[1]=10-(c/j)*10;local c=math.min(b[1],10-b[1])b[3]=math.min(h,c)a:Redraw()y(b)for a,a in pairs(d)do a[4].Select.BackgroundTransparency=1 end;f.BackgroundTransparency=0;w()end end)end end)return c end;local function t()for a,a in pairs(d)do a[4]=u(a)end end;local function x(a)local a=e.AbsoluteSize;table.sort(d,function(a,b)return a[2]<b[2]end)for b,b in pairs(d)do b[4].Position=UDim2.new(0,math.floor((a.X-1)*b[2])-2,0,(a.Y-1)*(10-b[1])/10-2)end;m[1].Size=UDim2.new(0,1,0,0)for b=1,#d-1 do local c=d[b]local b=d[b+1]local d=b[4].Position.Y.Offset-c[4].Position.Y.Offset;local e=b[4].Position.X.Offset-c[4].Position.X.Offset;local f=d/e;local g=c[3]local h=b[3]local i=math.abs(f)local j=0;local k=math.abs(b[4].Position.Y.Offset-c[4].Position.Y.Offset)for l=math.min(c[4].Position.X.Offset+1,b[4].Position.X.Offset),b[4].Position.X.Offset do if e==0 and d==0 then return end;local d=math.floor(i)local e=m[l+3]if e then if j+d>k then d=k-j end;if math.sign(f)==-1 then e.Position=UDim2.new(0,l+2,0,c[4].Position.Y.Offset+-(j+d)+2)else e.Position=UDim2.new(0,l+2,0,c[4].Position.Y.Offset+j+2)end;e.Size=UDim2.new(0,1,0,math.max(d,1))end;j=j+d;i=i-d+math.abs(f)local b=(l-c[4].Position.X.Offset)/(b[4].Position.X.Offset-c[4].Position.X.Offset)local b=g+(h-g)*b;local a=(b/10)*a.Y;local b=n[l+3]if b then b.Position=UDim2.new(0,l+2,0,m[l+3].Position.Y.Offset-math.floor(a))b.Size=UDim2.new(0,1,0,math.floor(a*2))end end end end;a.Redraw=x;local function m(a,a)s=a;for a,a in pairs(d)do if a[4]then a[4]:Destroy()end end;d={}for a,a in pairs(a.Keypoints)do local b=math.min(a.Value,10-a.Value)local a={a.Value,a.Time,math.min(a.Envelope,b)}a[4]=u(a)table.insert(d,a)end;o=d[1]p=d[#d]q=nil;x()f.Visible=false;v.Visible=false end;a.SetSequence=m;g.FocusLost:Connect(function()local a=r;local b=tonumber(g.Text)if a and b and a~=o and a~=p then b=math.clamp(b,0,1)a[2]=b;x()w()y(a)end end)h.FocusLost:Connect(function()local a=r;local b=tonumber(h.Text)if a and b then local c=a[3]b=math.clamp(b,0,10)a[1]=b;local b=math.min(a[1],10-a[1])a[3]=math.min(c,b)x()w()y(a)end end)i.FocusLost:Connect(function()local a=r;local b=tonumber(i.Text)if a and b then b=math.clamp(b,0,5)local c=math.min(a[1],10-a[1])a[3]=math.min(b,c)x()w()y(a)end end)local function g(a,b)a.InputBegan:Connect(function(c)if c.UserInputType==Enum.UserInputType.MouseMovement or c.UserInputType==Enum.UserInputType.Touch then a.BackgroundTransparency=(b and 0.5 or 0.4)end end)a.InputEnded:Connect(function(c)if c.UserInputType==Enum.UserInputType.MouseMovement or c.UserInputType==Enum.UserInputType.Touch then a.BackgroundTransparency=(b and 1 or 0)end end)end;e.InputBegan:Connect(function(a)if(a.UserInputType==Enum.UserInputType.MouseButton1 or a.UserInputType==Enum.UserInputType.Touch)and#d<20 then if k.CheckMouseInGui(f)or k.CheckMouseInGui(v)then return end;for a,a in pairs(d)do if k.CheckMouseInGui(a[4].Select)then return end end;local b=e.AbsoluteSize.X-1;local c=(a.Position.X-e.AbsolutePosition.X)if c<0 then c=0 end;if c>b then c=b end;local f=e.AbsoluteSize.Y-1;local a=(a.Position.Y-e.AbsolutePosition.Y)if a<0 then a=0 end;if a>f then a=f end;local b=c/b;local a={10-(a/f)*10,b,0}a[4]=u(a)table.insert(d,a)x()w()end end)j.MouseButton1Click:Connect(function()if r and r~=o and r~=p then for a,b in pairs(d)do if b==r then b[4]:Destroy()table.remove(d,a)break end end;q=nil;x()w()y(d[1])end end)l.MouseButton1Click:Connect(function()if s then a:SetSequence(s)w()end end)b.MouseButton1Click:Connect(function()c:Close()end)g(j)g(l)g(b)t()x()a.Show=function(a)c:Show()end;return a end;return{new=a}end)()k.ColorSequenceEditor=(function()local function a()local a=setmetatable({},{})a.OnSelect=k.Signal.new()a.OnCancel=k.Signal.new()a.OnPreview=k.Signal.new()a.OnPickColor=k.Signal.new()local b=y({{1,"Frame",{BackgroundColor3=Color3.new(0.17647059261799,0.17647059261799,0.17647059261799),BorderSizePixel=0,ClipsDescendants=true,Name="Content",Position=UDim2.new(0,0,0,20),Size=UDim2.new(1,0,1,-20)}},{2,"Frame",{BackgroundColor3=Color3.new(0.17647059261799,0.17647059261799,0.17647059261799),BorderColor3=Color3.new(0.21568627655506,0.21568627655506,0.21568627655506),Name="ColorLine",Parent={1},Position=UDim2.new(0,10,0,5),Size=UDim2.new(1,-20,0,70)}},{3,"Frame",{BackgroundColor3=Color3.new(1,1,1),BorderSizePixel=0,Name="Gradient",Parent={2},Size=UDim2.new(1,0,1,0)}},{4,"UIGradient",{Parent={3}}},{5,"Frame",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,BorderSizePixel=0,Name="Arrows",Parent={1},Position=UDim2.new(0,1,0,73),Size=UDim2.new(1,-2,0,16)}},{6,"Frame",{BackgroundColor3=Color3.new(0,0,0),BackgroundTransparency=0.5,BorderSizePixel=0,Name="Cursor",Parent={1},Position=UDim2.new(0,10,0,0),Size=UDim2.new(0,1,0,80)}},{7,"Frame",{BackgroundColor3=Color3.new(0.14901961386204,0.14901961386204,0.14901961386204),BorderColor3=Color3.new(0.12549020349979,0.12549020349979,0.12549020349979),Name="Time",Parent={1},Position=UDim2.new(0,40,0,95),Size=UDim2.new(0,100,0,20)}},{8,"TextBox",{BackgroundColor3=Color3.new(0.25098040699959,0.25098040699959,0.25098040699959),BackgroundTransparency=1,BorderColor3=Color3.new(0.37647062540054,0.37647062540054,0.37647062540054),ClipsDescendants=true,Font=3,Name="Input",Parent={7},Position=UDim2.new(0,2,0,0),Size=UDim2.new(0,98,0,20),Text="0",TextColor3=Color3.new(0.86274516582489,0.86274516582489,0.86274516582489),TextSize=14,TextXAlignment=0}},{9,"TextLabel",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,Font=3,Name="Title",Parent={7},Position=UDim2.new(0,-40,0,0),Size=UDim2.new(0,34,1,0),Text="时间",TextColor3=Color3.new(0.86274516582489,0.86274516582489,0.86274516582489),TextSize=14,TextXAlignment=1}},{10,"Frame",{BackgroundColor3=Color3.new(1,1,1),BorderColor3=Color3.new(0.21568627655506,0.21568627655506,0.21568627655506),Name="ColorBox",Parent={1},Position=UDim2.new(0,220,0,95),Size=UDim2.new(0,20,0,20)}},{11,"TextLabel",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,Font=3,Name="Title",Parent={10},Position=UDim2.new(0,-40,0,0),Size=UDim2.new(0,34,1,0),Text="颜色",TextColor3=Color3.new(0.86274516582489,0.86274516582489,0.86274516582489),TextSize=14,TextXAlignment=1}},{12,"TextButton",{AutoButtonColor=false,BackgroundColor3=Color3.new(0.2352941185236,0.2352941185236,0.2352941185236),BorderColor3=Color3.new(0.21568627655506,0.21568627655506,0.21568627655506),BorderSizePixel=0,Font=3,Name="Close",Parent={1},Position=UDim2.new(1,-90,0,95),Size=UDim2.new(0,80,0,20),Text="关闭",TextColor3=Color3.new(0.86274516582489,0.86274516582489,0.86274516582489),TextSize=14}},{13,"TextButton",{AutoButtonColor=false,BackgroundColor3=Color3.new(0.2352941185236,0.2352941185236,0.2352941185236),BorderColor3=Color3.new(0.21568627655506,0.21568627655506,0.21568627655506),BorderSizePixel=0,Font=3,Name="Reset",Parent={1},Position=UDim2.new(1,-180,0,95),Size=UDim2.new(0,80,0,20),Text="重置",TextColor3=Color3.new(0.86274516582489,0.86274516582489,0.86274516582489),TextSize=14}},{14,"TextButton",{AutoButtonColor=false,BackgroundColor3=Color3.new(0.2352941185236,0.2352941185236,0.2352941185236),BorderColor3=Color3.new(0.21568627655506,0.21568627655506,0.21568627655506),BorderSizePixel=0,Font=3,Name="Delete",Parent={1},Position=UDim2.new(0,280,0,95),Size=UDim2.new(0,80,0,20),Text="删除",TextColor3=Color3.new(0.86274516582489,0.86274516582489,0.86274516582489),TextSize=14}},{15,"Frame",{BackgroundTransparency=1,Name="Arrow",Parent={1},Size=UDim2.new(0,16,0,16),Visible=false}},{16,"Frame",{BackgroundColor3=Color3.new(0.86274510622025,0.86274510622025,0.86274510622025),BorderSizePixel=0,Parent={15},Position=UDim2.new(0,8,0,3),Size=UDim2.new(0,1,0,2)}},{17,"Frame",{BackgroundColor3=Color3.new(0.86274510622025,0.86274510622025,0.86274510622025),BorderSizePixel=0,Parent={15},Position=UDim2.new(0,7,0,5),Size=UDim2.new(0,3,0,2)}},{18,"Frame",{BackgroundColor3=Color3.new(0.86274510622025,0.86274510622025,0.86274510622025),BorderSizePixel=0,Parent={15},Position=UDim2.new(0,6,0,7),Size=UDim2.new(0,5,0,2)}},{19,"Frame",{BackgroundColor3=Color3.new(0.86274510622025,0.86274510622025,0.86274510622025),BorderSizePixel=0,Parent={15},Position=UDim2.new(0,5,0,9),Size=UDim2.new(0,7,0,2)}},{20,"Frame",{BackgroundColor3=Color3.new(0.86274510622025,0.86274510622025,0.86274510622025),BorderSizePixel=0,Parent={15},Position=UDim2.new(0,4,0,11),Size=UDim2.new(0,9,0,2)}}})local c=k.Window.new()c.Resizable=false;c:Resize(650,150)c:SetTitle("颜色序列编辑器")a.Window=c;a.Gui=c.Gui;for a,a in pairs(b:GetChildren())do a.Parent=c.GuiElems.Content end;local b=c.Gui;local b=b.Main;local d=b.TopBar;local b=b.Content;local e=b.ColorLine;local f=e.Gradient.UIGradient;local g=b.Arrows;local h=b.Arrow;local i=b.Cursor;local j=b.Time.Input;local l=b.ColorBox;local m=b.Delete;local n=b.Reset;local b=b.Close;local d=d.Close;local o=w.UserInputService;local p=w.Players.LocalPlayer:GetMouse()local p={{Color3.new(1,0,1),0},{Color3.new(0.2,0.9,0.2),0.2},{Color3.new(0.4,0.5,0.9),0.7},{Color3.new(0.6,1,1),1}}local q=nil;local r=p[1]local s=p[#p]local t=nil;local u=nil;local v=Instance.new("Frame")v.BorderSizePixel=0;v.Size=UDim2.new(0,1,1,0)a.Sequence=ColorSequence.new(Color3.new(1,1,1))local function v(b)local c={}table.sort(p,function(a,b)return a[2]<b[2]end)for a,a in pairs(p)do table.insert(c,ColorSequenceKeypoint.new(a[2],a[1]))end;a.Sequence=ColorSequence.new(c)if not b then a.OnSelect:Fire(a.Sequence)end end;local function w(a,b)local b=10^b;return math.floor(a*b+0.5)/b end;local function x(a)if a then u=a;local b=a[2]j.Text=w(b,(b<0.01 and 5)or(b<0.1 and 4)or 3)l.BackgroundColor3=a[1]end end;local function w(b,c)local d=h:Clone()d.Position=UDim2.new(0,b-1,0,0)d.Visible=true;d.Parent=g;d.InputBegan:Connect(function(b)if b.UserInputType==Enum.UserInputType.MouseMovement or b.UserInputType==Enum.UserInputType.Touch then i.Visible=true;i.Position=UDim2.new(0,9+d.Position.X.Offset,0,0)end;if b.UserInputType==Enum.UserInputType.MouseButton1 or b.UserInputType==Enum.UserInputType.Touch then x(c)if c==r or c==s or t then return end;local b,f;t=true;f=o.InputEnded:Connect(function(a)if a.UserInputType~=Enum.UserInputType.MouseButton1 and a.UserInputType~=Enum.UserInputType.Touch then return end;b:Disconnect()f:Disconnect()t=nil;i.Visible=false end)b=o.InputChanged:Connect(function(b)if b.UserInputType==Enum.UserInputType.MouseMovement or b.UserInputType==Enum.UserInputType.Touch then local f=e.AbsoluteSize.X-1;local b=(b.Position.X-e.AbsolutePosition.X)if b<0 then b=0 end;if b>f then b=f end;local e=b/f;c[2]=b/f;x(c)i.Visible=true;i.Position=UDim2.new(0,9+d.Position.X.Offset,0,0)v()a:Redraw()end end)end end)d.InputEnded:Connect(function(a)if a.UserInputType==Enum.UserInputType.MouseMovement or a.UserInputType==Enum.UserInputType.Touch then i.Visible=false end end)return d end;local function g()for a,a in pairs(p)do a[3]=w(math.floor((e.AbsoluteSize.X-1)*a[2])+1,a)end end;local function h(b)f.Color=a.Sequence or ColorSequence.new(Color3.new(1,1,1))for a=2,#p do local a=p[a]local b=math.floor((e.AbsoluteSize.X-1)*a[2])+1;a[3].Position=UDim2.new(0,b,0,0)end end;a.Redraw=h;local function f(a,a)q=a;for a,a in pairs(p)do if a[3]then a[3]:Destroy()end end;p={}t=nil;for a,a in pairs(a.Keypoints)do local b={a.Value,a.Time}b[3]=w(a.Time,b)table.insert(p,b)end;r=p[1]s=p[#p]t=nil;x(p[1])v(true)h()end;a.SetSequence=f;local function f(a,b)a.InputBegan:Connect(function(c)if c.UserInputType==Enum.UserInputType.MouseMovement or c.UserInputType==Enum.UserInputType.Touch then a.BackgroundTransparency=(b and 0.5 or 0.4)end end)a.InputEnded:Connect(function(c)if c.UserInputType==Enum.UserInputType.MouseMovement or c.UserInputType==Enum.UserInputType.Touch then a.BackgroundTransparency=(b and 1 or 0)end end)end;e.InputBegan:Connect(function(a)if(a.UserInputType==Enum.UserInputType.MouseButton1 or a.UserInputType==Enum.UserInputType.Touch)and#p<20 then local b=e.AbsoluteSize.X-1;local a=(a.Position.X-e.AbsolutePosition.X)if a<0 then a=0 end;if a>b then a=b end;local a=a/b;local b=nil;local c=nil;for d,e in pairs(p)do if e[2]>=a then b=p[math.max(d-1,1)]c=p[d]break end end;local b=b[1]:lerp(c[1],(a-b[2])/(c[2]-b[2]))local a={b,a}a[3]=w(a[2],a)table.insert(p,a)x(a)v()h()end end)e.InputChanged:Connect(function(a)if(a.UserInputType==Enum.UserInputType.MouseMovement or a.UserInputType==Enum.UserInputType.Touch)then local b=e.AbsoluteSize.X-1;local a=(a.Position.X-e.AbsolutePosition.X)if a<0 then a=0 end;if a>b then a=b end;i.Visible=true;i.Position=UDim2.new(0,10+a,0,0)end end)e.InputEnded:Connect(function(a)if(a.UserInputType==Enum.UserInputType.MouseMovement or a.UserInputType==Enum.UserInputType.Touch)then local a=false;for b,b in pairs(p)do if k.CheckMouseInGui(b[3])then a=b[3]end end;i.Visible=a and true or false;if a then i.Position=UDim2.new(0,9+a.Position.X.Offset,0,0)end end end)j:GetPropertyChangedSignal("Text"):Connect(function()local a=u;local b=tonumber(j.Text)if a and b and a~=r and a~=s then b=math.clamp(b,0,1)a[2]=b;v()h()end end)l.InputBegan:Connect(function(b)if(b.UserInputType==Enum.UserInputType.MouseButton1 or b.UserInputType==Enum.UserInputType.Touch)then local b=a.ColorPicker;if not b then b=k.ColorPicker.new()b.Window:SetTitle("颜色序列颜色选择器")b.OnSelect:Connect(function(a)if u then u[1]=a end;v()h()end)a.ColorPicker=b end;b.Window:ShowAndFocus()end end)m.MouseButton1Click:Connect(function()if u and u~=r and u~=s then for a,b in pairs(p)do if b==u then b[3]:Destroy()table.remove(p,a)break end end;t=nil;x(p[1])v()h()end end)n.MouseButton1Click:Connect(function()if q then a:SetSequence(q)end end)b.MouseButton1Click:Connect(function()c:Close()end)d.MouseButton1Click:Connect(function()c:Close()end)f(m)f(n)f(b)g()h()a.Show=function(a)c:Show()end;return a end;return{new=a}end)()k.ViewportTextBox=(function()local a=w.TextService;local b={OffsetX=0,TextBox=q,CursorPos=-1,Gui=q,View=q}local c={}c.Update=function(b)local c=b.CursorPos or-1;local d=b.TextBox.Text;if d==""then b.TextBox.Position=UDim2.new(0,0,0,0)return end;if c==-1 then return end;local c=d:sub(1,c-1)local e=nil;local f=-b.TextBox.Position.X.Offset;local g=f+b.View.AbsoluteSize.X;local d=a:GetTextSize(d,b.TextBox.TextSize,b.TextBox.Font,Vector2.new(999999999,100)).X;local a=a:GetTextSize(c,b.TextBox.TextSize,b.TextBox.Font,Vector2.new(999999999,100)).X;if a>g then e=math.max(-1,a-b.View.AbsoluteSize.X+2)elseif a<f then e=math.max(-1,a-2)elseif d<g then e=math.max(-1,d-b.View.AbsoluteSize.X+2)end;if e then b.TextBox.Position=UDim2.new(0,-e,0,0)b.TextBox.Size=UDim2.new(1,e,1,0)end end;c.GetText=function(a)return a.TextBox.Text end;c.SetText=function(a,b)a.TextBox.Text=b end;local a=B(b,c)local function c(c)local a=A(b,a)local b=Instance.new("Frame")b.BackgroundTransparency=c.BackgroundTransparency;b.BackgroundColor3=c.BackgroundColor3;b.BorderSizePixel=c.BorderSizePixel;b.BorderColor3=c.BorderColor3;b.Position=c.Position;b.Size=c.Size;b.ClipsDescendants=true;b.Name=c.Name;c.BackgroundTransparency=1;c.Position=UDim2.new(0,0,0,0)c.Size=UDim2.new(1,0,1,0)c.TextXAlignment=Enum.TextXAlignment.Left;c.Name="Input"a.TextBox=c;a.View=b;a.Gui=b;c.Changed:Connect(function(b)if b=="Text"or b=="CursorPosition"or b=="AbsoluteSize"then local b=a.TextBox.CursorPosition;if b~=-1 then a.CursorPos=b end;a:Update()end end)a:Update()b.Parent=c.Parent;c.Parent=b;return a end;local function a()local a=Instance.new("TextBox")a.Size=UDim2.new(0,100,0,20)a.BackgroundColor3=m.Theme.TextBox;a.BorderColor3=m.Theme.Outline3;a.ClearTextOnFocus=false;a.TextColor3=m.Theme.Text;a.Font=Enum.Font.SourceSans;a.TextSize=14;a.Text=""return c(a)end;return{new=a,convert=c}end)()k.Label=(function()local a,b={},{}local a=B(a,b)local function b()local b=Instance.new("TextLabel")b.BackgroundTransparency=1;b.TextXAlignment=Enum.TextXAlignment.Left;b.TextColor3=m.Theme.Text;b.TextTransparency=0.1;b.Size=UDim2.new(0,100,0,20)b.Font=Enum.Font.SourceSans;b.TextSize=14;local a=setmetatable({Gui=b},a)return a end;return{new=b}end)()k.Frame=(function()local a,b={},{}local a=B(a,b)local function b()local b=Instance.new("Frame")b.BackgroundColor3=m.Theme.Main1;b.BorderColor3=m.Theme.Outline1;b.Size=UDim2.new(0,50,0,50)local a=setmetatable({Gui=b},a)return a end;return{new=b}end)()k.Button=(function()local a={Gui=q,Anim=q,Disabled=false,OnClick=r,OnDown=r,OnUp=r,AllowedButtons={1}}local b={}local c=table.find;b.Trigger=function(a,b,d)if not a.Disabled and c(a.AllowedButtons,d)then a["On"..b]:Fire(d)end end;b.SetDisabled=function(a,b)a.Disabled=b;if b then a.Anim:Disable()a.Gui.TextTransparency=0.5 else a.Anim.Enable()a.Gui.TextTransparency=0 end end;local b=B(a,b)local function c()local c=Instance.new("TextButton")c.AutoButtonColor=false;c.TextColor3=m.Theme.Text;c.TextTransparency=0.1;c.Size=UDim2.new(0,100,0,20)c.Font=Enum.Font.SourceSans;c.TextSize=14;c.BackgroundColor3=m.Theme.Button;c.BorderColor3=m.Theme.Outline2;local a=A(a,b)a.Gui=c;a.Anim=k.ButtonAnim(c,{Mode=2,StartColor=m.Theme.Button,HoverColor=m.Theme.ButtonHover,PressColor=m.Theme.ButtonPress,OutlineColor=m.Theme.Outline2})c.MouseButton1Click:Connect(function()a:Trigger("Click",1)end)c.MouseButton1Down:Connect(function()a:Trigger("Down",1)end)c.MouseButton1Up:Connect(function()a:Trigger("Up",1)end)c.MouseButton2Click:Connect(function()a:Trigger("Click",2)end)c.MouseButton2Down:Connect(function()a:Trigger("Down",2)end)c.MouseButton2Up:Connect(function()a:Trigger("Up",2)end)return a end;return{new=c}end)()k.DropDown=(function()local a={Gui=q,Anim=q,Context=q,Selected=q,Disabled=false,CanBeEmpty=true,Options={},GuiElems={},OnSelect=r}local b={}b.Update=function(a)local b=a.Options;if#b>0 then if not a.Selected then if not a.CanBeEmpty then a.Selected=b[1]a.GuiElems.Label.Text=b[1]else a.GuiElems.Label.Text="- 选择 -"end else a.GuiElems.Label.Text=a.Selected end else a.GuiElems.Label.Text="- 选择 -"end end;b.ShowOptions=function(a)local b=a.Context;b.Width=a.Gui.AbsoluteSize.X;b.ReverseYOffset=a.Gui.AbsoluteSize.Y;b:Show(a.Gui.AbsolutePosition.X,a.Gui.AbsolutePosition.Y+b.ReverseYOffset)end;b.SetOptions=function(a,b)a.Options=b;local b=a.Context;local c=a.Options;b:Clear()local d=function(b)a.Selected=b;a.OnSelect:Fire(b)a:Update()end;if a.CanBeEmpty then b:Add({Name="- Select -",function()a.Selected=nil;a.OnSelect:Fire(nil)a:Update()end})end;for a=1,#c do b:Add({Name=c[a],OnClick=d})end;a:Update()end;b.SetSelected=function(a,b)a.Selected=type(b)=="number"and a.Options[b]or b;a:Update()end;local b=B(a,b)local function c()local c=Instance.new("TextButton")c.AutoButtonColor=false;c.Text=""c.Size=UDim2.new(0,100,0,20)c.BackgroundColor3=m.Theme.TextBox;c.BorderColor3=m.Theme.Outline3;local d=k.Label.new()d.Position=UDim2.new(0,2,0,0)d.Size=UDim2.new(1,-22,1,0)d.TextTruncate=Enum.TextTruncate.AtEnd;d.Parent=c;local e=y({{1,"Frame",{BackgroundTransparency=1,Name="EnumArrow",Position=UDim2.new(1,-16,0,2),Size=UDim2.new(0,16,0,16)}},{2,"Frame",{BackgroundColor3=Color3.new(0.86274510622025,0.86274510622025,0.86274510622025),BorderSizePixel=0,Parent={1},Position=UDim2.new(0,8,0,9),Size=UDim2.new(0,1,0,1)}},{3,"Frame",{BackgroundColor3=Color3.new(0.86274510622025,0.86274510622025,0.86274510622025),BorderSizePixel=0,Parent={1},Position=UDim2.new(0,7,0,8),Size=UDim2.new(0,3,0,1)}},{4,"Frame",{BackgroundColor3=Color3.new(0.86274510622025,0.86274510622025,0.86274510622025),BorderSizePixel=0,Parent={1},Position=UDim2.new(0,6,0,7),Size=UDim2.new(0,5,0,1)}}})e.Parent=c;local a=A(a,b)a.Gui=c;a.Anim=k.ButtonAnim(c,{Mode=2,StartColor=m.Theme.TextBox,LerpTo=m.Theme.Button,LerpDelta=0.15})a.Context=k.ContextMenu.new()a.Context.Iconless=true;a.Context.MaxHeight=200;a.Selected=nil;a.GuiElems={Label=d}c.MouseButton1Down:Connect(function()a:ShowOptions()end)a:Update()return a end;return{new=c}end)()k.ClickSystem=(function()local a={LastItem=q,OnDown=r,OnRelease=r,AllowedButtons={1},Combo=0,MaxCombo=2,ComboTime=0.5,Items={},ItemCons={},ClickId=-1,LastButton=""}local b={}local c=tostring;local c=function(a)local b=table.find(a.Signal.Connections,a)if b then table.remove(a.Signal.Connections,b)end end;b.Trigger=function(a,b,c,d,e)if table.find(a.AllowedButtons,c)then if a.LastButton~=c or a.LastItem~=b or a.Combo==a.MaxCombo or tick()-a.ClickId>a.ComboTime then a.Combo=0;a.LastButton=c;a.LastItem=b end;a.Combo=a.Combo+1;a.ClickId=tick()task.spawn(function()if a.InputDown then a.InputDown=false else a.InputDown=tick()local c=b.MouseButton1Up:Once(function()a.InputDown=false end)while a.InputDown and not n.Dragging do if(tick()-a.InputDown)>=0.4 then a.InputDown=false;a["OnRelease"]:Fire(b,a.Combo,2,Vector2.new(d,e))break end;task.wait()end end end)local d;d=w.UserInputService.InputEnded:Connect(function(e)if e.UserInputType==Enum.UserInputType["MouseButton"..c]then d:Disconnect()if k.CheckMouseInGui(b)and a.LastButton==c and a.LastItem==b then a["OnRelease"]:Fire(b,a.Combo,c)end end end)a["OnDown"]:Fire(b,a.Combo,c)end end;b.Add=function(a,b)if table.find(a.Items,b)then return end;local c={}c[1]=b.MouseButton1Down:Connect(function(c,d)a:Trigger(b,1,c,d)end)c[2]=b.MouseButton2Down:Connect(function(c,d)a:Trigger(b,2,c,d)end)a.ItemCons[b]=c;a.Items[#a.Items+1]=b end;b.Remove=function(a,b)local c=table.find(a.Items,b)if not c then return end;for a,a in pairs(a.ItemCons[b])do a:Disconnect()end;a.ItemCons[b]=nil;table.remove(a.Items,c)end;local b={__index=b}local function c()local a=A(a,b)return a end;return{new=c}end)()return k end;return{InitDeps=A,InitAfterMain=k,Main=l}end,Console=function()local a,b,c,d;local e,f,g,h;local i,j,k,l,m,n,o;local function p(e)a=e.Main;b=e.Lib;c=e.Apps;d=e.Settings;i=e.API;j=e.RMD;k=e.env;l=e.service;m=e.plr;n=e.create;o=e.createSimple end;local function a()e=c.Explorer;f=c.Properties;g=c.ScriptViewer;h=c.Notebook end;local function c()local a={}local c,d;local e=500;local f={}c=b.Window.new()c:SetTitle("控制台")c:Resize(500,400)a.Window=c;d=Instance.new("ImageButton",c.GuiElems.Content)d["BorderSizePixel"]=0;d["AutoButtonColor"]=false;d["BackgroundTransparency"]=1;d["BackgroundColor3"]=Color3.fromRGB(47,47,47)d["Selectable"]=false;d["Size"]=UDim2.new(1,0,1,0)d["BorderColor3"]=Color3.fromRGB(0,0,0)d["Name"]=[[Console]]d["Position"]=UDim2.new(0,0,0,0)f["3"]=b.Frame.new().Gui;f["3"].Parent=d;f["3"]["BorderSizePixel"]=0;f["3"]["BackgroundColor3"]=Color3.fromRGB(37,37,37)f["3"]["AnchorPoint"]=Vector2.new(0.5,1)f["3"]["ClipsDescendants"]=true;f["3"]["Size"]=UDim2.new(1,-8,0,22)f["3"]["Position"]=UDim2.new(0.5,0,1,-5)f["3"]["BorderColor3"]=Color3.fromRGB(0,0,0)f["3"]["Name"]=[[CommandLine]]f["4"]=Instance.new("UIStroke",f["3"])f["4"]["Transparency"]=0.65;f["4"]["Thickness"]=1.25;f["5"]=Instance.new("ScrollingFrame",f["3"])f["5"]["Active"]=true;f["5"]["ScrollingDirection"]=Enum.ScrollingDirection.X;f["5"]["BorderSizePixel"]=0;f["5"]["CanvasSize"]=UDim2.new(0,0,0,0)f["5"]["ElasticBehavior"]=Enum.ElasticBehavior.Never;f["5"]["TopImage"]=[[rbxasset://textures/ui/Scroll/scroll-middle.png]]f["5"]["BackgroundColor3"]=Color3.fromRGB(255,255,255)f["5"]["HorizontalScrollBarInset"]=Enum.ScrollBarInset.Always;f["5"]["BottomImage"]=[[rbxasset://textures/ui/Scroll/scroll-middle.png]]f["5"]["AutomaticCanvasSize"]=Enum.AutomaticSize.X;f["5"]["Size"]=UDim2.new(1,0,1,0)f["5"]["ScrollBarImageColor3"]=Color3.fromRGB(57,57,57)f["5"]["BorderColor3"]=Color3.fromRGB(0,0,0)f["5"]["ScrollBarThickness"]=2;f["5"]["BackgroundTransparency"]=1;f["6"]=Instance.new("TextBox",f["5"])f["6"]["CursorPosition"]=-1;f["6"]["TextXAlignment"]=Enum.TextXAlignment.Left;f["6"]["PlaceholderColor3"]=Color3.fromRGB(211,211,211)f["6"]["BorderSizePixel"]=0;f["6"]["TextSize"]=13;f["6"]["TextColor3"]=Color3.fromRGB(211,211,211)f["6"]["BackgroundColor3"]=Color3.fromRGB(255,255,255)f["6"]["FontFace"]=Font.new([[rbxasset://fonts/families/Inconsolata.json]],Enum.FontWeight.Regular,Enum.FontStyle.Normal)f["6"]["AutomaticSize"]=Enum.AutomaticSize.X;f["6"]["ClearTextOnFocus"]=false;f["6"]["PlaceholderText"]=[[运行命令]]f["6"]["Size"]=UDim2.new(0,246,0,22)f["6"]["BorderColor3"]=Color3.fromRGB(0,0,0)f["6"]["Text"]=[[]]f["6"]["BackgroundTransparency"]=1;f["7"]=Instance.new("UIPadding",f["6"])f["7"]["PaddingLeft"]=UDim.new(0,7)f["8"]=Instance.new("TextLabel",f["5"])f["8"]["Interactable"]=false;f["8"]["ZIndex"]=2;f["8"]["BorderSizePixel"]=0;f["8"]["TextSize"]=13;f["8"]["TextXAlignment"]=Enum.TextXAlignment.Left;f["8"]["BackgroundColor3"]=Color3.fromRGB(255,255,255)f["8"]["FontFace"]=Font.new([[rbxasset://fonts/families/Inconsolata.json]],Enum.FontWeight.Regular,Enum.FontStyle.Normal)f["8"]["TextColor3"]=Color3.fromRGB(255,255,255)f["8"]["BackgroundTransparency"]=1;f["8"]["RichText"]=true;f["8"]["Size"]=UDim2.new(0,246,0,22)f["8"]["BorderColor3"]=Color3.fromRGB(0,0,0)f["8"]["Text"]=[[]]f["8"]["Selectable"]=true;f["8"]["AutomaticSize"]=Enum.AutomaticSize.X;f["8"]["Name"]=[[Highlight]]f["9"]=Instance.new("UIPadding",f["8"])f["9"]["PaddingLeft"]=UDim.new(0,7)f["backgroundOutput"]=Instance.new("Frame",d)f["backgroundOutput"]["BorderSizePixel"]=0;f["backgroundOutput"]["BackgroundColor3"]=Color3.fromRGB(36,36,36)f["backgroundOutput"]["Name"]=[[BackgroundOutput]]f["backgroundOutput"]["AnchorPoint"]=Vector2.new(0,0)f["backgroundOutput"]["Size"]=UDim2.new(1,-8,1,-55)f["backgroundOutput"]["Position"]=UDim2.new(0,4,0,23)f["backgroundOutput"]["BorderColor3"]=Color3.fromRGB(0,0,0)f["backgroundOutput"]["ZIndex"]=1;local b=b.ScrollBar.new()b.Gui.Parent=d;b.Gui.Size=UDim2.new(0,16,1,-55)b.Gui.Position=UDim2.new(1,-20,0,23)b.Gui.Up.ZIndex=3;b.Gui.Down.ZIndex=3;f["a"]=Instance.new("ScrollingFrame",d)f["a"]["Active"]=true;f["a"]["BorderSizePixel"]=0;f["a"]["CanvasSize"]=UDim2.new(0,0,0,0)f["a"]["TopImage"]=''f["a"]["BackgroundColor3"]=Color3.fromRGB(36,36,36)f["a"].BackgroundTransparency=1;f["a"]["Name"]=[[Output]]f["a"]["ScrollBarImageTransparency"]=0;f["a"]["BottomImage"]=''f["a"]["AnchorPoint"]=Vector2.new(0,0)f["a"]["AutomaticCanvasSize"]=Enum.AutomaticSize.Y;f["a"]["Size"]=UDim2.new(1,-8,1,-55)f["a"]["Position"]=UDim2.new(0,4,0,23)f["a"]["BorderColor3"]=Color3.fromRGB(0,0,0)f["a"].ScrollBarImageColor3=Color3.fromRGB(70,70,70)f["a"]["ScrollBarThickness"]=16;f["a"]["ZIndex"]=1;f["a"]:GetPropertyChangedSignal("AbsoluteWindowSize"):Connect(function()if f["a"].AbsoluteCanvasSize~=f["a"].AbsoluteWindowSize then b.Gui.Visible=true else b.Gui.Visible=false end end)f["b"]=Instance.new("UIListLayout",f["a"])f["b"]["SortOrder"]=Enum.SortOrder.LayoutOrder;f["c"]=Instance.new("UIStroke",f["a"])f["c"]["Transparency"]=0.7;f["c"]["Thickness"]=1.25;f["c"]["Color"]=Color3.fromRGB(12,12,12)f["d"]=Instance.new("NumberValue",f["a"])f["d"]["Name"]=[[OutputTextSize]]f["d"]["Value"]=15;f["e"]=Instance.new("NumberValue",f["a"])f["e"]["Name"]=[[OutputLimit]]f["e"]["Value"]=e;f["f"]=Instance.new("UIPadding",f["a"])f["f"]["PaddingTop"]=UDim.new(0,2)f["10"]=Instance.new("Frame",d)f["10"]["BorderSizePixel"]=0;f["10"]["BackgroundColor3"]=Color3.fromRGB(37,37,37)f["10"]["ClipsDescendants"]=true;f["10"]["Size"]=UDim2.new(0,37,0,15)f["10"]["Position"]=UDim2.new(0,4,0,4)f["10"]["BorderColor3"]=Color3.fromRGB(0,0,0)f["10"]["Name"]=[[TextSizeBox]]f["11"]=Instance.new("TextBox",f["10"])f["11"]["PlaceholderColor3"]=Color3.fromRGB(108,108,108)f["11"]["BorderSizePixel"]=0;f["11"]["TextWrapped"]=true;f["11"]["TextSize"]=15;f["11"]["TextColor3"]=Color3.fromRGB(211,211,211)f["11"]["TextScaled"]=true;f["11"]["BackgroundColor3"]=Color3.fromRGB(255,255,255)f["11"]["FontFace"]=Font.new([[rbxasset://fonts/families/Inconsolata.json]],Enum.FontWeight.Regular,Enum.FontStyle.Normal)f["11"]["PlaceholderText"]=[[Size]]f["11"]["Size"]=UDim2.new(1,0,1,0)f["11"]["BorderColor3"]=Color3.fromRGB(0,0,0)f["11"]["Text"]=[[]]f["11"]["BackgroundTransparency"]=1;f["12"]=Instance.new("UIPadding",f["11"])f["12"]["PaddingTop"]=UDim.new(0,2)f["12"]["PaddingRight"]=UDim.new(0,5)f["12"]["PaddingLeft"]=UDim.new(0,5)f["12"]["PaddingBottom"]=UDim.new(0,2)f["13"]=Instance.new("UIStroke",f["10"])f["13"]["Transparency"]=0.65;f["13"]["Thickness"]=1.25;f["14"]=Instance.new("ImageButton",d)f["14"]["BorderSizePixel"]=0;f["14"]["BackgroundColor3"]=Color3.fromRGB(57,57,57)f["14"]["Size"]=UDim2.new(0,37,0,15)f["14"]["BorderColor3"]=Color3.fromRGB(0,0,0)f["14"]["Name"]=[[Clear]]f["14"]["Position"]=UDim2.new(1,-42,0,4)f["15"]=Instance.new("TextLabel",f["14"])f["15"]["TextWrapped"]=true;f["15"]["Interactable"]=false;f["15"]["BorderSizePixel"]=0;f["15"]["TextSize"]=20;f["15"]["TextScaled"]=true;f["15"]["BackgroundColor3"]=Color3.fromRGB(255,255,255)f["15"]["FontFace"]=Font.new([[rbxasset://fonts/families/SourceSansPro.json]],Enum.FontWeight.Regular,Enum.FontStyle.Normal)f["15"]["TextColor3"]=Color3.fromRGB(255,255,255)f["15"]["BackgroundTransparency"]=1;f["15"]["Size"]=UDim2.new(1,0,1,0)f["15"]["BorderColor3"]=Color3.fromRGB(0,0,0)f["15"]["Text"]=[[清除]]f["16"]=Instance.new("UIPadding",f["14"])f["16"]["PaddingTop"]=UDim.new(0,1)f["16"]["PaddingBottom"]=UDim.new(0,1)f["17"]=Instance.new("TextBox",d)f["17"]["Visible"]=false;f["17"]["Active"]=false;f["17"]["Name"]=[[OutputTemplate]]f["17"]["TextXAlignment"]=Enum.TextXAlignment.Left;f["17"]["BorderSizePixel"]=0;f["17"]["TextEditable"]=false;f["17"]["TextWrapped"]=true;f["17"]["TextSize"]=15;f["17"]["TextColor3"]=Color3.fromRGB(171,171,171)f["17"]["BackgroundColor3"]=Color3.fromRGB(255,255,255)f["17"]["RichText"]=true;f["17"]["FontFace"]=Font.new([[rbxasset://fonts/families/SourceSansPro.json]],Enum.FontWeight.Regular,Enum.FontStyle.Normal)f["17"]["AutomaticSize"]=Enum.AutomaticSize.Y;f["17"]["Selectable"]=false;f["17"]["ClearTextOnFocus"]=false;f["17"]["Size"]=UDim2.new(1,0,0,1)f["17"]["Position"]=UDim2.new(0,20,0,0)f["17"]["BorderColor3"]=Color3.fromRGB(0,0,0)f["17"]["Text"]=[[(timestamp) <font color="rgb(255, 255, 255)">Output</font>]]f["17"]["BackgroundTransparency"]=1;f["18"]=Instance.new("UIPadding",f["17"])f["18"]["PaddingRight"]=UDim.new(0,6)f["18"]["PaddingLeft"]=UDim.new(0,6)f["19"]=Instance.new("ImageButton",d)f["19"]["BorderSizePixel"]=0;f["19"]["BackgroundColor3"]=Color3.fromRGB(57,57,57)f["19"]["Size"]=UDim2.new(0,60,0,15)f["19"]["BorderColor3"]=Color3.fromRGB(0,0,0)f["19"]["Name"]=[[CtrlScroll]]f["19"]["Position"]=UDim2.new(0,46,0,4)f["1a"]=Instance.new("TextLabel",f["19"])f["1a"]["TextWrapped"]=true;f["1a"]["Interactable"]=false;f["1a"]["BorderSizePixel"]=0;f["1a"]["TextSize"]=20;f["1a"]["TextScaled"]=true;f["1a"]["BackgroundColor3"]=Color3.fromRGB(255,255,255)f["1a"]["FontFace"]=Font.new([[rbxasset://fonts/families/SourceSansPro.json]],Enum.FontWeight.Regular,Enum.FontStyle.Normal)f["1a"]["TextColor3"]=Color3.fromRGB(255,255,255)f["1a"]["BackgroundTransparency"]=1;f["1a"]["Size"]=UDim2.new(1,0,1,0)f["1a"]["BorderColor3"]=Color3.fromRGB(0,0,0)f["1a"]["Text"]=[[Ctrl滚动]]f["1b"]=Instance.new("UIPadding",f["19"])f["1b"]["PaddingTop"]=UDim.new(0,1)f["1b"]["PaddingBottom"]=UDim.new(0,1)f["20"]=Instance.new("ImageButton",d)f["20"]["BorderSizePixel"]=0;f["20"]["BackgroundColor3"]=Color3.fromRGB(57,57,57)f["20"]["Size"]=UDim2.new(0,60,0,15)f["20"]["BorderColor3"]=Color3.fromRGB(0,0,0)f["20"]["Name"]=[[AutoScroll]]f["20"]["Position"]=UDim2.new(0,110,0,4)f["1e"]=Instance.new("TextLabel",f["20"])f["1e"]["TextWrapped"]=true;f["1e"]["Interactable"]=false;f["1e"]["BorderSizePixel"]=0;f["1e"]["TextSize"]=20;f["1e"]["TextScaled"]=true;f["1e"]["BackgroundColor3"]=Color3.fromRGB(255,255,255)f["1e"]["FontFace"]=Font.new([[rbxasset://fonts/families/SourceSansPro.json]],Enum.FontWeight.Regular,Enum.FontStyle.Normal)f["1e"]["TextColor3"]=Color3.fromRGB(255,255,255)f["1e"]["BackgroundTransparency"]=1;f["1e"]["Size"]=UDim2.new(1,0,1,0)f["1e"]["BorderColor3"]=Color3.fromRGB(0,0,0)f["1e"]["Text"]=[[自动滚动]]f["1f"]=Instance.new("UIPadding",f["20"])f["1f"]["PaddingTop"]=UDim.new(0,1)f["1f"]["PaddingBottom"]=UDim.new(0,1)f["1c"]=Instance.new("LocalScript",f["1"])f["1c"]["Name"]=[[ConsoleHandler]]f["1d"]=Instance.new("ModuleScript",f["1c"])f["1d"]["Name"]=[[SyntaxHighlighter]]local b=require;local c={}local function e(a)local c=c[a]if c then if not c.Required then c.Required=true;c.Value=c.Closure()end;return c.Value end;return b(a)end;c[f["1d"]]={Closure=function()local a=f["1d"]local a={}local b={lua={"and","break","or","else","elseif","if","then","until","repeat","while","do","for","in","end","local","return","function","export"},rbx={"game","workspace","script","math","string","table","task","wait","select","next","Enum","error","warn","tick","assert","shared","loadstring","tonumber","tostring","type","typeof","unpack","print","Instance","CFrame","Vector3","Vector2","Color3","UDim","UDim2","Ray","BrickColor","OverlapParams","RaycastParams","Axes","Random","Region3","Rect","TweenInfo","collectgarbage","not","utf8","pcall","xpcall","_G","setmetatable","getmetatable","os","pairs","ipairs"},exploit={"hookmetamethod","hookfunction","getgc","filtergc","Drawing","getgenv","getsenv","getrenv","getfenv","setfenv","decompile","saveinstance","getrawmetatable","setrawmetatable","checkcaller","cloneref","clonefunction","iscclosure","islclosure","isexecutorclosure","newcclosure","getfunctionhash","crypt","writefile","appendfile","loadfile","readfile","listfiles","makefolder","isfolder","isfile","delfile","delfolder","getcustomasset","fireclickdetector","firetouchinterest","fireproximityprompt"},operators={"#","+","-","*","%","/","^","=","~","=","<",">",",",".","(",")","{","}","[","]",";",":"}}local c={numbers=Color3.fromRGB(255,198,0),boolean=Color3.fromRGB(255,198,0),operator=Color3.fromRGB(204,204,204),lua=Color3.fromRGB(132,214,247),exploit=Color3.fromRGB(171,84,247),rbx=Color3.fromRGB(248,109,124),str=Color3.fromRGB(173,241,132),comment=Color3.fromRGB(102,102,102),null=Color3.fromRGB(255,198,0),call=Color3.fromRGB(253,251,172),self_call=Color3.fromRGB(253,251,172),local_color=Color3.fromRGB(248,109,115),function_color=Color3.fromRGB(248,109,115),self_color=Color3.fromRGB(248,109,115),local_property=Color3.fromRGB(97,161,241)}local function d(a)local b={}for a,a in ipairs(a)do b[a]=true end;return b end;local e=d(b.lua)local f=d(b.exploit)local g=d(b.rbx)local b=d(b.operators)local function d(a,d)local h=a[d]if c[h.."_color"]then return c[h.."_color"]end;if tonumber(h)then return c.numbers elseif h=="nil"then return c.null elseif h:sub(1,2)=="--"then return c.comment elseif b[h]then return c.operator elseif e[h]then return c.rbx elseif g[h]then return c.lua elseif f[h]then return c.exploit elseif h:sub(1,1)=="\""or h:sub(1,1)=="\'"then return c.str elseif h=="true"or h=="false"then return c.boolean end;if a[d+1]=="("then if a[d-1]==":"then return c.self_call end;return c.call end;if a[d-1]=="."then if a[d-2]=="Enum"then return c.rbx end;return c.local_property end end;function a.run(a)local c={}local e=""local f=false;local g=false;local h=false;for d=1,#a do local i=a:sub(d,d)if g then if i=="\n"and not h then table.insert(c,e)table.insert(c,i)e=""g=false elseif a:sub(d-1,d)=="]]"and h then e..="]"table.insert(c,e)e=""g=false;h=false else e=e..i end elseif f then if i==f and a:sub(d-1,d-1)~="\\"or i=="\n"then e=e..i;f=false else e=e..i end else if a:sub(d,d+1)=="--"then table.insert(c,e)e="-"g=true;h=a:sub(d+2,d+3)=="[["elseif i=="\""or i=="\'"then table.insert(c,e)e=i;f=i elseif b[i]then table.insert(c,e)table.insert(c,i)e=""elseif i:match("[%w_]")then e=e..i else table.insert(c,e)table.insert(c,i)e=""end end end;table.insert(c,e)local a={}for b,e in ipairs(c)do local b=d(c,b)if b then local b=string.format("<font color = \"#%s\">%s</font>",b:ToHex(),e:gsub("<","&lt;"):gsub(">","&gt;"))table.insert(a,b)else table.insert(a,e)end end;return table.concat(a)end;return a end}a.Init=function()local a=false;local b=false;local c=t:GetService("LogService")local g=t:GetService("Players")local g=g.LocalPlayer;local g=g:GetMouse()local g=t:GetService("UserInputService")local h=t:GetService("RunService")local d=d;local e=e(f["1c"].SyntaxHighlighter)local f=d.Output.OutputTextSize;local function h(a,b,c)local a=t:GetService("TweenService"):Create(a,b,c)a:Play()return a end;if a==true then d.CtrlScroll.BackgroundColor3=Color3.fromRGB(11,90,175)elseif a==false then d.CtrlScroll.BackgroundColor3=Color3.fromRGB(56,56,56)end;d.CtrlScroll.MouseButton1Click:Connect(function()a=not a;if a==true then d.CtrlScroll.BackgroundColor3=Color3.fromRGB(11,90,175)elseif a==false then d.CtrlScroll.BackgroundColor3=Color3.fromRGB(56,56,56)end end)local h=false;g.InputBegan:Connect(function(a,b)if not b then if a.KeyCode==Enum.KeyCode.LeftControl or a.KeyCode==Enum.KeyCode.RightControl then h=true end end end)g.InputEnded:Connect(function(a,b)if not b then if a.KeyCode==Enum.KeyCode.LeftControl or a.KeyCode==Enum.KeyCode.RightControl then h=false end end end)if b==true then d.AutoScroll.BackgroundColor3=Color3.fromRGB(11,90,175)elseif b==false then d.AutoScroll.BackgroundColor3=Color3.fromRGB(56,56,56)end;d.AutoScroll.MouseButton1Click:Connect(function()b=not b;if b==true then d.AutoScroll.BackgroundColor3=Color3.fromRGB(11,90,175)d.Output.CanvasPosition=Vector2.new(0,9e9)elseif b==false then d.AutoScroll.BackgroundColor3=Color3.fromRGB(56,56,56)end end)local i={}local j=d.Output.OutputLimit;d.TextSizeBox.TextBox.Text=tostring(f.Value)d.TextSizeBox.TextBox:GetPropertyChangedSignal("Text"):Connect(function()local a=tonumber(d.TextSizeBox.TextBox.Text)if a then f.Value=a end end)f:GetPropertyChangedSignal("Value"):Connect(function()d.TextSizeBox.TextBox.Text=tostring(f.Value)end)local k;d.Output.MouseEnter:Connect(function()k=g.InputChanged:Connect(function(b)if a and b.UserInputType==Enum.UserInputType.MouseWheel and h==true then d.Output.ScrollingEnabled=false;local a=f.Value+b.Position.Z;if a>=1 then f.Value=a end else d.Output.ScrollingEnabled=true end end)end)d.Output.MouseLeave:Connect(function()if k then k:Disconnect()k=nil end end)d.Clear.MouseButton1Click:Connect(function()for a,a in pairs(d.Output:GetChildren())do if a:IsA("TextBox")then a:Destroy()end end end)local a;c.MessageOut:Connect(function(c,e)local g=""local h=""local k=d.OutputTemplate:Clone()table.insert(i,k)if#i>j.Value then local a=table.remove(i,1)if a and typeof(a)=="Instance"then a:Destroy()end end;h=os.date("%H:%M:%S")..'   '..c;if e==Enum.MessageType.MessageOutput then g=os.date("%H:%M:%S")..'   <font color="rgb(204, 204, 204)">'..c..'</font>'k.Text=g elseif e==Enum.MessageType.MessageWarning then g=os.date("%H:%M:%S")..'   <b><font color="rgb(255, 142, 60)">'..c..'</font></b>'k.Text=g elseif e==Enum.MessageType.MessageError then g=os.date("%H:%M:%S")..'   <b><font color="rgb(255, 68, 68)">'..c..'</font></b>'k.Text=g elseif e==Enum.MessageType.MessageInfo then g=os.date("%H:%M:%S")..'   <font color="rgb(128, 215, 255)">'..c..'</font>'k.Text=g end;k.TextSize=f.Value;f:GetPropertyChangedSignal("Value"):Connect(function()k.TextSize=f.Value end)k.Focused:Connect(function()a=k;k.Text=h end)k.FocusLost:Connect(function()a=nil;k.Text=g end)k.Parent=d.Output;k.Visible=true;if b then d.Output.CanvasPosition=Vector2.new(0,9e9)end end)d.Output.MouseLeave:Connect(function()if a then a:ReleaseFocus()end end)d.CommandLine.ScrollingFrame.TextBox:GetPropertyChangedSignal("Text"):Connect(function()local a=string.gsub(d.CommandLine.ScrollingFrame.TextBox.Text,"\n","	")d.CommandLine.ScrollingFrame.TextBox.Text=a;d.CommandLine.ScrollingFrame.Highlight.Text=e.run(d.CommandLine.ScrollingFrame.TextBox.Text)end)d.CommandLine.ScrollingFrame.TextBox.FocusLost:Connect(function(a)if a and d.CommandLine.ScrollingFrame.TextBox.Text~=""then print("> "..d.CommandLine.ScrollingFrame.TextBox.Text)loadstring(d.CommandLine.ScrollingFrame.TextBox.Text)()end end)end;return a end;return{InitDeps=p,InitAfterMain=a,Main=c}end,SaveInstance=function()local a,b,c,d;local e,f,g,h;local i,j,k,l,m,n,o;local function p(e)a=e.Main;b=e.Lib;c=e.Apps;d=e.Settings;i=e.API;j=e.RMD;k=e.env;l=e.service;m=e.plr;n=e.create;o=e.createSimple end;local function a()e=c.Explorer;f=c.Properties;g=c.ScriptViewer;h=c.Notebook end;local function c()local a={}local c,d;local e="Place_"..t.PlaceId.."_"..l.MarketplaceService:GetProductInfo(t.PlaceId).Name.."_{TIMESTAMP}"local f=false;local f={Decompile=true,DecompileTimeout=10,DecompileIgnore={"Chat","CoreGui","CorePackages"},NilInstances=false,RemovePlayerCharacters=true,SavePlayers=false,MaxThreads=3,ShowStatus=true,IgnoreDefaultProps=true,IsolateStarterPlayer=true}local function g(a,c)local e=b.Frame.new()e.Gui.Parent=d;e.Gui.Transparency=1;e.Gui.Size=UDim2.new(1,0,0,20)local d=Instance.new("UIListLayout")d.Parent=e.Gui;d.FillDirection=Enum.FillDirection.Horizontal;d.HorizontalAlignment=Enum.HorizontalAlignment.Left;d.VerticalAlignment=Enum.VerticalAlignment.Center;d.Padding=UDim.new(0,10)local d=b.Checkbox.new()d.Gui.Parent=e.Gui;d.Gui.Size=UDim2.new(0,15,0,15)local b=b.Label.new()b.Gui.Parent=e.Gui;b.Gui.Size=UDim2.new(1,0,1,-15)b.Gui.Text=a;b.TextTruncate=Enum.TextTruncate.AtEnd;d:SetState(c)return d end;local function h(a,c,e)c=tostring(c)local f=b.Frame.new()f.Gui.Parent=d;f.Gui.Transparency=1;f.Gui.Size=UDim2.new(1,0,0,20)local d=Instance.new("UIListLayout")d.Parent=f.Gui;d.FillDirection=Enum.FillDirection.Horizontal;d.HorizontalAlignment=Enum.HorizontalAlignment.Left;d.VerticalAlignment=Enum.VerticalAlignment.Center;d.Padding=UDim.new(0,10)local d=b.ViewportTextBox.new()d.Gui.Parent=f.Gui;if e and type(e)=="number"then d.Gui.Size=UDim2.new(0,e,0,15)else d.Gui.Size=UDim2.new(0,45,0,15)end;d.Gui.AutomaticSize=Enum.AutomaticSize.X;d.TextBox.AutomaticSize=Enum.AutomaticSize.X;local b=b.Label.new()b.Gui.Parent=f.Gui;b.Gui.Size=UDim2.new(1,0,1,-15)b.Gui.Text=a;b.TextTruncate=Enum.TextTruncate.AtEnd;d:SetText(c)return d end;local function i(a,c,e,f)local g=b.Frame.new()g.Gui.Parent=d;g.Gui.Transparency=1;g.Gui.Size=UDim2.new(1,0,0,20)local d=Instance.new("UIListLayout")d.Parent=g.Gui;d.FillDirection=Enum.FillDirection.Horizontal;d.HorizontalAlignment=Enum.HorizontalAlignment.Left;d.VerticalAlignment=Enum.VerticalAlignment.Center;d.Padding=UDim.new(0,10)local d=b.ViewportTextBox.new()d.Gui.Parent=g.Gui;if f and type(f)=="number"then d.Gui.Size=UDim2.new(0,f,0,15)else d.Gui.Size=UDim2.new(0,65,0,15)end;local b=b.Label.new()b.Gui.Parent=g.Gui;b.Gui.Size=UDim2.new(1,0,1,-15)b.Gui.Text=a;b.TextTruncate=Enum.TextTruncate.AtEnd;d:SetOptions(c)d:SetSelected(e)return d end;a.Init=function()c=b.Window.new()c:SetTitle("保存实例")c:Resize(350,350)a.Window=c;d=Instance.new("ScrollingFrame")d.Parent=c.GuiElems.Content;d.Size=UDim2.new(1,0,1,-40)d.Position=UDim2.new(0,0,0,0)d.Transparency=1;d.CanvasSize=UDim2.new(0,0,0,0)d.AutomaticCanvasSize=Enum.AutomaticSize.Y;d.ScrollBarThickness=16;d.BottomImage=""d.TopImage=""d.ScrollBarImageColor3=Color3.fromRGB(70,70,70)d.ScrollBarImageTransparency=0;d.ZIndex=2;d.BorderSizePixel=0;local a=b.ScrollBar.new()a.Gui.Parent=c.GuiElems.Content;a.Gui.Size=UDim2.new(1,0,1,-40)a.Gui.Up.ZIndex=3;a.Gui.Down.ZIndex=3;d:GetPropertyChangedSignal("AbsoluteWindowSize"):Connect(function()if d.AbsoluteCanvasSize~=d.AbsoluteWindowSize then a.Gui.Visible=true else a.Gui.Visible=false end end)local a=Instance.new("UIListLayout")a.Parent=d;a.Padding=UDim.new(0,5)local a=Instance.new("UIPadding")a.Parent=d;a.PaddingBottom=UDim.new(0,5)a.PaddingLeft=UDim.new(0,10)a.PaddingRight=UDim.new(0,10)a.PaddingTop=UDim.new(0,5)local a=g("反编译脚本 (本地脚本和模块脚本)",f.Decompile)a.OnInput:Connect(function()f.Decompile=a.Toggled end)local a=h("反编译超时（秒）",f.DecompileTimeout,15)a.TextBox.FocusLost:Connect(function()f.DecompileTimeout=tonumber(a.TextBox.Text)end)local a=h("反编译最大进程","3",15)a.TextBox.FocusLost:Connect(function()f.MaxThreads=tonumber(a.TextBox.Text)end)local a=h("反编译忽略",table.concat(f.DecompileIgnore,","),50)a.TextBox.FocusLost:Connect(function()local a=a.TextBox.Text;local a=string.split(a,", ")or string.split(a,",")local b={}for a,a in ipairs(a)do local a=string.split(a,",")or string.split(a,", ")for a,a in ipairs(a)do table.insert(b,a)end end;f.DecompileIgnore=b end)local a=g("保存Parent为nil的实例",f.NilInstances)a.OnInput:Connect(function()f.NilInstances=a.Toggled end)local a=g("移除玩家躯体",f.RemovePlayerCharacters)a.OnInput:Connect(function()f.RemovePlayerCharacters=a.Toggled end)local a=g("保存玩家实例",f.SavePlayers)a.OnInput:Connect(function()f.SavePlayers=a.Toggled end)local a=g("隔离StarterPlayer",f.IsolateStarterPlayer)a.OnInput:Connect(function()f.IsolateStarterPlayer=a.Toggled end)local a=g("忽略基础属性",f.IgnoreDefaultProps)a.OnInput:Connect(function()f.IgnoreDefaultProps=a.Toggled end)local a=g("显示状态",f.ShowStatus)a.OnInput:Connect(function()f.ShowStatus=a.Toggled end)local a=b.ViewportTextBox.new()a.Gui.Parent=c.GuiElems.Content;a.Size=UDim2.new(1,0,0,20)a.Position=UDim2.new(0,0,1,-40)local d=Instance.new("UIPadding")d.Parent=a.Gui;d.PaddingLeft=UDim.new(0,5)d.PaddingRight=UDim.new(0,5)local d=b.Frame.new()d.Gui.Parent=c.GuiElems.Content;d.Size=UDim2.new(1,0,0,20)d.Position=UDim2.new(0,0,1,-20)local b=b.Label.new()b.Gui.Parent=c.GuiElems.Content;b.Size=UDim2.new(1,0,0,20)b.Position=UDim2.new(0,0,1,-20)b.Gui.Text="保存"b.Gui.TextXAlignment=Enum.TextXAlignment.Center;local b=Instance.new("TextButton")b.Parent=d.Gui;b.Size=UDim2.new(1,0,1,0)b.Position=UDim2.new(0,0,0,0)b.Transparency=1;a.TextBox.Text=a.TextBox.Text:gsub("{TIMESTAMP}",os.date("%d-%m-%Y_%H-%M-%S"))a.TextBox.Text=e;b.MouseButton1Click:Connect(function()local a=a.TextBox.Text:gsub("{TIMESTAMP}",os.date("%d-%m-%Y_%H-%M-%S"))c:SetTitle("保存实例 - 保存中")local a,b=pcall(k.saveinstance,t,k.parsefile(a),f)if a then c:SetTitle("保存实例 - 保存成功")else c:SetTitle("保存实例 - 错误")task.spawn(error("保存游戏失败: "..b))end;task.wait(5)c:SetTitle("保存实例")end)end;return a end;return{InitDeps=p,InitAfterMain=a,Main=c}end,SettingsWin=function()local a,b,c,d;local e,f,g,h,i;local j,k,l,m,n,o,p;local function q(e)a=e.Main;b=e.Lib;c=e.Apps;d=e.Settings;j=e.API;k=e.RMD;l=e.env;m=e.service;n=e.plr;o=e.create;p=e.createSimple end;local function a()e=c.Explorer;f=c.Properties;g=c.ScriptViewer;h=c.Notebook;i=c.SaveInstance end;local function b()end;return{InitDeps=q,InitAfterMain=a,Main=b}end}local b,c,d,e,f,g,h,h,i,t;local u,v;f=(function()local a=Color3.fromRGB;return{Explorer={_Recurse=true,Sorting=true,TeleportToOffset=Vector3.new(0,0,0),ClickToRename=true,AutoUpdateSearch=true,AutoUpdateMode=0,PartSelectionBox=true,GuiSelectionBox=true,CopyPathUseGetChildren=true,AutoRefresh=false},Properties={_Recurse=true,MaxConflictCheck=50,ShowDeprecated=false,ShowHidden=false,ClearOnFocus=false,LoadstringInput=true,NumberRounding=3,ShowAttributes=false,MaxAttributes=50,ScaleType=1,AutoRefresh=false},Theme={_Recurse=true,Main1=a(52,52,52),Main2=a(45,45,45),Outline1=a(33,33,33),Outline2=a(55,55,55),Outline3=a(30,30,30),TextBox=a(38,38,38),Menu=a(32,32,32),ListSelection=a(11,90,175),Button=a(60,60,60),ButtonHover=a(68,68,68),ButtonPress=a(40,40,40),Highlight=a(75,75,75),Text=a(255,255,255),PlaceholderText=a(100,100,100),Important=a(255,0,0),ExplorerIconMap="",MiscIconMap="",Syntax={Text=a(204,204,204),Background=a(36,36,36),Selection=a(255,255,255),SelectionBack=a(11,90,175),Operator=a(204,204,204),Number=a(255,198,0),String=a(173,241,149),Comment=a(102,102,102),Keyword=a(248,109,124),Error=a(255,0,0),FindBackground=a(141,118,0),MatchingWord=a(85,85,85),BuiltIn=a(132,214,247),CurrentLine=a(45,50,65),LocalMethod=a(253,251,172),LocalProperty=a(97,161,241),Nil=a(255,198,0),Bool=a(255,198,0),Function=a(248,109,124),Local=a(248,109,124),Self=a(248,109,124),FunctionName=a(253,251,172),Bracket=a(204,204,204)}}}end)()local v={}local w={}local x={}local y=r.Players.LocalPlayer or r.Players.PlayerAdded:wait()local z=function(a)local b={}for a,a in pairs(a)do b[a[1]]=Instance.new(a[2])end;for a,a in pairs(a)do for c,d in pairs(a[3])do if type(d)=="table"then b[a[1]][c]=b[d[1]]else b[a[1]][c]=d end end end;return b[1]end;local A=function(a,b)local a=Instance.new(a)for b,c in next,b do a[b]=c end;return a end;b=(function()local b={}b.ModuleList={"Explorer","Properties","ScriptViewer","Console","SaveInstance"}b.Elevated=false;b.MissingEnv={}b.Version="v1.1"b.Mouse=y:GetMouse()b.AppControls={}b.Apps=w;b.MenuApps={}b.DisplayOrders={SideWindow=8,Window=10,Menu=100000,Core=101000}b.GetInitDeps=function()return{Main=b,Lib=h,Apps=w,Settings=v,API=u,RMD=j,env=x,service=r,plr=y,create=z,createSimple=A}end;b.Error=function(a)if rconsoleprint then rconsoleprint("VEX ERROR: "..tostring(a).."\n")wait(9e9)else error(a)end end;b.LoadModule=function(c)local d;if a then d=a[c]()if not d then b.Error("Missing Embedded Module: "..c)end end;b.AppControls[c]=d;d.InitDeps(b.GetInitDeps())local a=d.Main()w[c]=a;return a end;b.LoadModules=function(a)for c,c in pairs(b.ModuleList)do local b,d=pcall(b.LoadModule,c)if not b then a(("模块%s加载失败: %s"):format(c,d))end end;c=w.Explorer;d=w.Properties;e=w.ScriptViewer;i=w.Console;t=w.SaveInstance;g=w.Notebook;local a={Explorer=c,Properties=d,ScriptViewer=e,Console=i,SaveInstance=t,Notebook=g}b.AppControls.Lib.InitAfterMain(a)for c,c in pairs(b.ModuleList)do local b=b.AppControls[c]if b then b.InitAfterMain(a)end end end;b.InitEnv=function()setmetatable(x,{__newindex=function(a,c,d)if not d then b.MissingEnv[#b.MissingEnv+1]=c;return end;rawset(a,c,d)end})x.readfile=q("function",readfile)x.writefile=q("function",writefile)x.appendfile=q("function",appendfile)x.makefolder=q("function",makefolder)x.listfiles=q("function",listfiles)x.loadfile=q("function",loadfile)x.movefileas=q("function",movefileas)x.saveinstance=q("function",saveinstance)or(function()local a,b=pcall(function()return loadstring(s:HttpGet("https://raw.githubusercontent.com/luau/SynSaveInstance/main/saveinstance.luau"))()end)return a and b or nil end)()x.parsefile=function(a)return tostring(a):gsub("[*\\?:<>|]+",""):sub(1,175)end;x.getupvalues=q("function",(debug and debug.getupvalues)or getupvalues or getupvals)x.getconstants=q("function",(debug and debug.getconstants)or getconstants or getconsts)x.getinfo=q("function",(debug and(debug.getinfo or debug.info))or getinfo)x.islclosure=q("function",islclosure or is_l_closure or is_lclosure)x.checkcaller=q("function",checkcaller)x.getgc=q("function",getgc or get_gc_objects)x.getscriptbytecode=q("function",getscriptbytecode)x.request=q("function",request or http_request or(syn and syn.request)or(http and http.request)or(fluxus and fluxus.request))x.decompile=q("function",decompile)or(x.getscriptbytecode and x.request and(function()local a,b=pcall(function()loadstring(s:HttpGet("https://raw.githubusercontent.com/infyiff/backup/refs/heads/main/konstant.lua"))()end)return(a and decompile)or nil end)())x.isViableDecompileScript=function(a)if a:IsA("ModuleScript")then return true elseif a:IsA("LocalScript")and(a.RunContext==Enum.RunContext.Client or a.RunContext==Enum.RunContext.Legacy)then return true elseif a:IsA("Script")and a.RunContext==Enum.RunContext.Client then return true end;return false end;x.protectgui=q("function",protect_gui or(syn and syn.protect_gui))x.gethui=q("function",gethui or get_hidden_gui)x.setclipboard=q("function",setclipboard or toclipboard or set_clipboard or(Clipboard and Clipboard.set))x.getnilinstances=q("function",getnilinstances or get_nil_instances)x.getloadedmodules=q("function",getloadedmodules)x.executor=(function()local a=identifyexecutor or getexecutorname or whatexecutor;local a,b=pcall(function()return tostring(a())end)return a and b or"Unknown"end)()b.GuiHolder=b.Elevated and r.CoreGui or y:FindFirstChildWhichIsA("PlayerGui")setmetatable(x,nil)end;b.LoadSettings=function()local a,c=pcall(x.readfile or error,"VexSettings.json")if a and c and c~=""then local a,b=r.HttpService:JSONDecode(c)if a and b then for a,a in next,b do end else end else b.ResetSettings()end end;b.ResetSettings=function()local function a(b,c)for b,d in pairs(b)do if type(d)=="table"and d._Recurse then if type(c[b])~="table"then c[b]={}end;a(d,c[b])else c[b]=d end end;return c end;a(f,v)end;local function a(a)local a,b=pcall(r.HttpService.JSONDecode,r.HttpService,a)return a and b or a end;b.FetchAPI=function(c,d)local e=false;local f,g;if b.Elevated then if b.LocalDepsUpToDate()then local a=h.ReadFile("dex/rbx_api.dat")if a then g=a else b.DepsVersionData[1]=""end end;task.spawn(function()wait(30)if c and not e then c()end;wait(60)if d and not e then d()end end)g=g or s:HttpGet("http://setup.roblox.com/"..b.RobloxVersion.."-API-Dump.json")else if script:FindFirstChild("API")then g=require(script.API)else error("NO API EXISTS")end end;b.RawAPI=g;f=a(g)if not f then g=s:HttpGet("https://raw.githubusercontent.com/infyiff/backup/refs/heads/main/rbx_api.dat")b.RawAPI=g;f=a(g)end;e=true;local a,b={},{}local c,d={},{}local function e(a,b,c)local d=table.find(a,b)if not d then return end;table.remove(a,d)local c=table.find(a,c)if not c then return end;table.insert(a,c,b)end;for b,b in pairs(f.Classes)do local e={}e.Name=b.Name;e.Superclass=b.Superclass;e.Properties={}e.Functions={}e.Events={}e.Callbacks={}e.Tags={}if b.Tags then for a,a in pairs(b.Tags)do e.Tags[a]=true end end;for a,a in pairs(b.Members)do local f={}f.Name=a.Name;f.Class=b.Name;f.Security=a.Security;f.Tags={}if a.Tags then for a,a in pairs(a.Tags)do f.Tags[a]=true end end;local b=a.MemberType;if b=="Property"then local b=a.Category or"Other"b=b:match("^%s*(.-)%s*$")if not d[b]then c[#c+1]=b;d[b]=true end;f.ValueType=a.ValueType;f.Category=b;f.Serialization=a.Serialization;table.insert(e.Properties,f)elseif b=="Function"then f.Parameters={}f.ReturnType=a.ReturnType.Name;for a,a in pairs(a.Parameters)do table.insert(f.Parameters,{Name=a.Name,Type=a.Type.Name})end;table.insert(e.Functions,f)elseif b=="Event"then f.Parameters={}for a,a in pairs(a.Parameters)do table.insert(f.Parameters,{Name=a.Name,Type=a.Type.Name})end;table.insert(e.Events,f)end end;a[b.Name]=e end;for b,b in pairs(a)do b.Superclass=a[b.Superclass]end;for a,a in pairs(f.Enums)do local c={}c.Name=a.Name;c.Items={}c.Tags={}if a.Tags then for a,a in pairs(a.Tags)do c.Tags[a]=true end end;for a,a in pairs(a.Items)do local b={}b.Name=a.Name;b.Value=a.Value;table.insert(c.Items,b)end;b[a.Name]=c end;local function d(b,c)if not a[b]or not a[b][c]then return end;local d={}local a=a[b]while a do for a,a in pairs(a[c])do d[#d+1]=a end;a=a.Superclass end;table.sort(d,function(a,b)return a.Name<b.Name end)return d end;e(c,"Behavior","Tuning")e(c,"Appearance","Data")e(c,"Attachments","Axes")e(c,"Cylinder","Slider")e(c,"Localization","Jump Settings")e(c,"Surface","Motion")e(c,"Surface Inputs","Surface")e(c,"Part","Surface Inputs")e(c,"Assembly","Surface Inputs")e(c,"Character","Controls")c[#c+1]="Unscriptable"c[#c+1]="Attributes"local e={}for a=1,#c do e[c[a]]=a end;return{Classes=a,Enums=b,CategoryOrder=e,GetMember=d}end;b.FetchRMD=function()local a;if b.Elevated then if b.LocalDepsUpToDate()then local c=h.ReadFile("dex/rbx_rmd.dat")if c then a=c else b.DepsVersionData[1]=""end end;a=a or s:HttpGet("https://raw.githubusercontent.com/CloneTrooper1019/Roblox-Client-Tracker/roblox/ReflectionMetadata.xml")else if script:FindFirstChild("RMD")then a=require(script.RMD)else error("NO RMD EXISTS")end end;b.RawRMD=a;local a=h.ParseXML(a)local b=a.children[1].children[1].children;local a=a.children[1].children[2].children;local c={}local d,e={},{}for a,a in pairs(b)do local b=""for a,a in pairs(a.children)do if a.tag=="Properties"then local c={Properties={},Functions={}}local a=a.children;for a,a in pairs(a)do local b=a.attrs.name;b=b:sub(1,1):upper()..b:sub(2)c[b]=a.children[1].text end;b=c.Name;d[b]=c elseif a.attrs.class=="ReflectionMetadataProperties"then local a=a.children;for a,a in pairs(a)do if a.attrs.class=="ReflectionMetadataMember"then local e={}if a.children[1].tag=="Properties"then local a=a.children[1].children;for a,a in pairs(a)do if a.attrs then local b=a.attrs.name;b=b:sub(1,1):upper()..b:sub(2)e[b]=a.children[1].text end end;if e.PropertyOrder then local a=c[b]if not a then a={}c[b]=a end;a[e.Name]=tonumber(e.PropertyOrder)end;d[b].Properties[e.Name]=e end end end elseif a.attrs.class=="ReflectionMetadataFunctions"then local a=a.children;for a,a in pairs(a)do if a.attrs.class=="ReflectionMetadataMember"then local c={}if a.children[1].tag=="Properties"then local a=a.children[1].children;for a,a in pairs(a)do if a.attrs then local b=a.attrs.name;b=b:sub(1,1):upper()..b:sub(2)c[b]=a.children[1].text end end;d[b].Functions[c.Name]=c end end end end end end;for a,a in pairs(a)do local b=""for a,a in pairs(a.children)do if a.tag=="Properties"then local c={Items={}}local a=a.children;for a,a in pairs(a)do local b=a.attrs.name;b=b:sub(1,1):upper()..b:sub(2)c[b]=a.children[1].text end;b=c.Name;e[b]=c elseif a.attrs.class=="ReflectionMetadataEnumItem"then local c={}if a.children[1].tag=="Properties"then local a=a.children[1].children;for a,a in pairs(a)do local b=a.attrs.name;b=b:sub(1,1):upper()..b:sub(2)c[b]=a.children[1].text end;e[b].Items[c.Name]=c end end end end;return{Classes=d,Enums=e,PropertyOrders=c}end;b.ShowGui=function(a)if x.gethui then a.Parent=x.gethui()elseif x.protectgui then x.protectgui(a)a.Parent=b.GuiHolder else a.Parent=b.GuiHolder end end;b.CreateIntro=function(a)local c=z({{1,"ScreenGui",{Name="Intro"}},{2,"Frame",{Active=true,BackgroundColor3=Color3.new(0.20392157137394,0.20392157137394,0.20392157137394),BorderSizePixel=0,Name="Main",Parent={1},Position=UDim2.new(0.5,-175,0.5,-100),Size=UDim2.new(0,350,0,200)}},{3,"Frame",{BackgroundColor3=Color3.new(0.17647059261799,0.17647059261799,0.17647059261799),BorderSizePixel=0,ClipsDescendants=true,Name="Holder",Parent={2},Size=UDim2.new(1,0,1,0)}},{4,"UIGradient",{Parent={3},Rotation=30,Transparency=NumberSequence.new({NumberSequenceKeypoint.new(0,1,0),NumberSequenceKeypoint.new(1,1,0)})}},{5,"TextLabel",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,Font=4,Name="Title",Parent={3},Position=UDim2.new(0,-190,0,15),Size=UDim2.new(0,100,0,50),Text="Vex",TextColor3=Color3.new(1,1,1),TextSize=50,TextTransparency=1}},{6,"TextLabel",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,Font=3,Name="Desc",Parent={3},Position=UDim2.new(0,-230,0,60),Size=UDim2.new(0,180,0,25),Text="资源调试器",TextColor3=Color3.new(1,1,1),TextSize=18,TextTransparency=1}},{7,"TextLabel",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,Font=3,Name="StatusText",Parent={3},Position=UDim2.new(0,20,0,110),Size=UDim2.new(0,180,0,25),Text="正在获取API",TextColor3=Color3.new(1,1,1),TextSize=14,TextTransparency=1}},{8,"Frame",{BackgroundColor3=Color3.new(0.20392157137394,0.20392157137394,0.20392157137394),BorderSizePixel=0,Name="ProgressBar",Parent={3},Position=UDim2.new(0,110,0,145),Size=UDim2.new(0,0,0,4)}},{9,"Frame",{BackgroundColor3=Color3.new(0.2392156869173,0.56078433990479,0.86274510622025),BorderSizePixel=0,Name="Bar",Parent={8},Size=UDim2.new(0,0,1,0)}},{10,"ImageLabel",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,Image="rbxassetid://2764171053",ImageColor3=Color3.new(0.17647059261799,0.17647059261799,0.17647059261799),Parent={8},ScaleType=1,Size=UDim2.new(1,0,1,0),SliceCenter=Rect.new(2,2,254,254)}},{11,"TextLabel",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,Font=3,Name="Creator",Parent={2},Position=UDim2.new(1,-110,1,-20),Size=UDim2.new(0,105,0,20),Text="由Virtual Team修改",TextColor3=Color3.new(1,1,1),TextSize=14,TextXAlignment=1}},{12,"UIGradient",{Parent={11},Transparency=NumberSequence.new({NumberSequenceKeypoint.new(0,1,0),NumberSequenceKeypoint.new(1,1,0)})}},{13,"TextLabel",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,Font=3,Name="Version",Parent={2},Position=UDim2.new(1,-110,1,-35),Size=UDim2.new(0,105,0,20),Text=b.Version,TextColor3=Color3.new(1,1,1),TextSize=14,TextXAlignment=1}},{14,"UIGradient",{Parent={13},Transparency=NumberSequence.new({NumberSequenceKeypoint.new(0,1,0),NumberSequenceKeypoint.new(1,1,0)})}},{15,"ImageLabel",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,BorderSizePixel=0,Image="rbxassetid://1427967925",Name="Outlines",Parent={2},Position=UDim2.new(0,-5,0,-5),ScaleType=1,Size=UDim2.new(1,10,1,10),SliceCenter=Rect.new(6,6,25,25),TileSize=UDim2.new(0,20,0,20)}},{16,"UIGradient",{Parent={15},Rotation=-30,Transparency=NumberSequence.new({NumberSequenceKeypoint.new(0,1,0),NumberSequenceKeypoint.new(1,1,0)})}},{17,"UIGradient",{Parent={2},Rotation=-30,Transparency=NumberSequence.new({NumberSequenceKeypoint.new(0,1,0),NumberSequenceKeypoint.new(1,1,0)})}},{18,"UIDragDetector",{Parent={2}}}})b.ShowGui(c)local b=c.Main.UIGradient;local d=c.Main.Outlines.UIGradient;local e=c.Main.Holder.UIGradient;local f=c.Main.Holder.Title;local g=c.Main.Holder.Desc;local h=c.Main.Version;local i=h.UIGradient;local j=c.Main.Creator;local k=j.UIGradient;local l=c.Main.Holder.StatusText;local m=c.Main.Holder.ProgressBar;local n=r.TweenService;local o=r.RunService.RenderStepped;local p=o.wait;local o=function(a)if not a then return p(o)end;local b=tick()while tick()-b<a do p(o)end end;l.Text=a;local function a(a,b,c)local d=Instance.new("IntValue")d.Value=0;d.Changed:Connect(c)local a=n:Create(d,b,{Value=a})a:Play()a.Completed:Connect(function()d:Destroy()end)end;local p=TweenInfo.new(0.4,Enum.EasingStyle.Quad,Enum.EasingDirection.Out)a(100,p,function(a)a=a/200;local c=NumberSequenceKeypoint.new(0,0)local e=NumberSequenceKeypoint.new(a,0)local f=NumberSequenceKeypoint.new(math.min(0.5,a+math.min(0.05,a)),1)if e.Time==f.Time then f=e end;local g=NumberSequenceKeypoint.new(1-a,0)local a=NumberSequenceKeypoint.new(math.max(0.5,1-a-math.min(0.05,a)),1)if g.Time==a.Time then a=g end;local h=NumberSequenceKeypoint.new(1,0)b.Transparency=NumberSequence.new({c,e,f,a,g,h})d.Transparency=NumberSequence.new({c,e,f,a,g,h})end)o(0.4)a(100,p,function(a)a=a/166.66;local b=NumberSequenceKeypoint.new(0,0)local c=NumberSequenceKeypoint.new(a,0)local a=NumberSequenceKeypoint.new(a+0.01,1)local d=NumberSequenceKeypoint.new(1,1)e.Transparency=NumberSequence.new({b,c,a,d})end)n:Create(f,p,{Position=UDim2.new(0,60,0,15),TextTransparency=0}):Play()n:Create(g,p,{Position=UDim2.new(0,20,0,60),TextTransparency=0}):Play()local function b(b)a(100,p,function(a)a=a/100;local c=NumberSequenceKeypoint.new(1-a,0)local a=NumberSequenceKeypoint.new(math.max(0,1-a-0.01),1)if c.Time==a.Time then a=c end;local d=NumberSequenceKeypoint.new(0,c==a and 0 or 1)local e=NumberSequenceKeypoint.new(1,0)b.Transparency=NumberSequence.new({d,a,c,e})end)end;b(i)b(k)o(0.9)local b=TweenInfo.new(0.25,Enum.EasingStyle.Quad,Enum.EasingDirection.Out)n:Create(l,b,{Position=UDim2.new(0,20,0,120),TextTransparency=0}):Play()n:Create(m,b,{Position=UDim2.new(0,60,0,145),Size=UDim2.new(0,100,0,4)}):Play()o(0.25)local function i(a,c)l.Text=a;n:Create(m.Bar,b,{Size=UDim2.new(c,0,1,0)}):Play()end;local function k()n:Create(f,b,{TextTransparency=1}):Play()n:Create(g,b,{TextTransparency=1}):Play()n:Create(h,b,{TextTransparency=1}):Play()n:Create(j,b,{TextTransparency=1}):Play()n:Create(l,b,{TextTransparency=1}):Play()n:Create(m,b,{BackgroundTransparency=1}):Play()n:Create(m.Bar,b,{BackgroundTransparency=1}):Play()n:Create(m.ImageLabel,b,{ImageTransparency=1}):Play()a(100,TweenInfo.new(0.4,Enum.EasingStyle.Back,Enum.EasingDirection.In),function(a)a=a/250;local b=NumberSequenceKeypoint.new(0,0)local c=NumberSequenceKeypoint.new(0.6+a,0)local a=NumberSequenceKeypoint.new(math.min(1,0.601+a),1)if c.Time==a.Time then a=c end;local d=NumberSequenceKeypoint.new(1,c==a and 0 or 1)e.Transparency=NumberSequence.new({b,c,a,d})end)o(0.5)c.Main.BackgroundTransparency=1;d.Rotation=30;a(100,p,function(a)a=a/100;local b=NumberSequenceKeypoint.new(0,1)local c=NumberSequenceKeypoint.new(a,1)local a=NumberSequenceKeypoint.new(math.min(1,a+math.min(0.05,a)),0)if c.Time==a.Time then a=c end;local f=NumberSequenceKeypoint.new(1,c==a and 1 or 0)d.Transparency=NumberSequence.new({b,c,a,f})e.Transparency=NumberSequence.new({b,c,a,f})end)o(0.45)c:Destroy()end;return{SetProgress=i,Close=k}end;b.CreateApp=function(a)if b.MenuApps[a.Name]then return end;local c={}local d=b.AppTemplate:Clone()local e=a.Icon;if a.IconMap and e then if type(e)=="number"then a.IconMap:Display(d.Main.Icon,e)elseif type(e)=="string"then a.IconMap:DisplayByKey(d.Main.Icon,e)end elseif type(e)=="string"then d.Main.Icon.Image=e else d.Main.Icon.Image=""end;local function e()d.Main.BackgroundTransparency=a.Open and 0 or(h.CheckMouseInGui(d.Main)and 0 or 1)d.Main.Highlight.Visible=a.Open end;local function f(b)if a.Open then return end;a.Open=true;e()if not b then if a.Window then a.Window:Show()end;if a.OnClick then a.OnClick(a.Open)end end end;local function g(b)if not a.Open then return end;a.Open=false;e()if not b then if a.Window then a.Window:Hide()end;if a.OnClick then a.OnClick(a.Open)end end end;e()local e=r.TextService:GetTextSize(a.Name,14,Enum.Font.SourceSans,Vector2.new(62,999999)).Y;d.Main.Size=UDim2.new(1,0,0,math.clamp(46+e,60,74))d.Main.AppName.Text=a.Name;d.Main.InputBegan:Connect(function(a)if(a.UserInputType==Enum.UserInputType.MouseMovement or a.UserInputType==Enum.UserInputType.Touch)then d.Main.BackgroundTransparency=0;d.Main.BackgroundColor3=v.Theme.ButtonHover end end)d.Main.InputEnded:Connect(function(b)if(b.UserInputType==Enum.UserInputType.MouseMovement or b.UserInputType==Enum.UserInputType.Touch)then d.Main.BackgroundTransparency=a.Open and 0 or 1;d.Main.BackgroundColor3=v.Theme.Button end end)d.Main.MouseButton1Click:Connect(function()if a.Open then g()else f()end end)local e=a.Window;if e then e.OnActivate:Connect(function()f(true)end)e.OnDeactivate:Connect(function()g(true)end)end;d.Visible=true;d.Parent=b.AppsContainer;b.AppsFrame.CanvasSize=UDim2.new(0,0,0,b.AppsContainerGrid.AbsoluteCellCount.Y*82+8)c.Enable=f;c.Disable=g;b.MenuApps[a.Name]=c;return c end;b.SetMainGuiOpen=function(a)b.MainGuiOpen=a;b.MainGui.OpenButton.Text=a and"X"or"Vex"if a then b.MainGui.OpenButton.MainFrame.Visible=true end;b.MainGui.OpenButton.MainFrame:TweenSize(a and UDim2.new(0,224,0,200)or UDim2.new(0,0,0,0),Enum.EasingDirection.Out,Enum.EasingStyle.Quad,0.2,true)r.TweenService:Create(b.MainGui.OpenButton,TweenInfo.new(0.2,Enum.EasingStyle.Quad,Enum.EasingDirection.Out),{BackgroundTransparency=a and 0 or(h.CheckMouseInGui(b.MainGui.OpenButton)and 0 or 0.2)}):Play()if b.MainGuiMouseEvent then b.MainGuiMouseEvent:Disconnect()end;if not a then local a=tick()b.MainGuiCloseTime=a;coroutine.wrap(function()h.FastWait(0.2)if not b.MainGuiOpen and a==b.MainGuiCloseTime then b.MainGui.OpenButton.MainFrame.Visible=false end end)()else b.MainGuiMouseEvent=r.UserInputService.InputBegan:Connect(function(a)if(a.UserInputType==Enum.UserInputType.MouseButton1 or a.UserInputType==Enum.UserInputType.Touch)and not h.CheckMouseInGui(b.MainGui.OpenButton)and not h.CheckMouseInGui(b.MainGui.OpenButton.MainFrame)then b.SetMainGuiOpen(false)end end)end end;b.CreateMainGui=function()local a=z({{1,"ScreenGui",{IgnoreGuiInset=true,Name="MainMenu"}},{2,"TextButton",{AnchorPoint=Vector2.new(0.5,0),AutoButtonColor=false,BackgroundColor3=Color3.new(0.17647059261799,0.17647059261799,0.17647059261799),BorderSizePixel=0,Font=4,Name="OpenButton",Parent={1},Position=UDim2.new(0.5,0,0,2),Size=UDim2.new(0,32,0,32),Text="Vex",TextColor3=Color3.new(1,1,1),TextSize=16,TextTransparency=0.20000000298023}},{3,"UICorner",{CornerRadius=UDim.new(0,4),Parent={2}}},{4,"Frame",{AnchorPoint=Vector2.new(0.5,0),BackgroundColor3=Color3.new(0.17647059261799,0.17647059261799,0.17647059261799),ClipsDescendants=true,Name="MainFrame",Parent={2},Position=UDim2.new(0.5,0,1,-4),Size=UDim2.new(0,224,0,200)}},{5,"UICorner",{CornerRadius=UDim.new(0,4),Parent={4}}},{6,"Frame",{BackgroundColor3=Color3.new(0.20392157137394,0.20392157137394,0.20392157137394),Name="BottomFrame",Parent={4},Position=UDim2.new(0,0,1,-24),Size=UDim2.new(1,0,0,24)}},{7,"UICorner",{CornerRadius=UDim.new(0,4),Parent={6}}},{8,"Frame",{BackgroundColor3=Color3.new(0.20392157137394,0.20392157137394,0.20392157137394),BorderSizePixel=0,Name="CoverFrame",Parent={6},Size=UDim2.new(1,0,0,4)}},{9,"Frame",{BackgroundColor3=Color3.new(0.1294117718935,0.1294117718935,0.1294117718935),BorderSizePixel=0,Name="Line",Parent={8},Position=UDim2.new(0,0,0,-1),Size=UDim2.new(1,0,0,1)}},{10,"TextButton",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,Font=3,Name="Settings",Parent={6},Position=UDim2.new(1,-48,0,0),Size=UDim2.new(0,24,1,0),Text="",TextColor3=Color3.new(1,1,1),TextSize=14}},{11,"ImageLabel",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,Image="rbxassetid://6578871732",ImageTransparency=0.20000000298023,Name="Icon",Parent={10},Position=UDim2.new(0,4,0,4),Size=UDim2.new(0,16,0,16)}},{12,"TextButton",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,Font=3,Name="Information",Parent={6},Position=UDim2.new(1,-24,0,0),Size=UDim2.new(0,24,1,0),Text="",TextColor3=Color3.new(1,1,1),TextSize=14}},{13,"ImageLabel",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,Image="rbxassetid://6578933307",ImageTransparency=0.20000000298023,Name="Icon",Parent={12},Position=UDim2.new(0,4,0,4),Size=UDim2.new(0,16,0,16)}},{14,"ScrollingFrame",{Active=true,AnchorPoint=Vector2.new(0.5,0),BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,BorderColor3=Color3.new(0.1294117718935,0.1294117718935,0.1294117718935),BorderSizePixel=0,Name="AppsFrame",Parent={4},Position=UDim2.new(0.5,0,0,0),ScrollBarImageColor3=Color3.new(0,0,0),ScrollBarThickness=4,Size=UDim2.new(0,222,1,-25)}},{15,"Frame",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,Name="Container",Parent={14},Position=UDim2.new(0,7,0,8),Size=UDim2.new(1,-14,0,2)}},{16,"UIGridLayout",{CellSize=UDim2.new(0,66,0,74),Parent={15},SortOrder=2}},{17,"Frame",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,Name="App",Parent={1},Size=UDim2.new(0,100,0,100),Visible=false}},{18,"TextButton",{AutoButtonColor=false,BackgroundColor3=Color3.new(0.2352941185236,0.2352941185236,0.2352941185236),BorderSizePixel=0,Font=3,Name="Main",Parent={17},Size=UDim2.new(1,0,0,60),Text="",TextColor3=Color3.new(0,0,0),TextSize=14}},{19,"ImageLabel",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,Image="rbxassetid://6579106223",ImageRectSize=Vector2.new(32,32),Name="Icon",Parent={18},Position=UDim2.new(0.5,-16,0,4),ScaleType=4,Size=UDim2.new(0,32,0,32)}},{20,"TextLabel",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,BorderSizePixel=0,Font=3,Name="AppName",Parent={18},Position=UDim2.new(0,2,0,38),Size=UDim2.new(1,-4,1,-40),Text="资源",TextColor3=Color3.new(1,1,1),TextSize=14,TextTransparency=0.10000000149012,TextTruncate=1,TextWrapped=true,TextYAlignment=0}},{21,"Frame",{BackgroundColor3=Color3.new(0,0.66666668653488,1),BorderSizePixel=0,Name="Highlight",Parent={18},Position=UDim2.new(0,0,1,-2),Size=UDim2.new(1,0,0,2)}}})b.MainGui=a;b.AppsFrame=a.OpenButton.MainFrame.AppsFrame;b.AppsContainer=b.AppsFrame.Container;b.AppsContainerGrid=b.AppsContainer.UIGridLayout;b.AppTemplate=a.App;b.MainGuiOpen=false;local f=a.OpenButton;f.BackgroundTransparency=0.2;f.MainFrame.Size=UDim2.new(0,0,0,0)f.MainFrame.Visible=false;f.MouseButton1Click:Connect(function()b.SetMainGuiOpen(not b.MainGuiOpen)end)f.InputBegan:Connect(function(a)if a.UserInputType==Enum.UserInputType.MouseMovement or a.UserInputType==Enum.UserInputType.Touch then r.TweenService:Create(b.MainGui.OpenButton,TweenInfo.new(0,Enum.EasingStyle.Quad,Enum.EasingDirection.Out),{BackgroundTransparency=0}):Play()end end)f.InputEnded:Connect(function(a)if a.UserInputType==Enum.UserInputType.MouseMovement or a.UserInputType==Enum.UserInputType.Touch then r.TweenService:Create(b.MainGui.OpenButton,TweenInfo.new(0,Enum.EasingStyle.Quad,Enum.EasingDirection.Out),{BackgroundTransparency=b.MainGuiOpen and 0 or 0.2}):Play()end end)local g,j;f.MainFrame.BottomFrame.Settings.MouseButton1Click:Connect(function()end)f.MainFrame.BottomFrame.Information.MouseButton1Click:Connect(function()local a=1;local c={"Moon (dex)","Toon (IY dex&PRs)",",_M (翻译)","小Z (功能灵感来源)"}if g then return end;g=true;if not j then j=b.CreateIntro("......")g=true;coroutine.wrap(function()while j do for b,d in pairs(c)do if not j then break end;j.SetProgress(d,1/#c*b)task.wait(a)end end end)()h.FastWait(1.25)g=false else coroutine.wrap(function()j.Close()j=nil;h.FastWait(1.5)g=false end)()end end)b.CreateApp({Name="资源",IconMap=b.LargeIcons,Icon="Explorer",Open=true,Window=c.Window})b.CreateApp({Name="属性",IconMap=b.LargeIcons,Icon="Properties",Open=true,Window=d.Window})b.CreateApp({Name="脚本查看",IconMap=b.LargeIcons,Icon="Script_Viewer",Window=e.Window})local d=nil;b.CreateApp({Name="点击选择物体",IconMap=b.LargeIcons,Icon=6,OnClick=function(a)if a then local a=b.Mouse;d=a.Button1Down:Connect(function()pcall(function()local a=a.Target;if o[a]then p:Set(o[a])c.ViewNode(o[a])end end)end)else if d~=nil then d:Disconnect()d=nil end end end})b.CreateApp({Name="控制台",IconMap=b.LargeIcons,Icon="Output",Window=i.Window})b.CreateApp({Name="保存",IconMap=b.LargeIcons,Icon="Watcher",Window=t.Window})b.CreateApp({Name="选择多个",IconMap=b.LargeIcons,Icon=6,OnClick=function(a)l=a end})b.CreateApp({Name="类名搜索",IconMap=c.ClassIcons,Icon=16.5,OnClick=function(a)m=a end})b.CreateApp({Name="精准搜索",IconMap=c.ClassIcons,Icon=16.5,OnClick=function(a)n=a end})h.ShowGui(a)end;b.SetupFilesystem=function()if not x.writefile or not x.makefolder then return end;local a,a=x.writefile,x.makefolder;a("dex")a("dex/assets")a("dex/saved")a("dex/plugins")a("dex/ModuleCache")end;b.LocalDepsUpToDate=function()return b.DepsVersionData and b.ClientVersion==b.DepsVersionData[1]end;b.Init=function()b.Elevated=pcall(function()local a=r.CoreGui:GetFullName()end)b.Testing=true;b.InitEnv()b.LoadSettings()b.SetupFilesystem()local a=b.CreateIntro("初始化UI")h=b.LoadModule("Lib")h.FastWait()b.MiscIcons=h.IconMap.new("http://www.roblox.com/asset/?id=6511490623",256,256,16,16)b.MiscIcons:SetDict({["Reference"]=0;["Cut"]=1;["Cut_Disabled"]=2;["Copy"]=3;["Copy_Disabled"]=4;["Paste"]=5;["Paste_Disabled"]=6;["Delete"]=7;["Delete_Disabled"]=8;["Group"]=9;["Group_Disabled"]=10;["Ungroup"]=11;["Ungroup_Disabled"]=12;["TeleportTo"]=13;["Rename"]=14;["JumpToParent"]=15;["ExploreData"]=16;["Save"]=17;["CallFunction"]=18;["CallRemote"]=19;["Undo"]=20,["Undo_Disabled"]=21;["Redo"]=22;["Redo_Disabled"]=23;["Expand_Over"]=24;["Expand"]=25;["Collapse_Over"]=26;["Collapse"]=27;["SelectChildren"]=28;["SelectChildren_Disabled"]=29;["InsertObject"]=30;["ViewScript"]=31;["AddStar"]=32;["RemoveStar"]=33;["Script_Disabled"]=34;["LocalScript_Disabled"]=35;["Play"]=36;["Pause"]=37;["Rename_Disabled"]=38})b.LargeIcons=h.IconMap.new("rbxassetid://6579106223",256,256,32,32)b.LargeIcons:SetDict({Explorer=0,Properties=1,Script_Viewer=2,Watcher=3,Output=4})a.SetProgress("正在获取Roblox版本",0.2)if b.Elevated then local a=h.ReadFile("dex/deps_version.dat")b.ClientVersion=Version()if a then b.DepsVersionData=string.split(a,"\n")if b.LocalDepsUpToDate()then b.RobloxVersion=b.DepsVersionData[2]end end;b.RobloxVersion=b.RobloxVersion or s:HttpGet("https://clientsettings.roblox.com/v2/client-version/WindowsStudio64/channel/LIVE"):match("(version%-[%w]+)")if#b.RobloxVersion<1 then b.RobloxVersion=s:HttpGet("https://raw.githubusercontent.com/infyiff/backup/refs/heads/main/deps_version.dat"):gsub("%s+","")end end;a.SetProgress("正在获取API",0.35)u=b.FetchAPI(function()a.SetProgress("正在获取API，网络不好",0.4)end,function()a.SetProgress("正在获取API，网络非常差",0.45)end)h.FastWait()a.SetProgress("正在获取RMD",0.5)j=b.FetchRMD()h.FastWait()if b.Elevated and x.writefile and not b.LocalDepsUpToDate()then x.writefile("dex/deps_version.dat",b.ClientVersion.."\n"..b.RobloxVersion)x.writefile("dex/rbx_api.dat",b.RawAPI)x.writefile("dex/rbx_rmd.dat",b.RawRMD)end;a.SetProgress("加载模块中",0.75)b.AppControls.Lib.InitDeps(b.GetInitDeps())b.LoadModules(function(b)a.SetProgress(b,0.75)wait(9e9)end)h.FastWait()a.SetProgress("初始化模块",0.9)c.Init()d.Init()e.Init()i.Init()t.Init()h.FastWait()a.SetProgress("完成".." 耗时"..math.floor(tick()-k).."s",1)coroutine.wrap(function()h.FastWait(1.25)a.Close()end)()h.Window.Init()b.CreateMainGui()c.Window:Show({Align="right",Pos=1,Size=0.5,Silent=true})d.Window:Show({Align="right",Pos=2,Size=0.5,Silent=true})h.DeferFunc(function()h.Window.ToggleSide("right")end)end;return b end)()b.Init()
